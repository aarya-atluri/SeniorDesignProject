[debug] [2024-04-10T01:24:14.256Z] ----------------------------------------------------------------------
[debug] [2024-04-10T01:24:14.259Z] Command:       C:\Program Files\nodejs\node.exe C:\Users\natcl\AppData\Roaming\npm\node_modules\firebase-tools\lib\bin\firebase.js deploy --only functions
[debug] [2024-04-10T01:24:14.259Z] CLI Version:   13.7.1
[debug] [2024-04-10T01:24:14.259Z] Platform:      win32
[debug] [2024-04-10T01:24:14.259Z] Node Version:  v20.12.1
[debug] [2024-04-10T01:24:14.259Z] Time:          Tue Apr 09 2024 20:24:14 GMT-0500 (Central Daylight Time)
[debug] [2024-04-10T01:24:14.259Z] ----------------------------------------------------------------------
[debug] 
[debug] [2024-04-10T01:24:14.345Z] > command requires scopes: ["email","openid","https://www.googleapis.com/auth/cloudplatformprojects.readonly","https://www.googleapis.com/auth/firebase","https://www.googleapis.com/auth/cloud-platform"]
[debug] [2024-04-10T01:24:14.345Z] > authorizing via signed-in user (natclb08@gmail.com)
[debug] [2024-04-10T01:24:14.346Z] [iam] checking project seniordesign-e83c6 for permissions ["cloudfunctions.functions.create","cloudfunctions.functions.delete","cloudfunctions.functions.get","cloudfunctions.functions.list","cloudfunctions.functions.update","cloudfunctions.operations.get","firebase.projects.get"]
[debug] [2024-04-10T01:24:14.348Z] >>> [apiv2][query] POST https://cloudresourcemanager.googleapis.com/v1/projects/seniordesign-e83c6:testIamPermissions [none]
[debug] [2024-04-10T01:24:14.348Z] >>> [apiv2][(partial)header] POST https://cloudresourcemanager.googleapis.com/v1/projects/seniordesign-e83c6:testIamPermissions x-goog-quota-user=projects/seniordesign-e83c6
[debug] [2024-04-10T01:24:14.348Z] >>> [apiv2][body] POST https://cloudresourcemanager.googleapis.com/v1/projects/seniordesign-e83c6:testIamPermissions {"permissions":["cloudfunctions.functions.create","cloudfunctions.functions.delete","cloudfunctions.functions.get","cloudfunctions.functions.list","cloudfunctions.functions.update","cloudfunctions.operations.get","firebase.projects.get"]}
[debug] [2024-04-10T01:24:14.527Z] <<< [apiv2][status] POST https://cloudresourcemanager.googleapis.com/v1/projects/seniordesign-e83c6:testIamPermissions 200
[debug] [2024-04-10T01:24:14.527Z] <<< [apiv2][body] POST https://cloudresourcemanager.googleapis.com/v1/projects/seniordesign-e83c6:testIamPermissions {"permissions":["cloudfunctions.functions.create","cloudfunctions.functions.delete","cloudfunctions.functions.get","cloudfunctions.functions.list","cloudfunctions.functions.update","cloudfunctions.operations.get","firebase.projects.get"]}
[debug] [2024-04-10T01:24:14.528Z] >>> [apiv2][query] POST https://iam.googleapis.com/v1/projects/seniordesign-e83c6/serviceAccounts/seniordesign-e83c6@appspot.gserviceaccount.com:testIamPermissions [none]
[debug] [2024-04-10T01:24:14.528Z] >>> [apiv2][body] POST https://iam.googleapis.com/v1/projects/seniordesign-e83c6/serviceAccounts/seniordesign-e83c6@appspot.gserviceaccount.com:testIamPermissions {"permissions":["iam.serviceAccounts.actAs"]}
[debug] [2024-04-10T01:24:14.666Z] <<< [apiv2][status] POST https://iam.googleapis.com/v1/projects/seniordesign-e83c6/serviceAccounts/seniordesign-e83c6@appspot.gserviceaccount.com:testIamPermissions 200
[debug] [2024-04-10T01:24:14.667Z] <<< [apiv2][body] POST https://iam.googleapis.com/v1/projects/seniordesign-e83c6/serviceAccounts/seniordesign-e83c6@appspot.gserviceaccount.com:testIamPermissions {"permissions":["iam.serviceAccounts.actAs"]}
[info] 
[info] === Deploying to 'seniordesign-e83c6'...
[info] 
[info] i  deploying functions 
[debug] [2024-04-10T01:24:14.671Z] >>> [apiv2][query] GET https://firebase.googleapis.com/v1beta1/projects/seniordesign-e83c6 [none]
[debug] [2024-04-10T01:24:14.825Z] <<< [apiv2][status] GET https://firebase.googleapis.com/v1beta1/projects/seniordesign-e83c6 200
[debug] [2024-04-10T01:24:14.826Z] <<< [apiv2][body] GET https://firebase.googleapis.com/v1beta1/projects/seniordesign-e83c6 {"projectId":"seniordesign-e83c6","projectNumber":"889627653285","displayName":"SeniorDesign","name":"projects/seniordesign-e83c6","resources":{"hostingSite":"seniordesign-e83c6","realtimeDatabaseInstance":"seniordesign-e83c6-default-rtdb","storageBucket":"seniordesign-e83c6.appspot.com","locationId":"us-central"},"state":"ACTIVE","etag":"1_f790a910-fb13-4180-b2f2-a9711fb88881"}
[info] i  functions: preparing codebase default for deployment 
[info] i  functions: ensuring required API cloudfunctions.googleapis.com is enabled... 
[info] i  functions: ensuring required API cloudbuild.googleapis.com is enabled... 
[info] i  artifactregistry: ensuring required API artifactregistry.googleapis.com is enabled... 
[debug] [2024-04-10T01:24:14.829Z] >>> [apiv2][query] GET https://serviceusage.googleapis.com/v1/projects/seniordesign-e83c6/services/cloudfunctions.googleapis.com [none]
[debug] [2024-04-10T01:24:14.829Z] >>> [apiv2][(partial)header] GET https://serviceusage.googleapis.com/v1/projects/seniordesign-e83c6/services/cloudfunctions.googleapis.com x-goog-quota-user=projects/seniordesign-e83c6
[debug] [2024-04-10T01:24:14.830Z] >>> [apiv2][query] GET https://serviceusage.googleapis.com/v1/projects/seniordesign-e83c6/services/runtimeconfig.googleapis.com [none]
[debug] [2024-04-10T01:24:14.830Z] >>> [apiv2][(partial)header] GET https://serviceusage.googleapis.com/v1/projects/seniordesign-e83c6/services/runtimeconfig.googleapis.com x-goog-quota-user=projects/seniordesign-e83c6
[debug] [2024-04-10T01:24:14.831Z] >>> [apiv2][query] GET https://serviceusage.googleapis.com/v1/projects/seniordesign-e83c6/services/cloudbuild.googleapis.com [none]
[debug] [2024-04-10T01:24:14.832Z] >>> [apiv2][(partial)header] GET https://serviceusage.googleapis.com/v1/projects/seniordesign-e83c6/services/cloudbuild.googleapis.com x-goog-quota-user=projects/seniordesign-e83c6
[debug] [2024-04-10T01:24:14.833Z] >>> [apiv2][query] GET https://serviceusage.googleapis.com/v1/projects/seniordesign-e83c6/services/artifactregistry.googleapis.com [none]
[debug] [2024-04-10T01:24:14.833Z] >>> [apiv2][(partial)header] GET https://serviceusage.googleapis.com/v1/projects/seniordesign-e83c6/services/artifactregistry.googleapis.com x-goog-quota-user=projects/seniordesign-e83c6
[debug] [2024-04-10T01:24:15.100Z] <<< [apiv2][status] GET https://serviceusage.googleapis.com/v1/projects/seniordesign-e83c6/services/artifactregistry.googleapis.com 200
[debug] [2024-04-10T01:24:15.100Z] <<< [apiv2][body] GET https://serviceusage.googleapis.com/v1/projects/seniordesign-e83c6/services/artifactregistry.googleapis.com [omitted]
[info] +  artifactregistry: required API artifactregistry.googleapis.com is enabled 
[debug] [2024-04-10T01:24:15.102Z] <<< [apiv2][status] GET https://serviceusage.googleapis.com/v1/projects/seniordesign-e83c6/services/cloudfunctions.googleapis.com 200
[debug] [2024-04-10T01:24:15.102Z] <<< [apiv2][body] GET https://serviceusage.googleapis.com/v1/projects/seniordesign-e83c6/services/cloudfunctions.googleapis.com [omitted]
[info] +  functions: required API cloudfunctions.googleapis.com is enabled 
[debug] [2024-04-10T01:24:15.103Z] <<< [apiv2][status] GET https://serviceusage.googleapis.com/v1/projects/seniordesign-e83c6/services/cloudbuild.googleapis.com 200
[debug] [2024-04-10T01:24:15.103Z] <<< [apiv2][body] GET https://serviceusage.googleapis.com/v1/projects/seniordesign-e83c6/services/cloudbuild.googleapis.com [omitted]
[info] +  functions: required API cloudbuild.googleapis.com is enabled 
[debug] [2024-04-10T01:24:15.106Z] <<< [apiv2][status] GET https://serviceusage.googleapis.com/v1/projects/seniordesign-e83c6/services/runtimeconfig.googleapis.com 200
[debug] [2024-04-10T01:24:15.106Z] <<< [apiv2][body] GET https://serviceusage.googleapis.com/v1/projects/seniordesign-e83c6/services/runtimeconfig.googleapis.com [omitted]
[debug] [2024-04-10T01:24:15.106Z] >>> [apiv2][query] GET https://firebase.googleapis.com/v1beta1/projects/seniordesign-e83c6/adminSdkConfig [none]
[debug] [2024-04-10T01:24:15.434Z] <<< [apiv2][status] GET https://firebase.googleapis.com/v1beta1/projects/seniordesign-e83c6/adminSdkConfig 200
[debug] [2024-04-10T01:24:15.434Z] <<< [apiv2][body] GET https://firebase.googleapis.com/v1beta1/projects/seniordesign-e83c6/adminSdkConfig {"projectId":"seniordesign-e83c6","databaseURL":"https://seniordesign-e83c6-default-rtdb.firebaseio.com","storageBucket":"seniordesign-e83c6.appspot.com","locationId":"us-central"}
[debug] [2024-04-10T01:24:15.435Z] >>> [apiv2][query] GET https://runtimeconfig.googleapis.com/v1beta1/projects/seniordesign-e83c6/configs [none]
[debug] [2024-04-10T01:24:15.541Z] <<< [apiv2][status] GET https://runtimeconfig.googleapis.com/v1beta1/projects/seniordesign-e83c6/configs 200
[debug] [2024-04-10T01:24:15.542Z] <<< [apiv2][body] GET https://runtimeconfig.googleapis.com/v1beta1/projects/seniordesign-e83c6/configs {"configs":[{"name":"projects/seniordesign-e83c6/configs/openai"},{"name":"projects/seniordesign-e83c6/configs/cloudvision"}]}
[debug] [2024-04-10T01:24:15.542Z] >>> [apiv2][query] GET https://runtimeconfig.googleapis.com/v1beta1/projects/seniordesign-e83c6/configs/openai/variables [none]
[debug] [2024-04-10T01:24:15.542Z] >>> [apiv2][query] GET https://runtimeconfig.googleapis.com/v1beta1/projects/seniordesign-e83c6/configs/cloudvision/variables [none]
[debug] [2024-04-10T01:24:15.623Z] <<< [apiv2][status] GET https://runtimeconfig.googleapis.com/v1beta1/projects/seniordesign-e83c6/configs/openai/variables 200
[debug] [2024-04-10T01:24:15.623Z] <<< [apiv2][body] GET https://runtimeconfig.googleapis.com/v1beta1/projects/seniordesign-e83c6/configs/openai/variables {"variables":[{"name":"projects/seniordesign-e83c6/configs/openai/variables/key","updateTime":"2024-04-10T01:11:06.440829804Z"}]}
[debug] [2024-04-10T01:24:15.624Z] >>> [apiv2][query] GET https://runtimeconfig.googleapis.com/v1beta1/projects/seniordesign-e83c6/configs/openai/variables/key [none]
[debug] [2024-04-10T01:24:15.713Z] <<< [apiv2][status] GET https://runtimeconfig.googleapis.com/v1beta1/projects/seniordesign-e83c6/configs/openai/variables/key 200
[debug] [2024-04-10T01:24:15.713Z] <<< [apiv2][body] GET https://runtimeconfig.googleapis.com/v1beta1/projects/seniordesign-e83c6/configs/openai/variables/key {"name":"projects/seniordesign-e83c6/configs/openai/variables/key","updateTime":"2024-04-10T01:11:06.440829804Z","text":"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"}
[debug] [2024-04-10T01:24:15.793Z] <<< [apiv2][status] GET https://runtimeconfig.googleapis.com/v1beta1/projects/seniordesign-e83c6/configs/cloudvision/variables 200
[debug] [2024-04-10T01:24:15.794Z] <<< [apiv2][body] GET https://runtimeconfig.googleapis.com/v1beta1/projects/seniordesign-e83c6/configs/cloudvision/variables {"variables":[{"name":"projects/seniordesign-e83c6/configs/cloudvision/variables/key","updateTime":"2024-04-08T17:56:04.363427797Z"}]}
[debug] [2024-04-10T01:24:15.794Z] >>> [apiv2][query] GET https://runtimeconfig.googleapis.com/v1beta1/projects/seniordesign-e83c6/configs/cloudvision/variables/key [none]
[debug] [2024-04-10T01:24:15.881Z] <<< [apiv2][status] GET https://runtimeconfig.googleapis.com/v1beta1/projects/seniordesign-e83c6/configs/cloudvision/variables/key 200
[debug] [2024-04-10T01:24:15.881Z] <<< [apiv2][body] GET https://runtimeconfig.googleapis.com/v1beta1/projects/seniordesign-e83c6/configs/cloudvision/variables/key {"name":"projects/seniordesign-e83c6/configs/cloudvision/variables/key","updateTime":"2024-04-08T17:56:04.363427797Z","text":"AIzaSyB0mkcd88GYyoUfIfJQCcPmjXb01Ckb2sE"}
[debug] [2024-04-10T01:24:15.884Z] Validating nodejs source
[debug] [2024-04-10T01:24:17.064Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "lint": "eslint .",
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "18"
  },
  "main": "index.js",
  "dependencies": {
    "firebase-admin": "^11.8.0",
    "firebase-functions": "^4.3.1"
  },
  "devDependencies": {
    "eslint": "^8.15.0",
    "eslint-config-google": "^0.14.0",
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2024-04-10T01:24:17.064Z] Building nodejs source
[info] i  functions: Loading and analyzing source code for codebase default to determine what to deploy 
[debug] [2024-04-10T01:24:17.065Z] Could not find functions.yaml. Must use http discovery
[debug] [2024-04-10T01:24:17.071Z] Found firebase-functions binary at 'C:\Users\natcl\OneDrive\Documents\Spring_2024\Senior_Design\SeniorDesignProject\functions\node_modules\.bin\firebase-functions'
[info] Serving at port 8271

[debug] [2024-04-10T01:24:17.856Z] Got response from /__/functions.yaml {"endpoints":{"processUploadAndRecommend":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"eventTrigger":{"eventType":"google.storage.object.finalize","eventFilters":{"resource":"projects/_/buckets/seniordesign-e83c6.appspot.com"},"retry":false},"labels":{},"entryPoint":"processUploadAndRecommend"}},"specVersion":"v1alpha1","requiredAPIs":[]}
[info] i  functions: preparing functions directory for uploading... 
[info] i  functions: packaged C:\Users\natcl\OneDrive\Documents\Spring_2024\Senior_Design\SeniorDesignProject\functions (75.97 KB) for uploading 
[debug] [2024-04-10T01:24:22.928Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v1/projects/seniordesign-e83c6/locations/-/functions [none]
[debug] [2024-04-10T01:24:23.361Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v1/projects/seniordesign-e83c6/locations/-/functions 200
[debug] [2024-04-10T01:24:23.361Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v1/projects/seniordesign-e83c6/locations/-/functions {}
[debug] [2024-04-10T01:24:23.363Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v2/projects/seniordesign-e83c6/locations/-/functions filter=environment%3D%22GEN_2%22
[debug] [2024-04-10T01:24:23.786Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v2/projects/seniordesign-e83c6/locations/-/functions 200
[debug] [2024-04-10T01:24:23.786Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v2/projects/seniordesign-e83c6/locations/-/functions {}
[debug] [2024-04-10T01:24:23.789Z] >>> [apiv2][query] GET https://firebase.googleapis.com/v1beta1/projects/seniordesign-e83c6 [none]
[debug] [2024-04-10T01:24:23.945Z] <<< [apiv2][status] GET https://firebase.googleapis.com/v1beta1/projects/seniordesign-e83c6 200
[debug] [2024-04-10T01:24:23.945Z] <<< [apiv2][body] GET https://firebase.googleapis.com/v1beta1/projects/seniordesign-e83c6 {"projectId":"seniordesign-e83c6","projectNumber":"889627653285","displayName":"SeniorDesign","name":"projects/seniordesign-e83c6","resources":{"hostingSite":"seniordesign-e83c6","realtimeDatabaseInstance":"seniordesign-e83c6-default-rtdb","storageBucket":"seniordesign-e83c6.appspot.com","locationId":"us-central"},"state":"ACTIVE","etag":"1_f790a910-fb13-4180-b2f2-a9711fb88881"}
[debug] [2024-04-10T01:24:23.946Z] >>> [apiv2][query] POST https://cloudfunctions.googleapis.com/v1/projects/seniordesign-e83c6/locations/us-central1/functions:generateUploadUrl [none]
[debug] [2024-04-10T01:24:23.946Z] >>> [apiv2][body] POST https://cloudfunctions.googleapis.com/v1/projects/seniordesign-e83c6/locations/us-central1/functions:generateUploadUrl {}
[debug] [2024-04-10T01:24:34.697Z] <<< [apiv2][status] POST https://cloudfunctions.googleapis.com/v1/projects/seniordesign-e83c6/locations/us-central1/functions:generateUploadUrl 200
[debug] [2024-04-10T01:24:34.697Z] <<< [apiv2][body] POST https://cloudfunctions.googleapis.com/v1/projects/seniordesign-e83c6/locations/us-central1/functions:generateUploadUrl {"uploadUrl":"https://storage.googleapis.com/uploads-841930861051.us-central1.cloudfunctions.appspot.com/81c98f45-5599-4a13-b324-b4929e9916ec.zip?GoogleAccessId=service-889627653285@gcf-admin-robot.iam.gserviceaccount.com&Expires=1712714075&Signature=G9fePECP19eOc47xdp9XdQwK%2Baj6uD0TrXj1%2FezRsVPFOXFr0wH43TZ1NUpB7AJQIV%2FlU0e%2BAuHyocvgksvMh5RvpX16azzo6m37gGqM6QbbTMRPWhCd%2Fx7dYCPRvw6WtmLRSjum00A828oU4zgEVRI56iez36zK1YMo511TK%2BJUVCMWNBv0PrQa0PzorG49a6fCrkvRLiZ4rcrDwwVPrvTlqhN9Mo09AAr7ppWQAvSCqirQq5PCGm4Zvfj87nNX6mxi26bJLVsb50M%2B8RKISjfESQvMRiX0FjNoauy9odXWWlpbRx2CD9OzKSVHuT1frgGkzlFTk4d0%2FC0BAwbPeA%3D%3D"}
[debug] [2024-04-10T01:24:34.698Z] >>> [apiv2][query] PUT https://storage.googleapis.com/uploads-841930861051.us-central1.cloudfunctions.appspot.com/81c98f45-5599-4a13-b324-b4929e9916ec.zip GoogleAccessId=service-889627653285%40gcf-admin-robot.iam.gserviceaccount.com&Expires=1712714075&Signature=G9fePECP19eOc47xdp9XdQwK%2Baj6uD0TrXj1%2FezRsVPFOXFr0wH43TZ1NUpB7AJQIV%2FlU0e%2BAuHyocvgksvMh5RvpX16azzo6m37gGqM6QbbTMRPWhCd%2Fx7dYCPRvw6WtmLRSjum00A828oU4zgEVRI56iez36zK1YMo511TK%2BJUVCMWNBv0PrQa0PzorG49a6fCrkvRLiZ4rcrDwwVPrvTlqhN9Mo09AAr7ppWQAvSCqirQq5PCGm4Zvfj87nNX6mxi26bJLVsb50M%2B8RKISjfESQvMRiX0FjNoauy9odXWWlpbRx2CD9OzKSVHuT1frgGkzlFTk4d0%2FC0BAwbPeA%3D%3D
[debug] [2024-04-10T01:24:34.698Z] >>> [apiv2][body] PUT https://storage.googleapis.com/uploads-841930861051.us-central1.cloudfunctions.appspot.com/81c98f45-5599-4a13-b324-b4929e9916ec.zip [stream]
[debug] [2024-04-10T01:24:35.155Z] <<< [apiv2][status] PUT https://storage.googleapis.com/uploads-841930861051.us-central1.cloudfunctions.appspot.com/81c98f45-5599-4a13-b324-b4929e9916ec.zip 200
[debug] [2024-04-10T01:24:35.155Z] <<< [apiv2][body] PUT https://storage.googleapis.com/uploads-841930861051.us-central1.cloudfunctions.appspot.com/81c98f45-5599-4a13-b324-b4929e9916ec.zip [omitted]
[info] +  functions: functions folder uploaded successfully 
[info] i  functions: creating Node.js 18 (1st Gen) function processUploadAndRecommend(us-central1)... 
[debug] [2024-04-10T01:24:35.160Z] >>> [apiv2][query] POST https://cloudfunctions.googleapis.com/v1/projects/seniordesign-e83c6/locations/us-central1/functions [none]
[debug] [2024-04-10T01:24:35.160Z] >>> [apiv2][body] POST https://cloudfunctions.googleapis.com/v1/projects/seniordesign-e83c6/locations/us-central1/functions {"name":"projects/seniordesign-e83c6/locations/us-central1/functions/processUploadAndRecommend","sourceUploadUrl":"https://storage.googleapis.com/uploads-841930861051.us-central1.cloudfunctions.appspot.com/81c98f45-5599-4a13-b324-b4929e9916ec.zip?GoogleAccessId=service-889627653285@gcf-admin-robot.iam.gserviceaccount.com&Expires=1712714075&Signature=G9fePECP19eOc47xdp9XdQwK%2Baj6uD0TrXj1%2FezRsVPFOXFr0wH43TZ1NUpB7AJQIV%2FlU0e%2BAuHyocvgksvMh5RvpX16azzo6m37gGqM6QbbTMRPWhCd%2Fx7dYCPRvw6WtmLRSjum00A828oU4zgEVRI56iez36zK1YMo511TK%2BJUVCMWNBv0PrQa0PzorG49a6fCrkvRLiZ4rcrDwwVPrvTlqhN9Mo09AAr7ppWQAvSCqirQq5PCGm4Zvfj87nNX6mxi26bJLVsb50M%2B8RKISjfESQvMRiX0FjNoauy9odXWWlpbRx2CD9OzKSVHuT1frgGkzlFTk4d0%2FC0BAwbPeA%3D%3D","entryPoint":"processUploadAndRecommend","runtime":"nodejs18","dockerRegistry":"ARTIFACT_REGISTRY","labels":{"deployment-tool":"cli-firebase","firebase-functions-hash":"1f85cab4a5f473ca8d33e4c6a0f228dbcc1be472"},"eventTrigger":{"eventType":"google.storage.object.finalize","resource":"projects/_/buckets/seniordesign-e83c6.appspot.com"},"minInstances":null,"maxInstances":null,"ingressSettings":null,"environmentVariables":{"FIREBASE_CONFIG":"{\"projectId\":\"seniordesign-e83c6\",\"databaseURL\":\"https://seniordesign-e83c6-default-rtdb.firebaseio.com\",\"storageBucket\":\"seniordesign-e83c6.appspot.com\",\"locationId\":\"us-central\"}","GCLOUD_PROJECT":"seniordesign-e83c6","EVENTARC_CLOUD_EVENT_SOURCE":"projects/seniordesign-e83c6/locations/us-central1/functions/processUploadAndRecommend"},"serviceAccountEmail":null,"availableMemoryMb":null,"timeout":null,"vpcConnector":null,"vpcConnectorEgressSettings":null,"buildEnvironmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""}}
[debug] [2024-04-10T01:24:35.358Z] <<< [apiv2][status] POST https://cloudfunctions.googleapis.com/v1/projects/seniordesign-e83c6/locations/us-central1/functions 403
[debug] [2024-04-10T01:24:35.358Z] <<< [apiv2][body] POST https://cloudfunctions.googleapis.com/v1/projects/seniordesign-e83c6/locations/us-central1/functions {"error":{"code":403,"message":"Unable to retrieve the repository metadata for projects/seniordesign-e83c6/locations/us-central1/repositories/gcf-artifacts. Ensure that the Cloud Functions service account has 'artifactregistry.repositories.list' and 'artifactregistry.repositories.get' permissions. You can add the permissions by granting the role 'roles/artifactregistry.reader'.","status":"PERMISSION_DENIED"}}
[warn] !  functions: failed to create function projects/seniordesign-e83c6/locations/us-central1/functions/processUploadAndRecommend 
[error] Failed to create function projects/seniordesign-e83c6/locations/us-central1/functions/processUploadAndRecommend
[debug] [2024-04-10T01:24:35.367Z] Total Function Deployment time: 203
[debug] [2024-04-10T01:24:35.367Z] 1 Functions Deployed
[debug] [2024-04-10T01:24:35.367Z] 1 Functions Errored
[debug] [2024-04-10T01:24:35.367Z] 0 Function Deployments Aborted
[debug] [2024-04-10T01:24:35.367Z] Average Function Deployment time: 202
[info] 
[info] Functions deploy had errors with the following functions:
	processUploadAndRecommend(us-central1)
[info] i  functions: cleaning up build files... 
[debug] [2024-04-10T01:24:35.428Z] >>> [apiv2][query] DELETE https://artifactregistry.googleapis.com/v1beta2/projects/seniordesign-e83c6/locations/us-central1/repositories/gcf-artifacts/packages/process_upload_and_recommend [none]
[debug] [2024-04-10T01:24:35.429Z] >>> [apiv2][query] GET https://us.gcr.io/v2/seniordesign-e83c6/gcf/us-central1/tags/list [none]
[debug] [2024-04-10T01:24:35.552Z] <<< [apiv2][status] DELETE https://artifactregistry.googleapis.com/v1beta2/projects/seniordesign-e83c6/locations/us-central1/repositories/gcf-artifacts/packages/process_upload_and_recommend 404
[debug] [2024-04-10T01:24:35.552Z] <<< [apiv2][body] DELETE https://artifactregistry.googleapis.com/v1beta2/projects/seniordesign-e83c6/locations/us-central1/repositories/gcf-artifacts/packages/process_upload_and_recommend {"error":{"code":404,"message":"Package \"projects/seniordesign-e83c6/locations/us-central1/repositories/gcf-artifacts/packages/process_upload_and_recommend\" was not found.","status":"NOT_FOUND"}}
[debug] [2024-04-10T01:24:35.658Z] <<< [apiv2][status] GET https://us.gcr.io/v2/seniordesign-e83c6/gcf/us-central1/tags/list 404
[debug] [2024-04-10T01:24:35.658Z] <<< [apiv2][body] GET https://us.gcr.io/v2/seniordesign-e83c6/gcf/us-central1/tags/list {"errors":[{"code":"NAME_UNKNOWN","message":"Repository \"us.gcr.io\" not found"}]}
[debug] [2024-04-10T01:24:35.659Z] Failed docker command with error  HTTP Error: 404, Not Found {"name":"FirebaseError","children":[],"context":{"body":{"errors":[{"code":"NAME_UNKNOWN","message":"Repository \"us.gcr.io\" not found"}],"error":{"message":"Not Found"}},"response":{"statusCode":404}},"exit":1,"message":"HTTP Error: 404, Not Found","status":404}
[debug] [2024-04-10T01:24:35.666Z] >>> [apiv2][query] GET https://us.gcr.io/v2/seniordesign-e83c6/gcf/us-central1/tags/list [none]
[debug] [2024-04-10T01:24:35.757Z] <<< [apiv2][status] GET https://us.gcr.io/v2/seniordesign-e83c6/gcf/us-central1/tags/list 404
[debug] [2024-04-10T01:24:35.758Z] <<< [apiv2][body] GET https://us.gcr.io/v2/seniordesign-e83c6/gcf/us-central1/tags/list {"errors":[{"code":"NAME_UNKNOWN","message":"Repository \"us.gcr.io\" not found"}]}
[debug] [2024-04-10T01:24:35.758Z] Failed docker command with error  HTTP Error: 404, Not Found {"name":"FirebaseError","children":[],"context":{"body":{"errors":[{"code":"NAME_UNKNOWN","message":"Repository \"us.gcr.io\" not found"}],"error":{"message":"Not Found"}},"response":{"statusCode":404}},"exit":1,"message":"HTTP Error: 404, Not Found","status":404}
[debug] [2024-04-10T01:24:35.869Z] >>> [apiv2][query] GET https://us.gcr.io/v2/seniordesign-e83c6/gcf/us-central1/tags/list [none]
[debug] [2024-04-10T01:24:35.966Z] <<< [apiv2][status] GET https://us.gcr.io/v2/seniordesign-e83c6/gcf/us-central1/tags/list 404
[debug] [2024-04-10T01:24:35.966Z] <<< [apiv2][body] GET https://us.gcr.io/v2/seniordesign-e83c6/gcf/us-central1/tags/list {"errors":[{"code":"NAME_UNKNOWN","message":"Repository \"us.gcr.io\" not found"}]}
[debug] [2024-04-10T01:24:35.967Z] Failed docker command with error  HTTP Error: 404, Not Found {"name":"FirebaseError","children":[],"context":{"body":{"errors":[{"code":"NAME_UNKNOWN","message":"Repository \"us.gcr.io\" not found"}],"error":{"message":"Not Found"}},"response":{"statusCode":404}},"exit":1,"message":"HTTP Error: 404, Not Found","status":404}
[warn] !  functions: Unhandled error cleaning up build images. This could result in a small monthly bill if not corrected. You can attempt to delete these images by redeploying or you can delete them manually at https://console.cloud.google.com/gcr/images/seniordesign-e83c6/us/gcf 
[debug] [2024-04-10T01:24:35.968Z] Functions deploy failed.
[debug] [2024-04-10T01:24:35.968Z] {
  "endpoint": {
    "id": "processUploadAndRecommend",
    "project": "seniordesign-e83c6",
    "region": "us-central1",
    "entryPoint": "processUploadAndRecommend",
    "platform": "gcfv1",
    "runtime": "nodejs18",
    "eventTrigger": {
      "eventType": "google.storage.object.finalize",
      "retry": false,
      "eventFilters": {
        "resource": "projects/_/buckets/seniordesign-e83c6.appspot.com"
      }
    },
    "labels": {
      "deployment-tool": "cli-firebase"
    },
    "ingressSettings": null,
    "availableMemoryMb": null,
    "serviceAccount": null,
    "timeoutSeconds": null,
    "maxInstances": null,
    "minInstances": null,
    "vpc": null,
    "environmentVariables": {
      "FIREBASE_CONFIG": "{\"projectId\":\"seniordesign-e83c6\",\"databaseURL\":\"https://seniordesign-e83c6-default-rtdb.firebaseio.com\",\"storageBucket\":\"seniordesign-e83c6.appspot.com\",\"locationId\":\"us-central\"}",
      "GCLOUD_PROJECT": "seniordesign-e83c6",
      "EVENTARC_CLOUD_EVENT_SOURCE": "projects/seniordesign-e83c6/locations/us-central1/functions/processUploadAndRecommend"
    },
    "codebase": "default",
    "targetedByOnly": false,
    "hash": "1f85cab4a5f473ca8d33e4c6a0f228dbcc1be472"
  },
  "op": "create",
  "original": {
    "name": "FirebaseError",
    "children": [],
    "context": {
      "function": "projects/seniordesign-e83c6/locations/us-central1/functions/processUploadAndRecommend"
    },
    "exit": 1,
    "message": "Failed to create function projects/seniordesign-e83c6/locations/us-central1/functions/processUploadAndRecommend",
    "original": {
      "name": "FirebaseError",
      "children": [],
      "context": {
        "body": {
          "error": {
            "code": 403,
            "message": "Unable to retrieve the repository metadata for projects/seniordesign-e83c6/locations/us-central1/repositories/gcf-artifacts. Ensure that the Cloud Functions service account has 'artifactregistry.repositories.list' and 'artifactregistry.repositories.get' permissions. You can add the permissions by granting the role 'roles/artifactregistry.reader'.",
            "status": "PERMISSION_DENIED"
          }
        },
        "response": {
          "statusCode": 403
        }
      },
      "exit": 1,
      "message": "HTTP Error: 403, Unable to retrieve the repository metadata for projects/seniordesign-e83c6/locations/us-central1/repositories/gcf-artifacts. Ensure that the Cloud Functions service account has 'artifactregistry.repositories.list' and 'artifactregistry.repositories.get' permissions. You can add the permissions by granting the role 'roles/artifactregistry.reader'.",
      "status": 403
    },
    "status": 403,
    "code": 403
  }
}
[debug] [2024-04-10T01:24:35.992Z] Error: Failed to create function processUploadAndRecommend in region us-central1
    at C:\Users\natcl\AppData\Roaming\npm\node_modules\firebase-tools\lib\deploy\functions\release\fabricator.js:51:11
    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)
    at async Fabricator.createV1Function (C:\Users\natcl\AppData\Roaming\npm\node_modules\firebase-tools\lib\deploy\functions\release\fabricator.js:181:32)
    at async Fabricator.createEndpoint (C:\Users\natcl\AppData\Roaming\npm\node_modules\firebase-tools\lib\deploy\functions\release\fabricator.js:133:13)
    at async handle (C:\Users\natcl\AppData\Roaming\npm\node_modules\firebase-tools\lib\deploy\functions\release\fabricator.js:88:17)
[error] 
[error] Error: There was an error deploying functions
[debug] [2024-04-10T01:25:45.646Z] ----------------------------------------------------------------------
[debug] [2024-04-10T01:25:45.649Z] Command:       C:\Program Files\nodejs\node.exe C:\Users\natcl\AppData\Roaming\npm\node_modules\firebase-tools\lib\bin\firebase.js deploy --only functions
[debug] [2024-04-10T01:25:45.650Z] CLI Version:   13.7.1
[debug] [2024-04-10T01:25:45.650Z] Platform:      win32
[debug] [2024-04-10T01:25:45.650Z] Node Version:  v20.12.1
[debug] [2024-04-10T01:25:45.651Z] Time:          Tue Apr 09 2024 20:25:45 GMT-0500 (Central Daylight Time)
[debug] [2024-04-10T01:25:45.651Z] ----------------------------------------------------------------------
[debug] 
[debug] [2024-04-10T01:25:45.742Z] > command requires scopes: ["email","openid","https://www.googleapis.com/auth/cloudplatformprojects.readonly","https://www.googleapis.com/auth/firebase","https://www.googleapis.com/auth/cloud-platform"]
[debug] [2024-04-10T01:25:45.743Z] > authorizing via signed-in user (natclb08@gmail.com)
[debug] [2024-04-10T01:25:45.743Z] [iam] checking project seniordesign-e83c6 for permissions ["cloudfunctions.functions.create","cloudfunctions.functions.delete","cloudfunctions.functions.get","cloudfunctions.functions.list","cloudfunctions.functions.update","cloudfunctions.operations.get","firebase.projects.get"]
[debug] [2024-04-10T01:25:45.745Z] >>> [apiv2][query] POST https://cloudresourcemanager.googleapis.com/v1/projects/seniordesign-e83c6:testIamPermissions [none]
[debug] [2024-04-10T01:25:45.746Z] >>> [apiv2][(partial)header] POST https://cloudresourcemanager.googleapis.com/v1/projects/seniordesign-e83c6:testIamPermissions x-goog-quota-user=projects/seniordesign-e83c6
[debug] [2024-04-10T01:25:45.746Z] >>> [apiv2][body] POST https://cloudresourcemanager.googleapis.com/v1/projects/seniordesign-e83c6:testIamPermissions {"permissions":["cloudfunctions.functions.create","cloudfunctions.functions.delete","cloudfunctions.functions.get","cloudfunctions.functions.list","cloudfunctions.functions.update","cloudfunctions.operations.get","firebase.projects.get"]}
[debug] [2024-04-10T01:25:45.948Z] <<< [apiv2][status] POST https://cloudresourcemanager.googleapis.com/v1/projects/seniordesign-e83c6:testIamPermissions 200
[debug] [2024-04-10T01:25:45.948Z] <<< [apiv2][body] POST https://cloudresourcemanager.googleapis.com/v1/projects/seniordesign-e83c6:testIamPermissions {"permissions":["cloudfunctions.functions.create","cloudfunctions.functions.delete","cloudfunctions.functions.get","cloudfunctions.functions.list","cloudfunctions.functions.update","cloudfunctions.operations.get","firebase.projects.get"]}
[debug] [2024-04-10T01:25:45.949Z] >>> [apiv2][query] POST https://iam.googleapis.com/v1/projects/seniordesign-e83c6/serviceAccounts/seniordesign-e83c6@appspot.gserviceaccount.com:testIamPermissions [none]
[debug] [2024-04-10T01:25:45.949Z] >>> [apiv2][body] POST https://iam.googleapis.com/v1/projects/seniordesign-e83c6/serviceAccounts/seniordesign-e83c6@appspot.gserviceaccount.com:testIamPermissions {"permissions":["iam.serviceAccounts.actAs"]}
[debug] [2024-04-10T01:25:46.120Z] <<< [apiv2][status] POST https://iam.googleapis.com/v1/projects/seniordesign-e83c6/serviceAccounts/seniordesign-e83c6@appspot.gserviceaccount.com:testIamPermissions 200
[debug] [2024-04-10T01:25:46.120Z] <<< [apiv2][body] POST https://iam.googleapis.com/v1/projects/seniordesign-e83c6/serviceAccounts/seniordesign-e83c6@appspot.gserviceaccount.com:testIamPermissions {"permissions":["iam.serviceAccounts.actAs"]}
[info] 
[info] === Deploying to 'seniordesign-e83c6'...
[info] 
[info] i  deploying functions 
[debug] [2024-04-10T01:25:46.125Z] >>> [apiv2][query] GET https://firebase.googleapis.com/v1beta1/projects/seniordesign-e83c6 [none]
[debug] [2024-04-10T01:25:46.309Z] <<< [apiv2][status] GET https://firebase.googleapis.com/v1beta1/projects/seniordesign-e83c6 200
[debug] [2024-04-10T01:25:46.310Z] <<< [apiv2][body] GET https://firebase.googleapis.com/v1beta1/projects/seniordesign-e83c6 {"projectId":"seniordesign-e83c6","projectNumber":"889627653285","displayName":"SeniorDesign","name":"projects/seniordesign-e83c6","resources":{"hostingSite":"seniordesign-e83c6","realtimeDatabaseInstance":"seniordesign-e83c6-default-rtdb","storageBucket":"seniordesign-e83c6.appspot.com","locationId":"us-central"},"state":"ACTIVE","etag":"1_f790a910-fb13-4180-b2f2-a9711fb88881"}
[info] i  functions: preparing codebase default for deployment 
[info] i  functions: ensuring required API cloudfunctions.googleapis.com is enabled... 
[info] i  functions: ensuring required API cloudbuild.googleapis.com is enabled... 
[info] i  artifactregistry: ensuring required API artifactregistry.googleapis.com is enabled... 
[debug] [2024-04-10T01:25:46.312Z] >>> [apiv2][query] GET https://serviceusage.googleapis.com/v1/projects/seniordesign-e83c6/services/cloudfunctions.googleapis.com [none]
[debug] [2024-04-10T01:25:46.312Z] >>> [apiv2][(partial)header] GET https://serviceusage.googleapis.com/v1/projects/seniordesign-e83c6/services/cloudfunctions.googleapis.com x-goog-quota-user=projects/seniordesign-e83c6
[debug] [2024-04-10T01:25:46.314Z] >>> [apiv2][query] GET https://serviceusage.googleapis.com/v1/projects/seniordesign-e83c6/services/runtimeconfig.googleapis.com [none]
[debug] [2024-04-10T01:25:46.314Z] >>> [apiv2][(partial)header] GET https://serviceusage.googleapis.com/v1/projects/seniordesign-e83c6/services/runtimeconfig.googleapis.com x-goog-quota-user=projects/seniordesign-e83c6
[debug] [2024-04-10T01:25:46.315Z] >>> [apiv2][query] GET https://serviceusage.googleapis.com/v1/projects/seniordesign-e83c6/services/cloudbuild.googleapis.com [none]
[debug] [2024-04-10T01:25:46.315Z] >>> [apiv2][(partial)header] GET https://serviceusage.googleapis.com/v1/projects/seniordesign-e83c6/services/cloudbuild.googleapis.com x-goog-quota-user=projects/seniordesign-e83c6
[debug] [2024-04-10T01:25:46.316Z] >>> [apiv2][query] GET https://serviceusage.googleapis.com/v1/projects/seniordesign-e83c6/services/artifactregistry.googleapis.com [none]
[debug] [2024-04-10T01:25:46.317Z] >>> [apiv2][(partial)header] GET https://serviceusage.googleapis.com/v1/projects/seniordesign-e83c6/services/artifactregistry.googleapis.com x-goog-quota-user=projects/seniordesign-e83c6
[debug] [2024-04-10T01:25:46.575Z] <<< [apiv2][status] GET https://serviceusage.googleapis.com/v1/projects/seniordesign-e83c6/services/artifactregistry.googleapis.com 200
[debug] [2024-04-10T01:25:46.576Z] <<< [apiv2][body] GET https://serviceusage.googleapis.com/v1/projects/seniordesign-e83c6/services/artifactregistry.googleapis.com [omitted]
[info] +  artifactregistry: required API artifactregistry.googleapis.com is enabled 
[debug] [2024-04-10T01:25:46.595Z] <<< [apiv2][status] GET https://serviceusage.googleapis.com/v1/projects/seniordesign-e83c6/services/runtimeconfig.googleapis.com 200
[debug] [2024-04-10T01:25:46.595Z] <<< [apiv2][body] GET https://serviceusage.googleapis.com/v1/projects/seniordesign-e83c6/services/runtimeconfig.googleapis.com [omitted]
[debug] [2024-04-10T01:25:46.596Z] <<< [apiv2][status] GET https://serviceusage.googleapis.com/v1/projects/seniordesign-e83c6/services/cloudbuild.googleapis.com 200
[debug] [2024-04-10T01:25:46.596Z] <<< [apiv2][body] GET https://serviceusage.googleapis.com/v1/projects/seniordesign-e83c6/services/cloudbuild.googleapis.com [omitted]
[info] +  functions: required API cloudbuild.googleapis.com is enabled 
[debug] [2024-04-10T01:25:46.619Z] <<< [apiv2][status] GET https://serviceusage.googleapis.com/v1/projects/seniordesign-e83c6/services/cloudfunctions.googleapis.com 200
[debug] [2024-04-10T01:25:46.620Z] <<< [apiv2][body] GET https://serviceusage.googleapis.com/v1/projects/seniordesign-e83c6/services/cloudfunctions.googleapis.com [omitted]
[info] +  functions: required API cloudfunctions.googleapis.com is enabled 
[debug] [2024-04-10T01:25:46.621Z] >>> [apiv2][query] GET https://firebase.googleapis.com/v1beta1/projects/seniordesign-e83c6/adminSdkConfig [none]
[debug] [2024-04-10T01:25:46.912Z] <<< [apiv2][status] GET https://firebase.googleapis.com/v1beta1/projects/seniordesign-e83c6/adminSdkConfig 200
[debug] [2024-04-10T01:25:46.913Z] <<< [apiv2][body] GET https://firebase.googleapis.com/v1beta1/projects/seniordesign-e83c6/adminSdkConfig {"projectId":"seniordesign-e83c6","databaseURL":"https://seniordesign-e83c6-default-rtdb.firebaseio.com","storageBucket":"seniordesign-e83c6.appspot.com","locationId":"us-central"}
[debug] [2024-04-10T01:25:46.913Z] >>> [apiv2][query] GET https://runtimeconfig.googleapis.com/v1beta1/projects/seniordesign-e83c6/configs [none]
[debug] [2024-04-10T01:25:47.026Z] <<< [apiv2][status] GET https://runtimeconfig.googleapis.com/v1beta1/projects/seniordesign-e83c6/configs 200
[debug] [2024-04-10T01:25:47.027Z] <<< [apiv2][body] GET https://runtimeconfig.googleapis.com/v1beta1/projects/seniordesign-e83c6/configs {"configs":[{"name":"projects/seniordesign-e83c6/configs/openai"},{"name":"projects/seniordesign-e83c6/configs/cloudvision"}]}
[debug] [2024-04-10T01:25:47.027Z] >>> [apiv2][query] GET https://runtimeconfig.googleapis.com/v1beta1/projects/seniordesign-e83c6/configs/openai/variables [none]
[debug] [2024-04-10T01:25:47.027Z] >>> [apiv2][query] GET https://runtimeconfig.googleapis.com/v1beta1/projects/seniordesign-e83c6/configs/cloudvision/variables [none]
[debug] [2024-04-10T01:25:47.135Z] <<< [apiv2][status] GET https://runtimeconfig.googleapis.com/v1beta1/projects/seniordesign-e83c6/configs/openai/variables 200
[debug] [2024-04-10T01:25:47.135Z] <<< [apiv2][body] GET https://runtimeconfig.googleapis.com/v1beta1/projects/seniordesign-e83c6/configs/openai/variables {"variables":[{"name":"projects/seniordesign-e83c6/configs/openai/variables/key","updateTime":"2024-04-10T01:11:06.440829804Z"}]}
[debug] [2024-04-10T01:25:47.136Z] >>> [apiv2][query] GET https://runtimeconfig.googleapis.com/v1beta1/projects/seniordesign-e83c6/configs/openai/variables/key [none]
[debug] [2024-04-10T01:25:47.149Z] <<< [apiv2][status] GET https://runtimeconfig.googleapis.com/v1beta1/projects/seniordesign-e83c6/configs/cloudvision/variables 200
[debug] [2024-04-10T01:25:47.149Z] <<< [apiv2][body] GET https://runtimeconfig.googleapis.com/v1beta1/projects/seniordesign-e83c6/configs/cloudvision/variables {"variables":[{"name":"projects/seniordesign-e83c6/configs/cloudvision/variables/key","updateTime":"2024-04-08T17:56:04.363427797Z"}]}
[debug] [2024-04-10T01:25:47.149Z] >>> [apiv2][query] GET https://runtimeconfig.googleapis.com/v1beta1/projects/seniordesign-e83c6/configs/cloudvision/variables/key [none]
[debug] [2024-04-10T01:25:47.248Z] <<< [apiv2][status] GET https://runtimeconfig.googleapis.com/v1beta1/projects/seniordesign-e83c6/configs/cloudvision/variables/key 200
[debug] [2024-04-10T01:25:47.248Z] <<< [apiv2][body] GET https://runtimeconfig.googleapis.com/v1beta1/projects/seniordesign-e83c6/configs/cloudvision/variables/key {"name":"projects/seniordesign-e83c6/configs/cloudvision/variables/key","updateTime":"2024-04-08T17:56:04.363427797Z","text":"AIzaSyB0mkcd88GYyoUfIfJQCcPmjXb01Ckb2sE"}
[debug] [2024-04-10T01:25:47.280Z] <<< [apiv2][status] GET https://runtimeconfig.googleapis.com/v1beta1/projects/seniordesign-e83c6/configs/openai/variables/key 200
[debug] [2024-04-10T01:25:47.280Z] <<< [apiv2][body] GET https://runtimeconfig.googleapis.com/v1beta1/projects/seniordesign-e83c6/configs/openai/variables/key {"name":"projects/seniordesign-e83c6/configs/openai/variables/key","updateTime":"2024-04-10T01:11:06.440829804Z","text":"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"}
[debug] [2024-04-10T01:25:47.282Z] Validating nodejs source
[debug] [2024-04-10T01:25:48.614Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "lint": "eslint .",
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "18"
  },
  "main": "index.js",
  "dependencies": {
    "firebase-admin": "^11.8.0",
    "firebase-functions": "^4.3.1"
  },
  "devDependencies": {
    "eslint": "^8.15.0",
    "eslint-config-google": "^0.14.0",
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2024-04-10T01:25:48.614Z] Building nodejs source
[info] i  functions: Loading and analyzing source code for codebase default to determine what to deploy 
[debug] [2024-04-10T01:25:48.616Z] Could not find functions.yaml. Must use http discovery
[debug] [2024-04-10T01:25:48.624Z] Found firebase-functions binary at 'C:\Users\natcl\OneDrive\Documents\Spring_2024\Senior_Design\SeniorDesignProject\functions\node_modules\.bin\firebase-functions'
[info] Serving at port 8388

[debug] [2024-04-10T01:25:49.483Z] Got response from /__/functions.yaml {"endpoints":{"processUploadAndRecommend":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"eventTrigger":{"eventType":"google.storage.object.finalize","eventFilters":{"resource":"projects/_/buckets/seniordesign-e83c6.appspot.com"},"retry":false},"labels":{},"entryPoint":"processUploadAndRecommend"}},"specVersion":"v1alpha1","requiredAPIs":[]}
[info] i  functions: preparing functions directory for uploading... 
[info] i  functions: packaged C:\Users\natcl\OneDrive\Documents\Spring_2024\Senior_Design\SeniorDesignProject\functions (75.97 KB) for uploading 
[debug] [2024-04-10T01:25:54.564Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v1/projects/seniordesign-e83c6/locations/-/functions [none]
[debug] [2024-04-10T01:25:55.033Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v1/projects/seniordesign-e83c6/locations/-/functions 200
[debug] [2024-04-10T01:25:55.033Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v1/projects/seniordesign-e83c6/locations/-/functions {}
[debug] [2024-04-10T01:25:55.034Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v2/projects/seniordesign-e83c6/locations/-/functions filter=environment%3D%22GEN_2%22
[debug] [2024-04-10T01:25:55.433Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v2/projects/seniordesign-e83c6/locations/-/functions 200
[debug] [2024-04-10T01:25:55.434Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v2/projects/seniordesign-e83c6/locations/-/functions {}
[debug] [2024-04-10T01:25:55.436Z] >>> [apiv2][query] GET https://firebase.googleapis.com/v1beta1/projects/seniordesign-e83c6 [none]
[debug] [2024-04-10T01:25:55.555Z] <<< [apiv2][status] GET https://firebase.googleapis.com/v1beta1/projects/seniordesign-e83c6 200
[debug] [2024-04-10T01:25:55.556Z] <<< [apiv2][body] GET https://firebase.googleapis.com/v1beta1/projects/seniordesign-e83c6 {"projectId":"seniordesign-e83c6","projectNumber":"889627653285","displayName":"SeniorDesign","name":"projects/seniordesign-e83c6","resources":{"hostingSite":"seniordesign-e83c6","realtimeDatabaseInstance":"seniordesign-e83c6-default-rtdb","storageBucket":"seniordesign-e83c6.appspot.com","locationId":"us-central"},"state":"ACTIVE","etag":"1_f790a910-fb13-4180-b2f2-a9711fb88881"}
[debug] [2024-04-10T01:25:55.557Z] >>> [apiv2][query] POST https://cloudfunctions.googleapis.com/v1/projects/seniordesign-e83c6/locations/us-central1/functions:generateUploadUrl [none]
[debug] [2024-04-10T01:25:55.558Z] >>> [apiv2][body] POST https://cloudfunctions.googleapis.com/v1/projects/seniordesign-e83c6/locations/us-central1/functions:generateUploadUrl {}
[debug] [2024-04-10T01:25:56.027Z] <<< [apiv2][status] POST https://cloudfunctions.googleapis.com/v1/projects/seniordesign-e83c6/locations/us-central1/functions:generateUploadUrl 200
[debug] [2024-04-10T01:25:56.027Z] <<< [apiv2][body] POST https://cloudfunctions.googleapis.com/v1/projects/seniordesign-e83c6/locations/us-central1/functions:generateUploadUrl {"uploadUrl":"https://storage.googleapis.com/uploads-841930861051.us-central1.cloudfunctions.appspot.com/ba34095c-6985-4f7d-a1d0-db83666aeda3.zip?GoogleAccessId=service-889627653285@gcf-admin-robot.iam.gserviceaccount.com&Expires=1712714156&Signature=VhHMlpciH6KqhoQ7o1Se1FDcK1F6LD98BxoiqXn%2Bx%2BsxfhAVg1bPIY%2FvcGnI%2BoP1owRRb3NpLgirPInVTdNKCL33ewFt3ixotwOhYC25fQ0cY%2Bv1b0hgmU1WRbzhFe8ZHFAh5RDPRAn5avQzZ9r6v7yK4Xx1duLk8HRNDWycYYS0YcBeYT%2B3J2jVPK4XdU0bz2aoO8YEv7IFEtNr6DOzhfT2YOpiNLArV8M8IAEay0h2s7sYECoGuDgvlr7CQCKrQIeRNn4je1p5ysyjgRAjIAKSP5QsnPvx%2FVgh5IQc6hMSxlwB4jFwut0Z9N%2BqVocEa3QnDlXUgRd4UObSPnYsog%3D%3D"}
[debug] [2024-04-10T01:25:56.028Z] >>> [apiv2][query] PUT https://storage.googleapis.com/uploads-841930861051.us-central1.cloudfunctions.appspot.com/ba34095c-6985-4f7d-a1d0-db83666aeda3.zip GoogleAccessId=service-889627653285%40gcf-admin-robot.iam.gserviceaccount.com&Expires=1712714156&Signature=VhHMlpciH6KqhoQ7o1Se1FDcK1F6LD98BxoiqXn%2Bx%2BsxfhAVg1bPIY%2FvcGnI%2BoP1owRRb3NpLgirPInVTdNKCL33ewFt3ixotwOhYC25fQ0cY%2Bv1b0hgmU1WRbzhFe8ZHFAh5RDPRAn5avQzZ9r6v7yK4Xx1duLk8HRNDWycYYS0YcBeYT%2B3J2jVPK4XdU0bz2aoO8YEv7IFEtNr6DOzhfT2YOpiNLArV8M8IAEay0h2s7sYECoGuDgvlr7CQCKrQIeRNn4je1p5ysyjgRAjIAKSP5QsnPvx%2FVgh5IQc6hMSxlwB4jFwut0Z9N%2BqVocEa3QnDlXUgRd4UObSPnYsog%3D%3D
[debug] [2024-04-10T01:25:56.028Z] >>> [apiv2][body] PUT https://storage.googleapis.com/uploads-841930861051.us-central1.cloudfunctions.appspot.com/ba34095c-6985-4f7d-a1d0-db83666aeda3.zip [stream]
[debug] [2024-04-10T01:25:56.298Z] <<< [apiv2][status] PUT https://storage.googleapis.com/uploads-841930861051.us-central1.cloudfunctions.appspot.com/ba34095c-6985-4f7d-a1d0-db83666aeda3.zip 200
[debug] [2024-04-10T01:25:56.299Z] <<< [apiv2][body] PUT https://storage.googleapis.com/uploads-841930861051.us-central1.cloudfunctions.appspot.com/ba34095c-6985-4f7d-a1d0-db83666aeda3.zip [omitted]
[info] +  functions: functions folder uploaded successfully 
[info] i  functions: creating Node.js 18 (1st Gen) function processUploadAndRecommend(us-central1)... 
[debug] [2024-04-10T01:25:56.304Z] >>> [apiv2][query] POST https://cloudfunctions.googleapis.com/v1/projects/seniordesign-e83c6/locations/us-central1/functions [none]
[debug] [2024-04-10T01:25:56.304Z] >>> [apiv2][body] POST https://cloudfunctions.googleapis.com/v1/projects/seniordesign-e83c6/locations/us-central1/functions {"name":"projects/seniordesign-e83c6/locations/us-central1/functions/processUploadAndRecommend","sourceUploadUrl":"https://storage.googleapis.com/uploads-841930861051.us-central1.cloudfunctions.appspot.com/ba34095c-6985-4f7d-a1d0-db83666aeda3.zip?GoogleAccessId=service-889627653285@gcf-admin-robot.iam.gserviceaccount.com&Expires=1712714156&Signature=VhHMlpciH6KqhoQ7o1Se1FDcK1F6LD98BxoiqXn%2Bx%2BsxfhAVg1bPIY%2FvcGnI%2BoP1owRRb3NpLgirPInVTdNKCL33ewFt3ixotwOhYC25fQ0cY%2Bv1b0hgmU1WRbzhFe8ZHFAh5RDPRAn5avQzZ9r6v7yK4Xx1duLk8HRNDWycYYS0YcBeYT%2B3J2jVPK4XdU0bz2aoO8YEv7IFEtNr6DOzhfT2YOpiNLArV8M8IAEay0h2s7sYECoGuDgvlr7CQCKrQIeRNn4je1p5ysyjgRAjIAKSP5QsnPvx%2FVgh5IQc6hMSxlwB4jFwut0Z9N%2BqVocEa3QnDlXUgRd4UObSPnYsog%3D%3D","entryPoint":"processUploadAndRecommend","runtime":"nodejs18","dockerRegistry":"ARTIFACT_REGISTRY","labels":{"deployment-tool":"cli-firebase","firebase-functions-hash":"1f85cab4a5f473ca8d33e4c6a0f228dbcc1be472"},"eventTrigger":{"eventType":"google.storage.object.finalize","resource":"projects/_/buckets/seniordesign-e83c6.appspot.com"},"minInstances":null,"maxInstances":null,"ingressSettings":null,"environmentVariables":{"FIREBASE_CONFIG":"{\"projectId\":\"seniordesign-e83c6\",\"databaseURL\":\"https://seniordesign-e83c6-default-rtdb.firebaseio.com\",\"storageBucket\":\"seniordesign-e83c6.appspot.com\",\"locationId\":\"us-central\"}","GCLOUD_PROJECT":"seniordesign-e83c6","EVENTARC_CLOUD_EVENT_SOURCE":"projects/seniordesign-e83c6/locations/us-central1/functions/processUploadAndRecommend"},"serviceAccountEmail":null,"availableMemoryMb":null,"timeout":null,"vpcConnector":null,"vpcConnectorEgressSettings":null,"buildEnvironmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""}}
[debug] [2024-04-10T01:25:56.839Z] <<< [apiv2][status] POST https://cloudfunctions.googleapis.com/v1/projects/seniordesign-e83c6/locations/us-central1/functions 200
[debug] [2024-04-10T01:25:56.840Z] <<< [apiv2][body] POST https://cloudfunctions.googleapis.com/v1/projects/seniordesign-e83c6/locations/us-central1/functions {"name":"operations/c2VuaW9yZGVzaWduLWU4M2M2L3VzLWNlbnRyYWwxL3Byb2Nlc3NVcGxvYWRBbmRSZWNvbW1lbmQvSnpWRU1yRDJ4YUk","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v1.OperationMetadataV1","target":"projects/seniordesign-e83c6/locations/us-central1/functions/processUploadAndRecommend","type":"CREATE_FUNCTION","request":{"@type":"type.googleapis.com/google.cloud.functions.v1.CloudFunction","name":"projects/seniordesign-e83c6/locations/us-central1/functions/processUploadAndRecommend","eventTrigger":{"eventType":"google.storage.object.finalize","resource":"projects/_/buckets/seniordesign-e83c6.appspot.com"},"entryPoint":"processUploadAndRecommend","labels":{"deployment-tool":"cli-firebase","firebase-functions-hash":"1f85cab4a5f473ca8d33e4c6a0f228dbcc1be472"},"sourceUploadUrl":"https://storage.googleapis.com/uploads-841930861051.us-central1.cloudfunctions.appspot.com/ba34095c-6985-4f7d-a1d0-db83666aeda3.zip?GoogleAccessId=service-889627653285@gcf-admin-robot.iam.gserviceaccount.com&Expires=1712714156&Signature=VhHMlpciH6KqhoQ7o1Se1FDcK1F6LD98BxoiqXn%2Bx%2BsxfhAVg1bPIY%2FvcGnI%2BoP1owRRb3NpLgirPInVTdNKCL33ewFt3ixotwOhYC25fQ0cY%2Bv1b0hgmU1WRbzhFe8ZHFAh5RDPRAn5avQzZ9r6v7yK4Xx1duLk8HRNDWycYYS0YcBeYT%2B3J2jVPK4XdU0bz2aoO8YEv7IFEtNr6DOzhfT2YOpiNLArV8M8IAEay0h2s7sYECoGuDgvlr7CQCKrQIeRNn4je1p5ysyjgRAjIAKSP5QsnPvx%2FVgh5IQc6hMSxlwB4jFwut0Z9N%2BqVocEa3QnDlXUgRd4UObSPnYsog%3D%3D","environmentVariables":{"FIREBASE_CONFIG":"{\"projectId\":\"seniordesign-e83c6\",\"databaseURL\":\"https://seniordesign-e83c6-default-rtdb.firebaseio.com\",\"storageBucket\":\"seniordesign-e83c6.appspot.com\",\"locationId\":\"us-central\"}","GCLOUD_PROJECT":"seniordesign-e83c6","EVENTARC_CLOUD_EVENT_SOURCE":"projects/seniordesign-e83c6/locations/us-central1/functions/processUploadAndRecommend"},"runtime":"nodejs18","buildEnvironmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"dockerRegistry":"ARTIFACT_REGISTRY"},"versionId":"1","updateTime":"2024-04-10T01:25:57Z"}}
[debug] [2024-04-10T01:25:56.840Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v1/operations/c2VuaW9yZGVzaWduLWU4M2M2L3VzLWNlbnRyYWwxL3Byb2Nlc3NVcGxvYWRBbmRSZWNvbW1lbmQvSnpWRU1yRDJ4YUk [none]
[debug] [2024-04-10T01:25:56.957Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v1/operations/c2VuaW9yZGVzaWduLWU4M2M2L3VzLWNlbnRyYWwxL3Byb2Nlc3NVcGxvYWRBbmRSZWNvbW1lbmQvSnpWRU1yRDJ4YUk 200
[debug] [2024-04-10T01:25:56.957Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v1/operations/c2VuaW9yZGVzaWduLWU4M2M2L3VzLWNlbnRyYWwxL3Byb2Nlc3NVcGxvYWRBbmRSZWNvbW1lbmQvSnpWRU1yRDJ4YUk {"name":"operations/c2VuaW9yZGVzaWduLWU4M2M2L3VzLWNlbnRyYWwxL3Byb2Nlc3NVcGxvYWRBbmRSZWNvbW1lbmQvSnpWRU1yRDJ4YUk","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v1.OperationMetadataV1","target":"projects/seniordesign-e83c6/locations/us-central1/functions/processUploadAndRecommend","type":"CREATE_FUNCTION","request":{"@type":"type.googleapis.com/google.cloud.functions.v1.CloudFunction","name":"projects/seniordesign-e83c6/locations/us-central1/functions/processUploadAndRecommend","eventTrigger":{"eventType":"google.storage.object.finalize","resource":"projects/_/buckets/seniordesign-e83c6.appspot.com"},"entryPoint":"processUploadAndRecommend","labels":{"deployment-tool":"cli-firebase","firebase-functions-hash":"1f85cab4a5f473ca8d33e4c6a0f228dbcc1be472"},"sourceUploadUrl":"https://storage.googleapis.com/uploads-841930861051.us-central1.cloudfunctions.appspot.com/ba34095c-6985-4f7d-a1d0-db83666aeda3.zip?GoogleAccessId=service-889627653285@gcf-admin-robot.iam.gserviceaccount.com&Expires=1712714156&Signature=VhHMlpciH6KqhoQ7o1Se1FDcK1F6LD98BxoiqXn%2Bx%2BsxfhAVg1bPIY%2FvcGnI%2BoP1owRRb3NpLgirPInVTdNKCL33ewFt3ixotwOhYC25fQ0cY%2Bv1b0hgmU1WRbzhFe8ZHFAh5RDPRAn5avQzZ9r6v7yK4Xx1duLk8HRNDWycYYS0YcBeYT%2B3J2jVPK4XdU0bz2aoO8YEv7IFEtNr6DOzhfT2YOpiNLArV8M8IAEay0h2s7sYECoGuDgvlr7CQCKrQIeRNn4je1p5ysyjgRAjIAKSP5QsnPvx%2FVgh5IQc6hMSxlwB4jFwut0Z9N%2BqVocEa3QnDlXUgRd4UObSPnYsog%3D%3D","environmentVariables":{"FIREBASE_CONFIG":"{\"projectId\":\"seniordesign-e83c6\",\"databaseURL\":\"https://seniordesign-e83c6-default-rtdb.firebaseio.com\",\"storageBucket\":\"seniordesign-e83c6.appspot.com\",\"locationId\":\"us-central\"}","GCLOUD_PROJECT":"seniordesign-e83c6","EVENTARC_CLOUD_EVENT_SOURCE":"projects/seniordesign-e83c6/locations/us-central1/functions/processUploadAndRecommend"},"runtime":"nodejs18","buildEnvironmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"dockerRegistry":"ARTIFACT_REGISTRY"},"versionId":"1","updateTime":"2024-04-10T01:25:57Z"}}
[debug] [2024-04-10T01:25:57.461Z] [create-default-us-central1-processUploadAndRecommend] Retrying task index 0
[debug] [2024-04-10T01:25:57.461Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v1/operations/c2VuaW9yZGVzaWduLWU4M2M2L3VzLWNlbnRyYWwxL3Byb2Nlc3NVcGxvYWRBbmRSZWNvbW1lbmQvSnpWRU1yRDJ4YUk [none]
[debug] [2024-04-10T01:25:57.628Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v1/operations/c2VuaW9yZGVzaWduLWU4M2M2L3VzLWNlbnRyYWwxL3Byb2Nlc3NVcGxvYWRBbmRSZWNvbW1lbmQvSnpWRU1yRDJ4YUk 200
[debug] [2024-04-10T01:25:57.629Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v1/operations/c2VuaW9yZGVzaWduLWU4M2M2L3VzLWNlbnRyYWwxL3Byb2Nlc3NVcGxvYWRBbmRSZWNvbW1lbmQvSnpWRU1yRDJ4YUk {"name":"operations/c2VuaW9yZGVzaWduLWU4M2M2L3VzLWNlbnRyYWwxL3Byb2Nlc3NVcGxvYWRBbmRSZWNvbW1lbmQvSnpWRU1yRDJ4YUk","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v1.OperationMetadataV1","target":"projects/seniordesign-e83c6/locations/us-central1/functions/processUploadAndRecommend","type":"CREATE_FUNCTION","request":{"@type":"type.googleapis.com/google.cloud.functions.v1.CloudFunction","name":"projects/seniordesign-e83c6/locations/us-central1/functions/processUploadAndRecommend","eventTrigger":{"eventType":"google.storage.object.finalize","resource":"projects/_/buckets/seniordesign-e83c6.appspot.com"},"entryPoint":"processUploadAndRecommend","labels":{"deployment-tool":"cli-firebase","firebase-functions-hash":"1f85cab4a5f473ca8d33e4c6a0f228dbcc1be472"},"sourceUploadUrl":"https://storage.googleapis.com/uploads-841930861051.us-central1.cloudfunctions.appspot.com/ba34095c-6985-4f7d-a1d0-db83666aeda3.zip?GoogleAccessId=service-889627653285@gcf-admin-robot.iam.gserviceaccount.com&Expires=1712714156&Signature=VhHMlpciH6KqhoQ7o1Se1FDcK1F6LD98BxoiqXn%2Bx%2BsxfhAVg1bPIY%2FvcGnI%2BoP1owRRb3NpLgirPInVTdNKCL33ewFt3ixotwOhYC25fQ0cY%2Bv1b0hgmU1WRbzhFe8ZHFAh5RDPRAn5avQzZ9r6v7yK4Xx1duLk8HRNDWycYYS0YcBeYT%2B3J2jVPK4XdU0bz2aoO8YEv7IFEtNr6DOzhfT2YOpiNLArV8M8IAEay0h2s7sYECoGuDgvlr7CQCKrQIeRNn4je1p5ysyjgRAjIAKSP5QsnPvx%2FVgh5IQc6hMSxlwB4jFwut0Z9N%2BqVocEa3QnDlXUgRd4UObSPnYsog%3D%3D","environmentVariables":{"FIREBASE_CONFIG":"{\"projectId\":\"seniordesign-e83c6\",\"databaseURL\":\"https://seniordesign-e83c6-default-rtdb.firebaseio.com\",\"storageBucket\":\"seniordesign-e83c6.appspot.com\",\"locationId\":\"us-central\"}","GCLOUD_PROJECT":"seniordesign-e83c6","EVENTARC_CLOUD_EVENT_SOURCE":"projects/seniordesign-e83c6/locations/us-central1/functions/processUploadAndRecommend"},"runtime":"nodejs18","buildEnvironmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"dockerRegistry":"ARTIFACT_REGISTRY"},"versionId":"1","updateTime":"2024-04-10T01:25:57Z"}}
[debug] [2024-04-10T01:25:58.633Z] [create-default-us-central1-processUploadAndRecommend] Retrying task index 0
[debug] [2024-04-10T01:25:58.633Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v1/operations/c2VuaW9yZGVzaWduLWU4M2M2L3VzLWNlbnRyYWwxL3Byb2Nlc3NVcGxvYWRBbmRSZWNvbW1lbmQvSnpWRU1yRDJ4YUk [none]
[debug] [2024-04-10T01:25:58.784Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v1/operations/c2VuaW9yZGVzaWduLWU4M2M2L3VzLWNlbnRyYWwxL3Byb2Nlc3NVcGxvYWRBbmRSZWNvbW1lbmQvSnpWRU1yRDJ4YUk 200
[debug] [2024-04-10T01:25:58.784Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v1/operations/c2VuaW9yZGVzaWduLWU4M2M2L3VzLWNlbnRyYWwxL3Byb2Nlc3NVcGxvYWRBbmRSZWNvbW1lbmQvSnpWRU1yRDJ4YUk {"name":"operations/c2VuaW9yZGVzaWduLWU4M2M2L3VzLWNlbnRyYWwxL3Byb2Nlc3NVcGxvYWRBbmRSZWNvbW1lbmQvSnpWRU1yRDJ4YUk","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v1.OperationMetadataV1","target":"projects/seniordesign-e83c6/locations/us-central1/functions/processUploadAndRecommend","type":"CREATE_FUNCTION","request":{"@type":"type.googleapis.com/google.cloud.functions.v1.CloudFunction","name":"projects/seniordesign-e83c6/locations/us-central1/functions/processUploadAndRecommend","eventTrigger":{"eventType":"google.storage.object.finalize","resource":"projects/_/buckets/seniordesign-e83c6.appspot.com"},"entryPoint":"processUploadAndRecommend","labels":{"deployment-tool":"cli-firebase","firebase-functions-hash":"1f85cab4a5f473ca8d33e4c6a0f228dbcc1be472"},"sourceUploadUrl":"https://storage.googleapis.com/uploads-841930861051.us-central1.cloudfunctions.appspot.com/ba34095c-6985-4f7d-a1d0-db83666aeda3.zip?GoogleAccessId=service-889627653285@gcf-admin-robot.iam.gserviceaccount.com&Expires=1712714156&Signature=VhHMlpciH6KqhoQ7o1Se1FDcK1F6LD98BxoiqXn%2Bx%2BsxfhAVg1bPIY%2FvcGnI%2BoP1owRRb3NpLgirPInVTdNKCL33ewFt3ixotwOhYC25fQ0cY%2Bv1b0hgmU1WRbzhFe8ZHFAh5RDPRAn5avQzZ9r6v7yK4Xx1duLk8HRNDWycYYS0YcBeYT%2B3J2jVPK4XdU0bz2aoO8YEv7IFEtNr6DOzhfT2YOpiNLArV8M8IAEay0h2s7sYECoGuDgvlr7CQCKrQIeRNn4je1p5ysyjgRAjIAKSP5QsnPvx%2FVgh5IQc6hMSxlwB4jFwut0Z9N%2BqVocEa3QnDlXUgRd4UObSPnYsog%3D%3D","environmentVariables":{"FIREBASE_CONFIG":"{\"projectId\":\"seniordesign-e83c6\",\"databaseURL\":\"https://seniordesign-e83c6-default-rtdb.firebaseio.com\",\"storageBucket\":\"seniordesign-e83c6.appspot.com\",\"locationId\":\"us-central\"}","GCLOUD_PROJECT":"seniordesign-e83c6","EVENTARC_CLOUD_EVENT_SOURCE":"projects/seniordesign-e83c6/locations/us-central1/functions/processUploadAndRecommend"},"runtime":"nodejs18","buildEnvironmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"dockerRegistry":"ARTIFACT_REGISTRY"},"versionId":"1","updateTime":"2024-04-10T01:25:57Z"}}
[debug] [2024-04-10T01:26:00.796Z] [create-default-us-central1-processUploadAndRecommend] Retrying task index 0
[debug] [2024-04-10T01:26:00.797Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v1/operations/c2VuaW9yZGVzaWduLWU4M2M2L3VzLWNlbnRyYWwxL3Byb2Nlc3NVcGxvYWRBbmRSZWNvbW1lbmQvSnpWRU1yRDJ4YUk [none]
[debug] [2024-04-10T01:26:00.922Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v1/operations/c2VuaW9yZGVzaWduLWU4M2M2L3VzLWNlbnRyYWwxL3Byb2Nlc3NVcGxvYWRBbmRSZWNvbW1lbmQvSnpWRU1yRDJ4YUk 200
[debug] [2024-04-10T01:26:00.922Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v1/operations/c2VuaW9yZGVzaWduLWU4M2M2L3VzLWNlbnRyYWwxL3Byb2Nlc3NVcGxvYWRBbmRSZWNvbW1lbmQvSnpWRU1yRDJ4YUk {"name":"operations/c2VuaW9yZGVzaWduLWU4M2M2L3VzLWNlbnRyYWwxL3Byb2Nlc3NVcGxvYWRBbmRSZWNvbW1lbmQvSnpWRU1yRDJ4YUk","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v1.OperationMetadataV1","target":"projects/seniordesign-e83c6/locations/us-central1/functions/processUploadAndRecommend","type":"CREATE_FUNCTION","request":{"@type":"type.googleapis.com/google.cloud.functions.v1.CloudFunction","name":"projects/seniordesign-e83c6/locations/us-central1/functions/processUploadAndRecommend","eventTrigger":{"eventType":"google.storage.object.finalize","resource":"projects/_/buckets/seniordesign-e83c6.appspot.com"},"entryPoint":"processUploadAndRecommend","labels":{"deployment-tool":"cli-firebase","firebase-functions-hash":"1f85cab4a5f473ca8d33e4c6a0f228dbcc1be472"},"sourceUploadUrl":"https://storage.googleapis.com/uploads-841930861051.us-central1.cloudfunctions.appspot.com/ba34095c-6985-4f7d-a1d0-db83666aeda3.zip?GoogleAccessId=service-889627653285@gcf-admin-robot.iam.gserviceaccount.com&Expires=1712714156&Signature=VhHMlpciH6KqhoQ7o1Se1FDcK1F6LD98BxoiqXn%2Bx%2BsxfhAVg1bPIY%2FvcGnI%2BoP1owRRb3NpLgirPInVTdNKCL33ewFt3ixotwOhYC25fQ0cY%2Bv1b0hgmU1WRbzhFe8ZHFAh5RDPRAn5avQzZ9r6v7yK4Xx1duLk8HRNDWycYYS0YcBeYT%2B3J2jVPK4XdU0bz2aoO8YEv7IFEtNr6DOzhfT2YOpiNLArV8M8IAEay0h2s7sYECoGuDgvlr7CQCKrQIeRNn4je1p5ysyjgRAjIAKSP5QsnPvx%2FVgh5IQc6hMSxlwB4jFwut0Z9N%2BqVocEa3QnDlXUgRd4UObSPnYsog%3D%3D","environmentVariables":{"FIREBASE_CONFIG":"{\"projectId\":\"seniordesign-e83c6\",\"databaseURL\":\"https://seniordesign-e83c6-default-rtdb.firebaseio.com\",\"storageBucket\":\"seniordesign-e83c6.appspot.com\",\"locationId\":\"us-central\"}","GCLOUD_PROJECT":"seniordesign-e83c6","EVENTARC_CLOUD_EVENT_SOURCE":"projects/seniordesign-e83c6/locations/us-central1/functions/processUploadAndRecommend"},"runtime":"nodejs18","buildEnvironmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"dockerRegistry":"ARTIFACT_REGISTRY"},"versionId":"1","updateTime":"2024-04-10T01:25:57Z"}}
[debug] [2024-04-10T01:26:04.932Z] [create-default-us-central1-processUploadAndRecommend] Retrying task index 0
[debug] [2024-04-10T01:26:04.933Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v1/operations/c2VuaW9yZGVzaWduLWU4M2M2L3VzLWNlbnRyYWwxL3Byb2Nlc3NVcGxvYWRBbmRSZWNvbW1lbmQvSnpWRU1yRDJ4YUk [none]
[debug] [2024-04-10T01:26:05.082Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v1/operations/c2VuaW9yZGVzaWduLWU4M2M2L3VzLWNlbnRyYWwxL3Byb2Nlc3NVcGxvYWRBbmRSZWNvbW1lbmQvSnpWRU1yRDJ4YUk 200
[debug] [2024-04-10T01:26:05.082Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v1/operations/c2VuaW9yZGVzaWduLWU4M2M2L3VzLWNlbnRyYWwxL3Byb2Nlc3NVcGxvYWRBbmRSZWNvbW1lbmQvSnpWRU1yRDJ4YUk {"name":"operations/c2VuaW9yZGVzaWduLWU4M2M2L3VzLWNlbnRyYWwxL3Byb2Nlc3NVcGxvYWRBbmRSZWNvbW1lbmQvSnpWRU1yRDJ4YUk","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v1.OperationMetadataV1","target":"projects/seniordesign-e83c6/locations/us-central1/functions/processUploadAndRecommend","type":"CREATE_FUNCTION","request":{"@type":"type.googleapis.com/google.cloud.functions.v1.CloudFunction","name":"projects/seniordesign-e83c6/locations/us-central1/functions/processUploadAndRecommend","eventTrigger":{"eventType":"google.storage.object.finalize","resource":"projects/_/buckets/seniordesign-e83c6.appspot.com"},"entryPoint":"processUploadAndRecommend","labels":{"deployment-tool":"cli-firebase","firebase-functions-hash":"1f85cab4a5f473ca8d33e4c6a0f228dbcc1be472"},"sourceUploadUrl":"https://storage.googleapis.com/uploads-841930861051.us-central1.cloudfunctions.appspot.com/ba34095c-6985-4f7d-a1d0-db83666aeda3.zip?GoogleAccessId=service-889627653285@gcf-admin-robot.iam.gserviceaccount.com&Expires=1712714156&Signature=VhHMlpciH6KqhoQ7o1Se1FDcK1F6LD98BxoiqXn%2Bx%2BsxfhAVg1bPIY%2FvcGnI%2BoP1owRRb3NpLgirPInVTdNKCL33ewFt3ixotwOhYC25fQ0cY%2Bv1b0hgmU1WRbzhFe8ZHFAh5RDPRAn5avQzZ9r6v7yK4Xx1duLk8HRNDWycYYS0YcBeYT%2B3J2jVPK4XdU0bz2aoO8YEv7IFEtNr6DOzhfT2YOpiNLArV8M8IAEay0h2s7sYECoGuDgvlr7CQCKrQIeRNn4je1p5ysyjgRAjIAKSP5QsnPvx%2FVgh5IQc6hMSxlwB4jFwut0Z9N%2BqVocEa3QnDlXUgRd4UObSPnYsog%3D%3D","environmentVariables":{"FIREBASE_CONFIG":"{\"projectId\":\"seniordesign-e83c6\",\"databaseURL\":\"https://seniordesign-e83c6-default-rtdb.firebaseio.com\",\"storageBucket\":\"seniordesign-e83c6.appspot.com\",\"locationId\":\"us-central\"}","GCLOUD_PROJECT":"seniordesign-e83c6","EVENTARC_CLOUD_EVENT_SOURCE":"projects/seniordesign-e83c6/locations/us-central1/functions/processUploadAndRecommend"},"runtime":"nodejs18","buildEnvironmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"dockerRegistry":"ARTIFACT_REGISTRY"},"versionId":"1","updateTime":"2024-04-10T01:25:57Z"}}
[debug] [2024-04-10T01:26:13.094Z] [create-default-us-central1-processUploadAndRecommend] Retrying task index 0
[debug] [2024-04-10T01:26:13.094Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v1/operations/c2VuaW9yZGVzaWduLWU4M2M2L3VzLWNlbnRyYWwxL3Byb2Nlc3NVcGxvYWRBbmRSZWNvbW1lbmQvSnpWRU1yRDJ4YUk [none]
[debug] [2024-04-10T01:26:13.256Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v1/operations/c2VuaW9yZGVzaWduLWU4M2M2L3VzLWNlbnRyYWwxL3Byb2Nlc3NVcGxvYWRBbmRSZWNvbW1lbmQvSnpWRU1yRDJ4YUk 200
[debug] [2024-04-10T01:26:13.256Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v1/operations/c2VuaW9yZGVzaWduLWU4M2M2L3VzLWNlbnRyYWwxL3Byb2Nlc3NVcGxvYWRBbmRSZWNvbW1lbmQvSnpWRU1yRDJ4YUk {"name":"operations/c2VuaW9yZGVzaWduLWU4M2M2L3VzLWNlbnRyYWwxL3Byb2Nlc3NVcGxvYWRBbmRSZWNvbW1lbmQvSnpWRU1yRDJ4YUk","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v1.OperationMetadataV1","target":"projects/seniordesign-e83c6/locations/us-central1/functions/processUploadAndRecommend","type":"CREATE_FUNCTION","request":{"@type":"type.googleapis.com/google.cloud.functions.v1.CloudFunction","name":"projects/seniordesign-e83c6/locations/us-central1/functions/processUploadAndRecommend","eventTrigger":{"eventType":"google.storage.object.finalize","resource":"projects/_/buckets/seniordesign-e83c6.appspot.com"},"entryPoint":"processUploadAndRecommend","labels":{"deployment-tool":"cli-firebase","firebase-functions-hash":"1f85cab4a5f473ca8d33e4c6a0f228dbcc1be472"},"sourceUploadUrl":"https://storage.googleapis.com/uploads-841930861051.us-central1.cloudfunctions.appspot.com/ba34095c-6985-4f7d-a1d0-db83666aeda3.zip?GoogleAccessId=service-889627653285@gcf-admin-robot.iam.gserviceaccount.com&Expires=1712714156&Signature=VhHMlpciH6KqhoQ7o1Se1FDcK1F6LD98BxoiqXn%2Bx%2BsxfhAVg1bPIY%2FvcGnI%2BoP1owRRb3NpLgirPInVTdNKCL33ewFt3ixotwOhYC25fQ0cY%2Bv1b0hgmU1WRbzhFe8ZHFAh5RDPRAn5avQzZ9r6v7yK4Xx1duLk8HRNDWycYYS0YcBeYT%2B3J2jVPK4XdU0bz2aoO8YEv7IFEtNr6DOzhfT2YOpiNLArV8M8IAEay0h2s7sYECoGuDgvlr7CQCKrQIeRNn4je1p5ysyjgRAjIAKSP5QsnPvx%2FVgh5IQc6hMSxlwB4jFwut0Z9N%2BqVocEa3QnDlXUgRd4UObSPnYsog%3D%3D","environmentVariables":{"FIREBASE_CONFIG":"{\"projectId\":\"seniordesign-e83c6\",\"databaseURL\":\"https://seniordesign-e83c6-default-rtdb.firebaseio.com\",\"storageBucket\":\"seniordesign-e83c6.appspot.com\",\"locationId\":\"us-central\"}","GCLOUD_PROJECT":"seniordesign-e83c6","EVENTARC_CLOUD_EVENT_SOURCE":"projects/seniordesign-e83c6/locations/us-central1/functions/processUploadAndRecommend"},"runtime":"nodejs18","buildEnvironmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"dockerRegistry":"ARTIFACT_REGISTRY"},"versionId":"1","updateTime":"2024-04-10T01:25:57Z","buildId":"f673946c-bc70-452c-a751-1a8c5f401f1c","buildName":"projects/889627653285/locations/us-central1/builds/f673946c-bc70-452c-a751-1a8c5f401f1c"}}
[debug] [2024-04-10T01:26:23.263Z] [create-default-us-central1-processUploadAndRecommend] Retrying task index 0
[debug] [2024-04-10T01:26:23.264Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v1/operations/c2VuaW9yZGVzaWduLWU4M2M2L3VzLWNlbnRyYWwxL3Byb2Nlc3NVcGxvYWRBbmRSZWNvbW1lbmQvSnpWRU1yRDJ4YUk [none]
[debug] [2024-04-10T01:26:23.438Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v1/operations/c2VuaW9yZGVzaWduLWU4M2M2L3VzLWNlbnRyYWwxL3Byb2Nlc3NVcGxvYWRBbmRSZWNvbW1lbmQvSnpWRU1yRDJ4YUk 200
[debug] [2024-04-10T01:26:23.438Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v1/operations/c2VuaW9yZGVzaWduLWU4M2M2L3VzLWNlbnRyYWwxL3Byb2Nlc3NVcGxvYWRBbmRSZWNvbW1lbmQvSnpWRU1yRDJ4YUk {"name":"operations/c2VuaW9yZGVzaWduLWU4M2M2L3VzLWNlbnRyYWwxL3Byb2Nlc3NVcGxvYWRBbmRSZWNvbW1lbmQvSnpWRU1yRDJ4YUk","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v1.OperationMetadataV1","target":"projects/seniordesign-e83c6/locations/us-central1/functions/processUploadAndRecommend","type":"CREATE_FUNCTION","request":{"@type":"type.googleapis.com/google.cloud.functions.v1.CloudFunction","name":"projects/seniordesign-e83c6/locations/us-central1/functions/processUploadAndRecommend","eventTrigger":{"eventType":"google.storage.object.finalize","resource":"projects/_/buckets/seniordesign-e83c6.appspot.com"},"entryPoint":"processUploadAndRecommend","labels":{"deployment-tool":"cli-firebase","firebase-functions-hash":"1f85cab4a5f473ca8d33e4c6a0f228dbcc1be472"},"sourceUploadUrl":"https://storage.googleapis.com/uploads-841930861051.us-central1.cloudfunctions.appspot.com/ba34095c-6985-4f7d-a1d0-db83666aeda3.zip?GoogleAccessId=service-889627653285@gcf-admin-robot.iam.gserviceaccount.com&Expires=1712714156&Signature=VhHMlpciH6KqhoQ7o1Se1FDcK1F6LD98BxoiqXn%2Bx%2BsxfhAVg1bPIY%2FvcGnI%2BoP1owRRb3NpLgirPInVTdNKCL33ewFt3ixotwOhYC25fQ0cY%2Bv1b0hgmU1WRbzhFe8ZHFAh5RDPRAn5avQzZ9r6v7yK4Xx1duLk8HRNDWycYYS0YcBeYT%2B3J2jVPK4XdU0bz2aoO8YEv7IFEtNr6DOzhfT2YOpiNLArV8M8IAEay0h2s7sYECoGuDgvlr7CQCKrQIeRNn4je1p5ysyjgRAjIAKSP5QsnPvx%2FVgh5IQc6hMSxlwB4jFwut0Z9N%2BqVocEa3QnDlXUgRd4UObSPnYsog%3D%3D","environmentVariables":{"FIREBASE_CONFIG":"{\"projectId\":\"seniordesign-e83c6\",\"databaseURL\":\"https://seniordesign-e83c6-default-rtdb.firebaseio.com\",\"storageBucket\":\"seniordesign-e83c6.appspot.com\",\"locationId\":\"us-central\"}","GCLOUD_PROJECT":"seniordesign-e83c6","EVENTARC_CLOUD_EVENT_SOURCE":"projects/seniordesign-e83c6/locations/us-central1/functions/processUploadAndRecommend"},"runtime":"nodejs18","buildEnvironmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"dockerRegistry":"ARTIFACT_REGISTRY"},"versionId":"1","updateTime":"2024-04-10T01:25:57Z","buildId":"f673946c-bc70-452c-a751-1a8c5f401f1c","buildName":"projects/889627653285/locations/us-central1/builds/f673946c-bc70-452c-a751-1a8c5f401f1c"}}
[debug] [2024-04-10T01:26:33.443Z] [create-default-us-central1-processUploadAndRecommend] Retrying task index 0
[debug] [2024-04-10T01:26:33.444Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v1/operations/c2VuaW9yZGVzaWduLWU4M2M2L3VzLWNlbnRyYWwxL3Byb2Nlc3NVcGxvYWRBbmRSZWNvbW1lbmQvSnpWRU1yRDJ4YUk [none]
[debug] [2024-04-10T01:26:33.632Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v1/operations/c2VuaW9yZGVzaWduLWU4M2M2L3VzLWNlbnRyYWwxL3Byb2Nlc3NVcGxvYWRBbmRSZWNvbW1lbmQvSnpWRU1yRDJ4YUk 200
[debug] [2024-04-10T01:26:33.632Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v1/operations/c2VuaW9yZGVzaWduLWU4M2M2L3VzLWNlbnRyYWwxL3Byb2Nlc3NVcGxvYWRBbmRSZWNvbW1lbmQvSnpWRU1yRDJ4YUk {"name":"operations/c2VuaW9yZGVzaWduLWU4M2M2L3VzLWNlbnRyYWwxL3Byb2Nlc3NVcGxvYWRBbmRSZWNvbW1lbmQvSnpWRU1yRDJ4YUk","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v1.OperationMetadataV1","target":"projects/seniordesign-e83c6/locations/us-central1/functions/processUploadAndRecommend","type":"CREATE_FUNCTION","request":{"@type":"type.googleapis.com/google.cloud.functions.v1.CloudFunction","name":"projects/seniordesign-e83c6/locations/us-central1/functions/processUploadAndRecommend","eventTrigger":{"eventType":"google.storage.object.finalize","resource":"projects/_/buckets/seniordesign-e83c6.appspot.com"},"entryPoint":"processUploadAndRecommend","labels":{"deployment-tool":"cli-firebase","firebase-functions-hash":"1f85cab4a5f473ca8d33e4c6a0f228dbcc1be472"},"sourceUploadUrl":"https://storage.googleapis.com/uploads-841930861051.us-central1.cloudfunctions.appspot.com/ba34095c-6985-4f7d-a1d0-db83666aeda3.zip?GoogleAccessId=service-889627653285@gcf-admin-robot.iam.gserviceaccount.com&Expires=1712714156&Signature=VhHMlpciH6KqhoQ7o1Se1FDcK1F6LD98BxoiqXn%2Bx%2BsxfhAVg1bPIY%2FvcGnI%2BoP1owRRb3NpLgirPInVTdNKCL33ewFt3ixotwOhYC25fQ0cY%2Bv1b0hgmU1WRbzhFe8ZHFAh5RDPRAn5avQzZ9r6v7yK4Xx1duLk8HRNDWycYYS0YcBeYT%2B3J2jVPK4XdU0bz2aoO8YEv7IFEtNr6DOzhfT2YOpiNLArV8M8IAEay0h2s7sYECoGuDgvlr7CQCKrQIeRNn4je1p5ysyjgRAjIAKSP5QsnPvx%2FVgh5IQc6hMSxlwB4jFwut0Z9N%2BqVocEa3QnDlXUgRd4UObSPnYsog%3D%3D","environmentVariables":{"FIREBASE_CONFIG":"{\"projectId\":\"seniordesign-e83c6\",\"databaseURL\":\"https://seniordesign-e83c6-default-rtdb.firebaseio.com\",\"storageBucket\":\"seniordesign-e83c6.appspot.com\",\"locationId\":\"us-central\"}","GCLOUD_PROJECT":"seniordesign-e83c6","EVENTARC_CLOUD_EVENT_SOURCE":"projects/seniordesign-e83c6/locations/us-central1/functions/processUploadAndRecommend"},"runtime":"nodejs18","buildEnvironmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"dockerRegistry":"ARTIFACT_REGISTRY"},"versionId":"1","updateTime":"2024-04-10T01:25:57Z","buildId":"f673946c-bc70-452c-a751-1a8c5f401f1c","buildName":"projects/889627653285/locations/us-central1/builds/f673946c-bc70-452c-a751-1a8c5f401f1c"}}
[debug] [2024-04-10T01:26:43.638Z] [create-default-us-central1-processUploadAndRecommend] Retrying task index 0
[debug] [2024-04-10T01:26:43.638Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v1/operations/c2VuaW9yZGVzaWduLWU4M2M2L3VzLWNlbnRyYWwxL3Byb2Nlc3NVcGxvYWRBbmRSZWNvbW1lbmQvSnpWRU1yRDJ4YUk [none]
[debug] [2024-04-10T01:26:43.794Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v1/operations/c2VuaW9yZGVzaWduLWU4M2M2L3VzLWNlbnRyYWwxL3Byb2Nlc3NVcGxvYWRBbmRSZWNvbW1lbmQvSnpWRU1yRDJ4YUk 200
[debug] [2024-04-10T01:26:43.794Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v1/operations/c2VuaW9yZGVzaWduLWU4M2M2L3VzLWNlbnRyYWwxL3Byb2Nlc3NVcGxvYWRBbmRSZWNvbW1lbmQvSnpWRU1yRDJ4YUk {"name":"operations/c2VuaW9yZGVzaWduLWU4M2M2L3VzLWNlbnRyYWwxL3Byb2Nlc3NVcGxvYWRBbmRSZWNvbW1lbmQvSnpWRU1yRDJ4YUk","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v1.OperationMetadataV1","target":"projects/seniordesign-e83c6/locations/us-central1/functions/processUploadAndRecommend","type":"CREATE_FUNCTION","request":{"@type":"type.googleapis.com/google.cloud.functions.v1.CloudFunction","name":"projects/seniordesign-e83c6/locations/us-central1/functions/processUploadAndRecommend","eventTrigger":{"eventType":"google.storage.object.finalize","resource":"projects/_/buckets/seniordesign-e83c6.appspot.com"},"entryPoint":"processUploadAndRecommend","labels":{"deployment-tool":"cli-firebase","firebase-functions-hash":"1f85cab4a5f473ca8d33e4c6a0f228dbcc1be472"},"sourceUploadUrl":"https://storage.googleapis.com/uploads-841930861051.us-central1.cloudfunctions.appspot.com/ba34095c-6985-4f7d-a1d0-db83666aeda3.zip?GoogleAccessId=service-889627653285@gcf-admin-robot.iam.gserviceaccount.com&Expires=1712714156&Signature=VhHMlpciH6KqhoQ7o1Se1FDcK1F6LD98BxoiqXn%2Bx%2BsxfhAVg1bPIY%2FvcGnI%2BoP1owRRb3NpLgirPInVTdNKCL33ewFt3ixotwOhYC25fQ0cY%2Bv1b0hgmU1WRbzhFe8ZHFAh5RDPRAn5avQzZ9r6v7yK4Xx1duLk8HRNDWycYYS0YcBeYT%2B3J2jVPK4XdU0bz2aoO8YEv7IFEtNr6DOzhfT2YOpiNLArV8M8IAEay0h2s7sYECoGuDgvlr7CQCKrQIeRNn4je1p5ysyjgRAjIAKSP5QsnPvx%2FVgh5IQc6hMSxlwB4jFwut0Z9N%2BqVocEa3QnDlXUgRd4UObSPnYsog%3D%3D","environmentVariables":{"FIREBASE_CONFIG":"{\"projectId\":\"seniordesign-e83c6\",\"databaseURL\":\"https://seniordesign-e83c6-default-rtdb.firebaseio.com\",\"storageBucket\":\"seniordesign-e83c6.appspot.com\",\"locationId\":\"us-central\"}","GCLOUD_PROJECT":"seniordesign-e83c6","EVENTARC_CLOUD_EVENT_SOURCE":"projects/seniordesign-e83c6/locations/us-central1/functions/processUploadAndRecommend"},"runtime":"nodejs18","buildEnvironmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"dockerRegistry":"ARTIFACT_REGISTRY"},"versionId":"1","updateTime":"2024-04-10T01:25:57Z","buildId":"f673946c-bc70-452c-a751-1a8c5f401f1c","buildName":"projects/889627653285/locations/us-central1/builds/f673946c-bc70-452c-a751-1a8c5f401f1c"}}
[debug] [2024-04-10T01:26:53.809Z] [create-default-us-central1-processUploadAndRecommend] Retrying task index 0
[debug] [2024-04-10T01:26:53.809Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v1/operations/c2VuaW9yZGVzaWduLWU4M2M2L3VzLWNlbnRyYWwxL3Byb2Nlc3NVcGxvYWRBbmRSZWNvbW1lbmQvSnpWRU1yRDJ4YUk [none]
[debug] [2024-04-10T01:26:53.996Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v1/operations/c2VuaW9yZGVzaWduLWU4M2M2L3VzLWNlbnRyYWwxL3Byb2Nlc3NVcGxvYWRBbmRSZWNvbW1lbmQvSnpWRU1yRDJ4YUk 200
[debug] [2024-04-10T01:26:53.996Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v1/operations/c2VuaW9yZGVzaWduLWU4M2M2L3VzLWNlbnRyYWwxL3Byb2Nlc3NVcGxvYWRBbmRSZWNvbW1lbmQvSnpWRU1yRDJ4YUk {"name":"operations/c2VuaW9yZGVzaWduLWU4M2M2L3VzLWNlbnRyYWwxL3Byb2Nlc3NVcGxvYWRBbmRSZWNvbW1lbmQvSnpWRU1yRDJ4YUk","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v1.OperationMetadataV1","target":"projects/seniordesign-e83c6/locations/us-central1/functions/processUploadAndRecommend","type":"CREATE_FUNCTION","request":{"@type":"type.googleapis.com/google.cloud.functions.v1.CloudFunction","name":"projects/seniordesign-e83c6/locations/us-central1/functions/processUploadAndRecommend","eventTrigger":{"eventType":"google.storage.object.finalize","resource":"projects/_/buckets/seniordesign-e83c6.appspot.com"},"entryPoint":"processUploadAndRecommend","labels":{"deployment-tool":"cli-firebase","firebase-functions-hash":"1f85cab4a5f473ca8d33e4c6a0f228dbcc1be472"},"sourceUploadUrl":"https://storage.googleapis.com/uploads-841930861051.us-central1.cloudfunctions.appspot.com/ba34095c-6985-4f7d-a1d0-db83666aeda3.zip?GoogleAccessId=service-889627653285@gcf-admin-robot.iam.gserviceaccount.com&Expires=1712714156&Signature=VhHMlpciH6KqhoQ7o1Se1FDcK1F6LD98BxoiqXn%2Bx%2BsxfhAVg1bPIY%2FvcGnI%2BoP1owRRb3NpLgirPInVTdNKCL33ewFt3ixotwOhYC25fQ0cY%2Bv1b0hgmU1WRbzhFe8ZHFAh5RDPRAn5avQzZ9r6v7yK4Xx1duLk8HRNDWycYYS0YcBeYT%2B3J2jVPK4XdU0bz2aoO8YEv7IFEtNr6DOzhfT2YOpiNLArV8M8IAEay0h2s7sYECoGuDgvlr7CQCKrQIeRNn4je1p5ysyjgRAjIAKSP5QsnPvx%2FVgh5IQc6hMSxlwB4jFwut0Z9N%2BqVocEa3QnDlXUgRd4UObSPnYsog%3D%3D","environmentVariables":{"FIREBASE_CONFIG":"{\"projectId\":\"seniordesign-e83c6\",\"databaseURL\":\"https://seniordesign-e83c6-default-rtdb.firebaseio.com\",\"storageBucket\":\"seniordesign-e83c6.appspot.com\",\"locationId\":\"us-central\"}","GCLOUD_PROJECT":"seniordesign-e83c6","EVENTARC_CLOUD_EVENT_SOURCE":"projects/seniordesign-e83c6/locations/us-central1/functions/processUploadAndRecommend"},"runtime":"nodejs18","buildEnvironmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"dockerRegistry":"ARTIFACT_REGISTRY"},"versionId":"1","updateTime":"2024-04-10T01:25:57Z","buildId":"f673946c-bc70-452c-a751-1a8c5f401f1c","buildName":"projects/889627653285/locations/us-central1/builds/f673946c-bc70-452c-a751-1a8c5f401f1c"}}
[debug] [2024-04-10T01:27:03.999Z] [create-default-us-central1-processUploadAndRecommend] Retrying task index 0
[debug] [2024-04-10T01:27:03.999Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v1/operations/c2VuaW9yZGVzaWduLWU4M2M2L3VzLWNlbnRyYWwxL3Byb2Nlc3NVcGxvYWRBbmRSZWNvbW1lbmQvSnpWRU1yRDJ4YUk [none]
[debug] [2024-04-10T01:27:04.138Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v1/operations/c2VuaW9yZGVzaWduLWU4M2M2L3VzLWNlbnRyYWwxL3Byb2Nlc3NVcGxvYWRBbmRSZWNvbW1lbmQvSnpWRU1yRDJ4YUk 200
[debug] [2024-04-10T01:27:04.138Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v1/operations/c2VuaW9yZGVzaWduLWU4M2M2L3VzLWNlbnRyYWwxL3Byb2Nlc3NVcGxvYWRBbmRSZWNvbW1lbmQvSnpWRU1yRDJ4YUk {"name":"operations/c2VuaW9yZGVzaWduLWU4M2M2L3VzLWNlbnRyYWwxL3Byb2Nlc3NVcGxvYWRBbmRSZWNvbW1lbmQvSnpWRU1yRDJ4YUk","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v1.OperationMetadataV1","target":"projects/seniordesign-e83c6/locations/us-central1/functions/processUploadAndRecommend","type":"CREATE_FUNCTION","request":{"@type":"type.googleapis.com/google.cloud.functions.v1.CloudFunction","name":"projects/seniordesign-e83c6/locations/us-central1/functions/processUploadAndRecommend","eventTrigger":{"eventType":"google.storage.object.finalize","resource":"projects/_/buckets/seniordesign-e83c6.appspot.com"},"entryPoint":"processUploadAndRecommend","labels":{"deployment-tool":"cli-firebase","firebase-functions-hash":"1f85cab4a5f473ca8d33e4c6a0f228dbcc1be472"},"sourceUploadUrl":"https://storage.googleapis.com/uploads-841930861051.us-central1.cloudfunctions.appspot.com/ba34095c-6985-4f7d-a1d0-db83666aeda3.zip?GoogleAccessId=service-889627653285@gcf-admin-robot.iam.gserviceaccount.com&Expires=1712714156&Signature=VhHMlpciH6KqhoQ7o1Se1FDcK1F6LD98BxoiqXn%2Bx%2BsxfhAVg1bPIY%2FvcGnI%2BoP1owRRb3NpLgirPInVTdNKCL33ewFt3ixotwOhYC25fQ0cY%2Bv1b0hgmU1WRbzhFe8ZHFAh5RDPRAn5avQzZ9r6v7yK4Xx1duLk8HRNDWycYYS0YcBeYT%2B3J2jVPK4XdU0bz2aoO8YEv7IFEtNr6DOzhfT2YOpiNLArV8M8IAEay0h2s7sYECoGuDgvlr7CQCKrQIeRNn4je1p5ysyjgRAjIAKSP5QsnPvx%2FVgh5IQc6hMSxlwB4jFwut0Z9N%2BqVocEa3QnDlXUgRd4UObSPnYsog%3D%3D","environmentVariables":{"FIREBASE_CONFIG":"{\"projectId\":\"seniordesign-e83c6\",\"databaseURL\":\"https://seniordesign-e83c6-default-rtdb.firebaseio.com\",\"storageBucket\":\"seniordesign-e83c6.appspot.com\",\"locationId\":\"us-central\"}","GCLOUD_PROJECT":"seniordesign-e83c6","EVENTARC_CLOUD_EVENT_SOURCE":"projects/seniordesign-e83c6/locations/us-central1/functions/processUploadAndRecommend"},"runtime":"nodejs18","buildEnvironmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"dockerRegistry":"ARTIFACT_REGISTRY"},"versionId":"1","updateTime":"2024-04-10T01:25:57Z","buildId":"f673946c-bc70-452c-a751-1a8c5f401f1c","buildName":"projects/889627653285/locations/us-central1/builds/f673946c-bc70-452c-a751-1a8c5f401f1c"}}
[debug] [2024-04-10T01:27:14.145Z] [create-default-us-central1-processUploadAndRecommend] Retrying task index 0
[debug] [2024-04-10T01:27:14.146Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v1/operations/c2VuaW9yZGVzaWduLWU4M2M2L3VzLWNlbnRyYWwxL3Byb2Nlc3NVcGxvYWRBbmRSZWNvbW1lbmQvSnpWRU1yRDJ4YUk [none]
[debug] [2024-04-10T01:27:14.293Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v1/operations/c2VuaW9yZGVzaWduLWU4M2M2L3VzLWNlbnRyYWwxL3Byb2Nlc3NVcGxvYWRBbmRSZWNvbW1lbmQvSnpWRU1yRDJ4YUk 200
[debug] [2024-04-10T01:27:14.294Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v1/operations/c2VuaW9yZGVzaWduLWU4M2M2L3VzLWNlbnRyYWwxL3Byb2Nlc3NVcGxvYWRBbmRSZWNvbW1lbmQvSnpWRU1yRDJ4YUk {"name":"operations/c2VuaW9yZGVzaWduLWU4M2M2L3VzLWNlbnRyYWwxL3Byb2Nlc3NVcGxvYWRBbmRSZWNvbW1lbmQvSnpWRU1yRDJ4YUk","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v1.OperationMetadataV1","target":"projects/seniordesign-e83c6/locations/us-central1/functions/processUploadAndRecommend","type":"CREATE_FUNCTION","request":{"@type":"type.googleapis.com/google.cloud.functions.v1.CloudFunction","name":"projects/seniordesign-e83c6/locations/us-central1/functions/processUploadAndRecommend","eventTrigger":{"eventType":"google.storage.object.finalize","resource":"projects/_/buckets/seniordesign-e83c6.appspot.com"},"entryPoint":"processUploadAndRecommend","labels":{"deployment-tool":"cli-firebase","firebase-functions-hash":"1f85cab4a5f473ca8d33e4c6a0f228dbcc1be472"},"sourceUploadUrl":"https://storage.googleapis.com/uploads-841930861051.us-central1.cloudfunctions.appspot.com/ba34095c-6985-4f7d-a1d0-db83666aeda3.zip?GoogleAccessId=service-889627653285@gcf-admin-robot.iam.gserviceaccount.com&Expires=1712714156&Signature=VhHMlpciH6KqhoQ7o1Se1FDcK1F6LD98BxoiqXn%2Bx%2BsxfhAVg1bPIY%2FvcGnI%2BoP1owRRb3NpLgirPInVTdNKCL33ewFt3ixotwOhYC25fQ0cY%2Bv1b0hgmU1WRbzhFe8ZHFAh5RDPRAn5avQzZ9r6v7yK4Xx1duLk8HRNDWycYYS0YcBeYT%2B3J2jVPK4XdU0bz2aoO8YEv7IFEtNr6DOzhfT2YOpiNLArV8M8IAEay0h2s7sYECoGuDgvlr7CQCKrQIeRNn4je1p5ysyjgRAjIAKSP5QsnPvx%2FVgh5IQc6hMSxlwB4jFwut0Z9N%2BqVocEa3QnDlXUgRd4UObSPnYsog%3D%3D","environmentVariables":{"FIREBASE_CONFIG":"{\"projectId\":\"seniordesign-e83c6\",\"databaseURL\":\"https://seniordesign-e83c6-default-rtdb.firebaseio.com\",\"storageBucket\":\"seniordesign-e83c6.appspot.com\",\"locationId\":\"us-central\"}","GCLOUD_PROJECT":"seniordesign-e83c6","EVENTARC_CLOUD_EVENT_SOURCE":"projects/seniordesign-e83c6/locations/us-central1/functions/processUploadAndRecommend"},"runtime":"nodejs18","buildEnvironmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"dockerRegistry":"ARTIFACT_REGISTRY"},"versionId":"1","updateTime":"2024-04-10T01:25:57Z","buildId":"f673946c-bc70-452c-a751-1a8c5f401f1c","sourceToken":"1176d659-1ae5-4cc4-840e-ae5d5490a88c","buildName":"projects/889627653285/locations/us-central1/builds/f673946c-bc70-452c-a751-1a8c5f401f1c"}}
[debug] [2024-04-10T01:27:14.294Z] Got source token 1176d659-1ae5-4cc4-840e-ae5d5490a88c for region us-central1
[debug] [2024-04-10T01:27:24.297Z] [create-default-us-central1-processUploadAndRecommend] Retrying task index 0
[debug] [2024-04-10T01:27:24.297Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v1/operations/c2VuaW9yZGVzaWduLWU4M2M2L3VzLWNlbnRyYWwxL3Byb2Nlc3NVcGxvYWRBbmRSZWNvbW1lbmQvSnpWRU1yRDJ4YUk [none]
[debug] [2024-04-10T01:27:24.415Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v1/operations/c2VuaW9yZGVzaWduLWU4M2M2L3VzLWNlbnRyYWwxL3Byb2Nlc3NVcGxvYWRBbmRSZWNvbW1lbmQvSnpWRU1yRDJ4YUk 200
[debug] [2024-04-10T01:27:24.416Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v1/operations/c2VuaW9yZGVzaWduLWU4M2M2L3VzLWNlbnRyYWwxL3Byb2Nlc3NVcGxvYWRBbmRSZWNvbW1lbmQvSnpWRU1yRDJ4YUk {"name":"operations/c2VuaW9yZGVzaWduLWU4M2M2L3VzLWNlbnRyYWwxL3Byb2Nlc3NVcGxvYWRBbmRSZWNvbW1lbmQvSnpWRU1yRDJ4YUk","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v1.OperationMetadataV1","target":"projects/seniordesign-e83c6/locations/us-central1/functions/processUploadAndRecommend","type":"CREATE_FUNCTION","request":{"@type":"type.googleapis.com/google.cloud.functions.v1.CloudFunction","name":"projects/seniordesign-e83c6/locations/us-central1/functions/processUploadAndRecommend","eventTrigger":{"eventType":"google.storage.object.finalize","resource":"projects/_/buckets/seniordesign-e83c6.appspot.com"},"entryPoint":"processUploadAndRecommend","labels":{"deployment-tool":"cli-firebase","firebase-functions-hash":"1f85cab4a5f473ca8d33e4c6a0f228dbcc1be472"},"sourceUploadUrl":"https://storage.googleapis.com/uploads-841930861051.us-central1.cloudfunctions.appspot.com/ba34095c-6985-4f7d-a1d0-db83666aeda3.zip?GoogleAccessId=service-889627653285@gcf-admin-robot.iam.gserviceaccount.com&Expires=1712714156&Signature=VhHMlpciH6KqhoQ7o1Se1FDcK1F6LD98BxoiqXn%2Bx%2BsxfhAVg1bPIY%2FvcGnI%2BoP1owRRb3NpLgirPInVTdNKCL33ewFt3ixotwOhYC25fQ0cY%2Bv1b0hgmU1WRbzhFe8ZHFAh5RDPRAn5avQzZ9r6v7yK4Xx1duLk8HRNDWycYYS0YcBeYT%2B3J2jVPK4XdU0bz2aoO8YEv7IFEtNr6DOzhfT2YOpiNLArV8M8IAEay0h2s7sYECoGuDgvlr7CQCKrQIeRNn4je1p5ysyjgRAjIAKSP5QsnPvx%2FVgh5IQc6hMSxlwB4jFwut0Z9N%2BqVocEa3QnDlXUgRd4UObSPnYsog%3D%3D","environmentVariables":{"FIREBASE_CONFIG":"{\"projectId\":\"seniordesign-e83c6\",\"databaseURL\":\"https://seniordesign-e83c6-default-rtdb.firebaseio.com\",\"storageBucket\":\"seniordesign-e83c6.appspot.com\",\"locationId\":\"us-central\"}","GCLOUD_PROJECT":"seniordesign-e83c6","EVENTARC_CLOUD_EVENT_SOURCE":"projects/seniordesign-e83c6/locations/us-central1/functions/processUploadAndRecommend"},"runtime":"nodejs18","buildEnvironmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"dockerRegistry":"ARTIFACT_REGISTRY"},"versionId":"1","updateTime":"2024-04-10T01:25:57Z","buildId":"f673946c-bc70-452c-a751-1a8c5f401f1c","sourceToken":"1176d659-1ae5-4cc4-840e-ae5d5490a88c","buildName":"projects/889627653285/locations/us-central1/builds/f673946c-bc70-452c-a751-1a8c5f401f1c"}}
[debug] [2024-04-10T01:27:24.416Z] Got source token 1176d659-1ae5-4cc4-840e-ae5d5490a88c for region us-central1
[debug] [2024-04-10T01:27:34.425Z] [create-default-us-central1-processUploadAndRecommend] Retrying task index 0
[debug] [2024-04-10T01:27:34.426Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v1/operations/c2VuaW9yZGVzaWduLWU4M2M2L3VzLWNlbnRyYWwxL3Byb2Nlc3NVcGxvYWRBbmRSZWNvbW1lbmQvSnpWRU1yRDJ4YUk [none]
[debug] [2024-04-10T01:27:34.561Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v1/operations/c2VuaW9yZGVzaWduLWU4M2M2L3VzLWNlbnRyYWwxL3Byb2Nlc3NVcGxvYWRBbmRSZWNvbW1lbmQvSnpWRU1yRDJ4YUk 200
[debug] [2024-04-10T01:27:34.561Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v1/operations/c2VuaW9yZGVzaWduLWU4M2M2L3VzLWNlbnRyYWwxL3Byb2Nlc3NVcGxvYWRBbmRSZWNvbW1lbmQvSnpWRU1yRDJ4YUk {"name":"operations/c2VuaW9yZGVzaWduLWU4M2M2L3VzLWNlbnRyYWwxL3Byb2Nlc3NVcGxvYWRBbmRSZWNvbW1lbmQvSnpWRU1yRDJ4YUk","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v1.OperationMetadataV1","target":"projects/seniordesign-e83c6/locations/us-central1/functions/processUploadAndRecommend","type":"CREATE_FUNCTION","request":{"@type":"type.googleapis.com/google.cloud.functions.v1.CloudFunction","name":"projects/seniordesign-e83c6/locations/us-central1/functions/processUploadAndRecommend","eventTrigger":{"eventType":"google.storage.object.finalize","resource":"projects/_/buckets/seniordesign-e83c6.appspot.com"},"entryPoint":"processUploadAndRecommend","labels":{"deployment-tool":"cli-firebase","firebase-functions-hash":"1f85cab4a5f473ca8d33e4c6a0f228dbcc1be472"},"sourceUploadUrl":"https://storage.googleapis.com/uploads-841930861051.us-central1.cloudfunctions.appspot.com/ba34095c-6985-4f7d-a1d0-db83666aeda3.zip?GoogleAccessId=service-889627653285@gcf-admin-robot.iam.gserviceaccount.com&Expires=1712714156&Signature=VhHMlpciH6KqhoQ7o1Se1FDcK1F6LD98BxoiqXn%2Bx%2BsxfhAVg1bPIY%2FvcGnI%2BoP1owRRb3NpLgirPInVTdNKCL33ewFt3ixotwOhYC25fQ0cY%2Bv1b0hgmU1WRbzhFe8ZHFAh5RDPRAn5avQzZ9r6v7yK4Xx1duLk8HRNDWycYYS0YcBeYT%2B3J2jVPK4XdU0bz2aoO8YEv7IFEtNr6DOzhfT2YOpiNLArV8M8IAEay0h2s7sYECoGuDgvlr7CQCKrQIeRNn4je1p5ysyjgRAjIAKSP5QsnPvx%2FVgh5IQc6hMSxlwB4jFwut0Z9N%2BqVocEa3QnDlXUgRd4UObSPnYsog%3D%3D","environmentVariables":{"FIREBASE_CONFIG":"{\"projectId\":\"seniordesign-e83c6\",\"databaseURL\":\"https://seniordesign-e83c6-default-rtdb.firebaseio.com\",\"storageBucket\":\"seniordesign-e83c6.appspot.com\",\"locationId\":\"us-central\"}","GCLOUD_PROJECT":"seniordesign-e83c6","EVENTARC_CLOUD_EVENT_SOURCE":"projects/seniordesign-e83c6/locations/us-central1/functions/processUploadAndRecommend"},"runtime":"nodejs18","buildEnvironmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"dockerRegistry":"ARTIFACT_REGISTRY"},"versionId":"1","updateTime":"2024-04-10T01:25:57Z","buildId":"f673946c-bc70-452c-a751-1a8c5f401f1c","sourceToken":"1176d659-1ae5-4cc4-840e-ae5d5490a88c","buildName":"projects/889627653285/locations/us-central1/builds/f673946c-bc70-452c-a751-1a8c5f401f1c"}}
[debug] [2024-04-10T01:27:34.561Z] Got source token 1176d659-1ae5-4cc4-840e-ae5d5490a88c for region us-central1
[debug] [2024-04-10T01:27:44.566Z] [create-default-us-central1-processUploadAndRecommend] Retrying task index 0
[debug] [2024-04-10T01:27:44.567Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v1/operations/c2VuaW9yZGVzaWduLWU4M2M2L3VzLWNlbnRyYWwxL3Byb2Nlc3NVcGxvYWRBbmRSZWNvbW1lbmQvSnpWRU1yRDJ4YUk [none]
[debug] [2024-04-10T01:27:44.732Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v1/operations/c2VuaW9yZGVzaWduLWU4M2M2L3VzLWNlbnRyYWwxL3Byb2Nlc3NVcGxvYWRBbmRSZWNvbW1lbmQvSnpWRU1yRDJ4YUk 200
[debug] [2024-04-10T01:27:44.733Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v1/operations/c2VuaW9yZGVzaWduLWU4M2M2L3VzLWNlbnRyYWwxL3Byb2Nlc3NVcGxvYWRBbmRSZWNvbW1lbmQvSnpWRU1yRDJ4YUk {"name":"operations/c2VuaW9yZGVzaWduLWU4M2M2L3VzLWNlbnRyYWwxL3Byb2Nlc3NVcGxvYWRBbmRSZWNvbW1lbmQvSnpWRU1yRDJ4YUk","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v1.OperationMetadataV1","target":"projects/seniordesign-e83c6/locations/us-central1/functions/processUploadAndRecommend","type":"CREATE_FUNCTION","request":{"@type":"type.googleapis.com/google.cloud.functions.v1.CloudFunction","name":"projects/seniordesign-e83c6/locations/us-central1/functions/processUploadAndRecommend","eventTrigger":{"eventType":"google.storage.object.finalize","resource":"projects/_/buckets/seniordesign-e83c6.appspot.com"},"entryPoint":"processUploadAndRecommend","labels":{"deployment-tool":"cli-firebase","firebase-functions-hash":"1f85cab4a5f473ca8d33e4c6a0f228dbcc1be472"},"sourceUploadUrl":"https://storage.googleapis.com/uploads-841930861051.us-central1.cloudfunctions.appspot.com/ba34095c-6985-4f7d-a1d0-db83666aeda3.zip?GoogleAccessId=service-889627653285@gcf-admin-robot.iam.gserviceaccount.com&Expires=1712714156&Signature=VhHMlpciH6KqhoQ7o1Se1FDcK1F6LD98BxoiqXn%2Bx%2BsxfhAVg1bPIY%2FvcGnI%2BoP1owRRb3NpLgirPInVTdNKCL33ewFt3ixotwOhYC25fQ0cY%2Bv1b0hgmU1WRbzhFe8ZHFAh5RDPRAn5avQzZ9r6v7yK4Xx1duLk8HRNDWycYYS0YcBeYT%2B3J2jVPK4XdU0bz2aoO8YEv7IFEtNr6DOzhfT2YOpiNLArV8M8IAEay0h2s7sYECoGuDgvlr7CQCKrQIeRNn4je1p5ysyjgRAjIAKSP5QsnPvx%2FVgh5IQc6hMSxlwB4jFwut0Z9N%2BqVocEa3QnDlXUgRd4UObSPnYsog%3D%3D","environmentVariables":{"FIREBASE_CONFIG":"{\"projectId\":\"seniordesign-e83c6\",\"databaseURL\":\"https://seniordesign-e83c6-default-rtdb.firebaseio.com\",\"storageBucket\":\"seniordesign-e83c6.appspot.com\",\"locationId\":\"us-central\"}","GCLOUD_PROJECT":"seniordesign-e83c6","EVENTARC_CLOUD_EVENT_SOURCE":"projects/seniordesign-e83c6/locations/us-central1/functions/processUploadAndRecommend"},"runtime":"nodejs18","buildEnvironmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"dockerRegistry":"ARTIFACT_REGISTRY"},"versionId":"1","updateTime":"2024-04-10T01:27:35Z","buildId":"f673946c-bc70-452c-a751-1a8c5f401f1c","sourceToken":"1176d659-1ae5-4cc4-840e-ae5d5490a88c","buildName":"projects/889627653285/locations/us-central1/builds/f673946c-bc70-452c-a751-1a8c5f401f1c"},"done":true,"error":{"code":3,"message":"Function failed on loading user code. This is likely due to a bug in the user code. Error message: Provided module can't be loaded.\nDid you list all required modules in the package.json dependencies?\nDetailed stack trace: Error: Cannot find module 'sharp'\nRequire stack:\n- /workspace/index.js\n- /layers/google.nodejs.functions-framework/functions-framework/node_modules/@google-cloud/functions-framework/build/src/loader.js\n- /layers/google.nodejs.functions-framework/functions-framework/node_modules/@google-cloud/functions-framework/build/src/main.js\n    at Module._resolveFilename (node:internal/modules/cjs/loader:1140:15)\n    at Module._load (node:internal/modules/cjs/loader:981:27)\n    at Module.require (node:internal/modules/cjs/loader:1231:19)\n    at require (node:internal/modules/helpers:177:18)\n    at Object.<anonymous> (/workspace/index.js:4:15)\n    at Module._compile (node:internal/modules/cjs/loader:1364:14)\n    at Module._extensions..js (node:internal/modules/cjs/loader:1422:10)\n    at Module.load (node:internal/modules/cjs/loader:1203:32)\n    at Module._load (node:internal/modules/cjs/loader:1019:12)\n    at Module.require (node:internal/modules/cjs/loader:1231:19)\nCould not load the function, shutting down.. Please visit https://cloud.google.com/functions/docs/troubleshooting for in-depth troubleshooting documentation."}}
[debug] [2024-04-10T01:27:44.733Z] Got source token 1176d659-1ae5-4cc4-840e-ae5d5490a88c for region us-central1
[error] Function failed on loading user code. This is likely due to a bug in the user code. Error message: Provided module can't be loaded.
Did you list all required modules in the package.json dependencies?
Detailed stack trace: Error: Cannot find module 'sharp'
Require stack:
- /workspace/index.js
- /layers/google.nodejs.functions-framework/functions-framework/node_modules/@google-cloud/functions-framework/build/src/loader.js
- /layers/google.nodejs.functions-framework/functions-framework/node_modules/@google-cloud/functions-framework/build/src/main.js
    at Module._resolveFilename (node:internal/modules/cjs/loader:1140:15)
    at Module._load (node:internal/modules/cjs/loader:981:27)
    at Module.require (node:internal/modules/cjs/loader:1231:19)
    at require (node:internal/modules/helpers:177:18)
    at Object.<anonymous> (/workspace/index.js:4:15)
    at Module._compile (node:internal/modules/cjs/loader:1364:14)
    at Module._extensions..js (node:internal/modules/cjs/loader:1422:10)
    at Module.load (node:internal/modules/cjs/loader:1203:32)
    at Module._load (node:internal/modules/cjs/loader:1019:12)
    at Module.require (node:internal/modules/cjs/loader:1231:19)
Could not load the function, shutting down.. Please visit https://cloud.google.com/functions/docs/troubleshooting for in-depth troubleshooting documentation.
[debug] [2024-04-10T01:27:44.740Z] Total Function Deployment time: 108433
[debug] [2024-04-10T01:27:44.741Z] 1 Functions Deployed
[debug] [2024-04-10T01:27:44.741Z] 1 Functions Errored
[debug] [2024-04-10T01:27:44.741Z] 0 Function Deployments Aborted
[debug] [2024-04-10T01:27:44.741Z] Average Function Deployment time: 108432
[info] 
[info] Functions deploy had errors with the following functions:
	processUploadAndRecommend(us-central1)
[info] i  functions: cleaning up build files... 
[debug] [2024-04-10T01:27:44.802Z] >>> [apiv2][query] DELETE https://artifactregistry.googleapis.com/v1beta2/projects/seniordesign-e83c6/locations/us-central1/repositories/gcf-artifacts/packages/process_upload_and_recommend [none]
[debug] [2024-04-10T01:27:44.803Z] >>> [apiv2][query] GET https://us.gcr.io/v2/seniordesign-e83c6/gcf/us-central1/tags/list [none]
[debug] [2024-04-10T01:27:44.965Z] <<< [apiv2][status] DELETE https://artifactregistry.googleapis.com/v1beta2/projects/seniordesign-e83c6/locations/us-central1/repositories/gcf-artifacts/packages/process_upload_and_recommend 200
[debug] [2024-04-10T01:27:44.965Z] <<< [apiv2][body] DELETE https://artifactregistry.googleapis.com/v1beta2/projects/seniordesign-e83c6/locations/us-central1/repositories/gcf-artifacts/packages/process_upload_and_recommend {"name":"projects/seniordesign-e83c6/locations/us-central1/operations/4ff2cc7d-b122-493d-bd51-f8f8ef30e891","metadata":{"@type":"type.googleapis.com/google.devtools.artifactregistry.v1beta2.OperationMetadata"}}
[debug] [2024-04-10T01:27:44.965Z] >>> [apiv2][query] GET https://artifactregistry.googleapis.com/v1beta2/projects/seniordesign-e83c6/locations/us-central1/operations/4ff2cc7d-b122-493d-bd51-f8f8ef30e891 [none]
[debug] [2024-04-10T01:27:44.969Z] <<< [apiv2][status] GET https://us.gcr.io/v2/seniordesign-e83c6/gcf/us-central1/tags/list 404
[debug] [2024-04-10T01:27:44.969Z] <<< [apiv2][body] GET https://us.gcr.io/v2/seniordesign-e83c6/gcf/us-central1/tags/list {"errors":[{"code":"NAME_UNKNOWN","message":"Repository \"us.gcr.io\" not found"}]}
[debug] [2024-04-10T01:27:44.970Z] Failed docker command with error  HTTP Error: 404, Not Found {"name":"FirebaseError","children":[],"context":{"body":{"errors":[{"code":"NAME_UNKNOWN","message":"Repository \"us.gcr.io\" not found"}],"error":{"message":"Not Found"}},"response":{"statusCode":404}},"exit":1,"message":"HTTP Error: 404, Not Found","status":404}
[debug] [2024-04-10T01:27:44.985Z] >>> [apiv2][query] GET https://us.gcr.io/v2/seniordesign-e83c6/gcf/us-central1/tags/list [none]
[debug] [2024-04-10T01:27:45.076Z] <<< [apiv2][status] GET https://artifactregistry.googleapis.com/v1beta2/projects/seniordesign-e83c6/locations/us-central1/operations/4ff2cc7d-b122-493d-bd51-f8f8ef30e891 200
[debug] [2024-04-10T01:27:45.076Z] <<< [apiv2][body] GET https://artifactregistry.googleapis.com/v1beta2/projects/seniordesign-e83c6/locations/us-central1/operations/4ff2cc7d-b122-493d-bd51-f8f8ef30e891 {"name":"projects/seniordesign-e83c6/locations/us-central1/operations/4ff2cc7d-b122-493d-bd51-f8f8ef30e891","metadata":{"@type":"type.googleapis.com/google.devtools.artifactregistry.v1beta2.OperationMetadata"},"done":true,"response":{"@type":"type.googleapis.com/google.protobuf.Empty"}}
[debug] [2024-04-10T01:27:45.087Z] <<< [apiv2][status] GET https://us.gcr.io/v2/seniordesign-e83c6/gcf/us-central1/tags/list 404
[debug] [2024-04-10T01:27:45.087Z] <<< [apiv2][body] GET https://us.gcr.io/v2/seniordesign-e83c6/gcf/us-central1/tags/list {"errors":[{"code":"NAME_UNKNOWN","message":"Repository \"us.gcr.io\" not found"}]}
[debug] [2024-04-10T01:27:45.088Z] Failed docker command with error  HTTP Error: 404, Not Found {"name":"FirebaseError","children":[],"context":{"body":{"errors":[{"code":"NAME_UNKNOWN","message":"Repository \"us.gcr.io\" not found"}],"error":{"message":"Not Found"}},"response":{"statusCode":404}},"exit":1,"message":"HTTP Error: 404, Not Found","status":404}
[debug] [2024-04-10T01:27:45.203Z] >>> [apiv2][query] GET https://us.gcr.io/v2/seniordesign-e83c6/gcf/us-central1/tags/list [none]
[debug] [2024-04-10T01:27:45.289Z] <<< [apiv2][status] GET https://us.gcr.io/v2/seniordesign-e83c6/gcf/us-central1/tags/list 404
[debug] [2024-04-10T01:27:45.289Z] <<< [apiv2][body] GET https://us.gcr.io/v2/seniordesign-e83c6/gcf/us-central1/tags/list {"errors":[{"code":"NAME_UNKNOWN","message":"Repository \"us.gcr.io\" not found"}]}
[debug] [2024-04-10T01:27:45.289Z] Failed docker command with error  HTTP Error: 404, Not Found {"name":"FirebaseError","children":[],"context":{"body":{"errors":[{"code":"NAME_UNKNOWN","message":"Repository \"us.gcr.io\" not found"}],"error":{"message":"Not Found"}},"response":{"statusCode":404}},"exit":1,"message":"HTTP Error: 404, Not Found","status":404}
[warn] !  functions: Unhandled error cleaning up build images. This could result in a small monthly bill if not corrected. You can attempt to delete these images by redeploying or you can delete them manually at https://console.cloud.google.com/gcr/images/seniordesign-e83c6/us/gcf 
[debug] [2024-04-10T01:27:45.290Z] Functions deploy failed.
[debug] [2024-04-10T01:27:45.290Z] {
  "endpoint": {
    "id": "processUploadAndRecommend",
    "project": "seniordesign-e83c6",
    "region": "us-central1",
    "entryPoint": "processUploadAndRecommend",
    "platform": "gcfv1",
    "runtime": "nodejs18",
    "eventTrigger": {
      "eventType": "google.storage.object.finalize",
      "retry": false,
      "eventFilters": {
        "resource": "projects/_/buckets/seniordesign-e83c6.appspot.com"
      }
    },
    "labels": {
      "deployment-tool": "cli-firebase"
    },
    "ingressSettings": null,
    "availableMemoryMb": null,
    "serviceAccount": null,
    "timeoutSeconds": null,
    "maxInstances": null,
    "minInstances": null,
    "vpc": null,
    "environmentVariables": {
      "FIREBASE_CONFIG": "{\"projectId\":\"seniordesign-e83c6\",\"databaseURL\":\"https://seniordesign-e83c6-default-rtdb.firebaseio.com\",\"storageBucket\":\"seniordesign-e83c6.appspot.com\",\"locationId\":\"us-central\"}",
      "GCLOUD_PROJECT": "seniordesign-e83c6",
      "EVENTARC_CLOUD_EVENT_SOURCE": "projects/seniordesign-e83c6/locations/us-central1/functions/processUploadAndRecommend"
    },
    "codebase": "default",
    "targetedByOnly": false,
    "hash": "1f85cab4a5f473ca8d33e4c6a0f228dbcc1be472"
  },
  "op": "create",
  "original": {
    "name": "FirebaseError",
    "children": [],
    "exit": 1,
    "message": "Function failed on loading user code. This is likely due to a bug in the user code. Error message: Provided module can't be loaded.\nDid you list all required modules in the package.json dependencies?\nDetailed stack trace: Error: Cannot find module 'sharp'\nRequire stack:\n- /workspace/index.js\n- /layers/google.nodejs.functions-framework/functions-framework/node_modules/@google-cloud/functions-framework/build/src/loader.js\n- /layers/google.nodejs.functions-framework/functions-framework/node_modules/@google-cloud/functions-framework/build/src/main.js\n    at Module._resolveFilename (node:internal/modules/cjs/loader:1140:15)\n    at Module._load (node:internal/modules/cjs/loader:981:27)\n    at Module.require (node:internal/modules/cjs/loader:1231:19)\n    at require (node:internal/modules/helpers:177:18)\n    at Object.<anonymous> (/workspace/index.js:4:15)\n    at Module._compile (node:internal/modules/cjs/loader:1364:14)\n    at Module._extensions..js (node:internal/modules/cjs/loader:1422:10)\n    at Module.load (node:internal/modules/cjs/loader:1203:32)\n    at Module._load (node:internal/modules/cjs/loader:1019:12)\n    at Module.require (node:internal/modules/cjs/loader:1231:19)\nCould not load the function, shutting down.. Please visit https://cloud.google.com/functions/docs/troubleshooting for in-depth troubleshooting documentation.",
    "status": 3,
    "code": 3
  }
}
[debug] [2024-04-10T01:27:45.311Z] Error: Failed to create function processUploadAndRecommend in region us-central1
    at C:\Users\natcl\AppData\Roaming\npm\node_modules\firebase-tools\lib\deploy\functions\release\fabricator.js:51:11
    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)
    at async Fabricator.createV1Function (C:\Users\natcl\AppData\Roaming\npm\node_modules\firebase-tools\lib\deploy\functions\release\fabricator.js:181:32)
    at async Fabricator.createEndpoint (C:\Users\natcl\AppData\Roaming\npm\node_modules\firebase-tools\lib\deploy\functions\release\fabricator.js:133:13)
    at async handle (C:\Users\natcl\AppData\Roaming\npm\node_modules\firebase-tools\lib\deploy\functions\release\fabricator.js:88:17)
[error] 
[error] Error: There was an error deploying functions
[debug] [2024-04-10T01:34:34.120Z] ----------------------------------------------------------------------
[debug] [2024-04-10T01:34:34.124Z] Command:       C:\Program Files\nodejs\node.exe C:\Users\natcl\AppData\Roaming\npm\node_modules\firebase-tools\lib\bin\firebase.js deploy --only functions
[debug] [2024-04-10T01:34:34.124Z] CLI Version:   13.7.1
[debug] [2024-04-10T01:34:34.124Z] Platform:      win32
[debug] [2024-04-10T01:34:34.124Z] Node Version:  v20.12.1
[debug] [2024-04-10T01:34:34.125Z] Time:          Tue Apr 09 2024 20:34:34 GMT-0500 (Central Daylight Time)
[debug] [2024-04-10T01:34:34.125Z] ----------------------------------------------------------------------
[debug] 
[debug] [2024-04-10T01:34:34.213Z] > command requires scopes: ["email","openid","https://www.googleapis.com/auth/cloudplatformprojects.readonly","https://www.googleapis.com/auth/firebase","https://www.googleapis.com/auth/cloud-platform"]
[debug] [2024-04-10T01:34:34.213Z] > authorizing via signed-in user (natclb08@gmail.com)
[debug] [2024-04-10T01:34:34.214Z] [iam] checking project seniordesign-e83c6 for permissions ["cloudfunctions.functions.create","cloudfunctions.functions.delete","cloudfunctions.functions.get","cloudfunctions.functions.list","cloudfunctions.functions.update","cloudfunctions.operations.get","firebase.projects.get"]
[debug] [2024-04-10T01:34:34.216Z] >>> [apiv2][query] POST https://cloudresourcemanager.googleapis.com/v1/projects/seniordesign-e83c6:testIamPermissions [none]
[debug] [2024-04-10T01:34:34.216Z] >>> [apiv2][(partial)header] POST https://cloudresourcemanager.googleapis.com/v1/projects/seniordesign-e83c6:testIamPermissions x-goog-quota-user=projects/seniordesign-e83c6
[debug] [2024-04-10T01:34:34.216Z] >>> [apiv2][body] POST https://cloudresourcemanager.googleapis.com/v1/projects/seniordesign-e83c6:testIamPermissions {"permissions":["cloudfunctions.functions.create","cloudfunctions.functions.delete","cloudfunctions.functions.get","cloudfunctions.functions.list","cloudfunctions.functions.update","cloudfunctions.operations.get","firebase.projects.get"]}
[debug] [2024-04-10T01:34:34.434Z] <<< [apiv2][status] POST https://cloudresourcemanager.googleapis.com/v1/projects/seniordesign-e83c6:testIamPermissions 200
[debug] [2024-04-10T01:34:34.434Z] <<< [apiv2][body] POST https://cloudresourcemanager.googleapis.com/v1/projects/seniordesign-e83c6:testIamPermissions {"permissions":["cloudfunctions.functions.create","cloudfunctions.functions.delete","cloudfunctions.functions.get","cloudfunctions.functions.list","cloudfunctions.functions.update","cloudfunctions.operations.get","firebase.projects.get"]}
[debug] [2024-04-10T01:34:34.435Z] >>> [apiv2][query] POST https://iam.googleapis.com/v1/projects/seniordesign-e83c6/serviceAccounts/seniordesign-e83c6@appspot.gserviceaccount.com:testIamPermissions [none]
[debug] [2024-04-10T01:34:34.435Z] >>> [apiv2][body] POST https://iam.googleapis.com/v1/projects/seniordesign-e83c6/serviceAccounts/seniordesign-e83c6@appspot.gserviceaccount.com:testIamPermissions {"permissions":["iam.serviceAccounts.actAs"]}
[debug] [2024-04-10T01:34:34.602Z] <<< [apiv2][status] POST https://iam.googleapis.com/v1/projects/seniordesign-e83c6/serviceAccounts/seniordesign-e83c6@appspot.gserviceaccount.com:testIamPermissions 200
[debug] [2024-04-10T01:34:34.602Z] <<< [apiv2][body] POST https://iam.googleapis.com/v1/projects/seniordesign-e83c6/serviceAccounts/seniordesign-e83c6@appspot.gserviceaccount.com:testIamPermissions {"permissions":["iam.serviceAccounts.actAs"]}
[info] 
[info] === Deploying to 'seniordesign-e83c6'...
[info] 
[info] i  deploying functions 
[debug] [2024-04-10T01:34:34.606Z] >>> [apiv2][query] GET https://firebase.googleapis.com/v1beta1/projects/seniordesign-e83c6 [none]
[debug] [2024-04-10T01:34:34.823Z] <<< [apiv2][status] GET https://firebase.googleapis.com/v1beta1/projects/seniordesign-e83c6 200
[debug] [2024-04-10T01:34:34.823Z] <<< [apiv2][body] GET https://firebase.googleapis.com/v1beta1/projects/seniordesign-e83c6 {"projectId":"seniordesign-e83c6","projectNumber":"889627653285","displayName":"SeniorDesign","name":"projects/seniordesign-e83c6","resources":{"hostingSite":"seniordesign-e83c6","realtimeDatabaseInstance":"seniordesign-e83c6-default-rtdb","storageBucket":"seniordesign-e83c6.appspot.com","locationId":"us-central"},"state":"ACTIVE","etag":"1_f790a910-fb13-4180-b2f2-a9711fb88881"}
[info] i  functions: preparing codebase default for deployment 
[info] i  functions: ensuring required API cloudfunctions.googleapis.com is enabled... 
[info] i  functions: ensuring required API cloudbuild.googleapis.com is enabled... 
[info] i  artifactregistry: ensuring required API artifactregistry.googleapis.com is enabled... 
[debug] [2024-04-10T01:34:34.826Z] >>> [apiv2][query] GET https://serviceusage.googleapis.com/v1/projects/seniordesign-e83c6/services/cloudfunctions.googleapis.com [none]
[debug] [2024-04-10T01:34:34.827Z] >>> [apiv2][(partial)header] GET https://serviceusage.googleapis.com/v1/projects/seniordesign-e83c6/services/cloudfunctions.googleapis.com x-goog-quota-user=projects/seniordesign-e83c6
[debug] [2024-04-10T01:34:34.828Z] >>> [apiv2][query] GET https://serviceusage.googleapis.com/v1/projects/seniordesign-e83c6/services/runtimeconfig.googleapis.com [none]
[debug] [2024-04-10T01:34:34.828Z] >>> [apiv2][(partial)header] GET https://serviceusage.googleapis.com/v1/projects/seniordesign-e83c6/services/runtimeconfig.googleapis.com x-goog-quota-user=projects/seniordesign-e83c6
[debug] [2024-04-10T01:34:34.829Z] >>> [apiv2][query] GET https://serviceusage.googleapis.com/v1/projects/seniordesign-e83c6/services/cloudbuild.googleapis.com [none]
[debug] [2024-04-10T01:34:34.830Z] >>> [apiv2][(partial)header] GET https://serviceusage.googleapis.com/v1/projects/seniordesign-e83c6/services/cloudbuild.googleapis.com x-goog-quota-user=projects/seniordesign-e83c6
[debug] [2024-04-10T01:34:34.831Z] >>> [apiv2][query] GET https://serviceusage.googleapis.com/v1/projects/seniordesign-e83c6/services/artifactregistry.googleapis.com [none]
[debug] [2024-04-10T01:34:34.831Z] >>> [apiv2][(partial)header] GET https://serviceusage.googleapis.com/v1/projects/seniordesign-e83c6/services/artifactregistry.googleapis.com x-goog-quota-user=projects/seniordesign-e83c6
[debug] [2024-04-10T01:34:35.098Z] <<< [apiv2][status] GET https://serviceusage.googleapis.com/v1/projects/seniordesign-e83c6/services/cloudbuild.googleapis.com 200
[debug] [2024-04-10T01:34:35.098Z] <<< [apiv2][body] GET https://serviceusage.googleapis.com/v1/projects/seniordesign-e83c6/services/cloudbuild.googleapis.com [omitted]
[info] +  functions: required API cloudbuild.googleapis.com is enabled 
[debug] [2024-04-10T01:34:35.127Z] <<< [apiv2][status] GET https://serviceusage.googleapis.com/v1/projects/seniordesign-e83c6/services/artifactregistry.googleapis.com 200
[debug] [2024-04-10T01:34:35.127Z] <<< [apiv2][body] GET https://serviceusage.googleapis.com/v1/projects/seniordesign-e83c6/services/artifactregistry.googleapis.com [omitted]
[info] +  artifactregistry: required API artifactregistry.googleapis.com is enabled 
[debug] [2024-04-10T01:34:35.128Z] <<< [apiv2][status] GET https://serviceusage.googleapis.com/v1/projects/seniordesign-e83c6/services/runtimeconfig.googleapis.com 200
[debug] [2024-04-10T01:34:35.128Z] <<< [apiv2][body] GET https://serviceusage.googleapis.com/v1/projects/seniordesign-e83c6/services/runtimeconfig.googleapis.com [omitted]
[debug] [2024-04-10T01:34:35.160Z] <<< [apiv2][status] GET https://serviceusage.googleapis.com/v1/projects/seniordesign-e83c6/services/cloudfunctions.googleapis.com 200
[debug] [2024-04-10T01:34:35.160Z] <<< [apiv2][body] GET https://serviceusage.googleapis.com/v1/projects/seniordesign-e83c6/services/cloudfunctions.googleapis.com [omitted]
[info] +  functions: required API cloudfunctions.googleapis.com is enabled 
[debug] [2024-04-10T01:34:35.161Z] >>> [apiv2][query] GET https://firebase.googleapis.com/v1beta1/projects/seniordesign-e83c6/adminSdkConfig [none]
[debug] [2024-04-10T01:34:35.456Z] <<< [apiv2][status] GET https://firebase.googleapis.com/v1beta1/projects/seniordesign-e83c6/adminSdkConfig 200
[debug] [2024-04-10T01:34:35.456Z] <<< [apiv2][body] GET https://firebase.googleapis.com/v1beta1/projects/seniordesign-e83c6/adminSdkConfig {"projectId":"seniordesign-e83c6","databaseURL":"https://seniordesign-e83c6-default-rtdb.firebaseio.com","storageBucket":"seniordesign-e83c6.appspot.com","locationId":"us-central"}
[debug] [2024-04-10T01:34:35.457Z] >>> [apiv2][query] GET https://runtimeconfig.googleapis.com/v1beta1/projects/seniordesign-e83c6/configs [none]
[debug] [2024-04-10T01:34:35.895Z] <<< [apiv2][status] GET https://runtimeconfig.googleapis.com/v1beta1/projects/seniordesign-e83c6/configs 200
[debug] [2024-04-10T01:34:35.895Z] <<< [apiv2][body] GET https://runtimeconfig.googleapis.com/v1beta1/projects/seniordesign-e83c6/configs {"configs":[{"name":"projects/seniordesign-e83c6/configs/cloudvision"},{"name":"projects/seniordesign-e83c6/configs/openai"}]}
[debug] [2024-04-10T01:34:35.896Z] >>> [apiv2][query] GET https://runtimeconfig.googleapis.com/v1beta1/projects/seniordesign-e83c6/configs/cloudvision/variables [none]
[debug] [2024-04-10T01:34:35.896Z] >>> [apiv2][query] GET https://runtimeconfig.googleapis.com/v1beta1/projects/seniordesign-e83c6/configs/openai/variables [none]
[debug] [2024-04-10T01:34:36.010Z] <<< [apiv2][status] GET https://runtimeconfig.googleapis.com/v1beta1/projects/seniordesign-e83c6/configs/openai/variables 200
[debug] [2024-04-10T01:34:36.010Z] <<< [apiv2][body] GET https://runtimeconfig.googleapis.com/v1beta1/projects/seniordesign-e83c6/configs/openai/variables {"variables":[{"name":"projects/seniordesign-e83c6/configs/openai/variables/key","updateTime":"2024-04-10T01:11:06.440829804Z"}]}
[debug] [2024-04-10T01:34:36.012Z] >>> [apiv2][query] GET https://runtimeconfig.googleapis.com/v1beta1/projects/seniordesign-e83c6/configs/openai/variables/key [none]
[debug] [2024-04-10T01:34:36.030Z] <<< [apiv2][status] GET https://runtimeconfig.googleapis.com/v1beta1/projects/seniordesign-e83c6/configs/cloudvision/variables 200
[debug] [2024-04-10T01:34:36.030Z] <<< [apiv2][body] GET https://runtimeconfig.googleapis.com/v1beta1/projects/seniordesign-e83c6/configs/cloudvision/variables {"variables":[{"name":"projects/seniordesign-e83c6/configs/cloudvision/variables/key","updateTime":"2024-04-08T17:56:04.363427797Z"}]}
[debug] [2024-04-10T01:34:36.030Z] >>> [apiv2][query] GET https://runtimeconfig.googleapis.com/v1beta1/projects/seniordesign-e83c6/configs/cloudvision/variables/key [none]
[debug] [2024-04-10T01:34:36.149Z] <<< [apiv2][status] GET https://runtimeconfig.googleapis.com/v1beta1/projects/seniordesign-e83c6/configs/cloudvision/variables/key 200
[debug] [2024-04-10T01:34:36.150Z] <<< [apiv2][body] GET https://runtimeconfig.googleapis.com/v1beta1/projects/seniordesign-e83c6/configs/cloudvision/variables/key {"name":"projects/seniordesign-e83c6/configs/cloudvision/variables/key","updateTime":"2024-04-08T17:56:04.363427797Z","text":"AIzaSyB0mkcd88GYyoUfIfJQCcPmjXb01Ckb2sE"}
[debug] [2024-04-10T01:34:36.396Z] <<< [apiv2][status] GET https://runtimeconfig.googleapis.com/v1beta1/projects/seniordesign-e83c6/configs/openai/variables/key 200
[debug] [2024-04-10T01:34:36.397Z] <<< [apiv2][body] GET https://runtimeconfig.googleapis.com/v1beta1/projects/seniordesign-e83c6/configs/openai/variables/key {"name":"projects/seniordesign-e83c6/configs/openai/variables/key","updateTime":"2024-04-10T01:11:06.440829804Z","text":"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"}
[debug] [2024-04-10T01:34:36.398Z] Validating nodejs source
[debug] [2024-04-10T01:34:37.647Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "lint": "eslint .",
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "18"
  },
  "main": "index.js",
  "dependencies": {
    "firebase-admin": "^11.8.0",
    "firebase-functions": "^4.3.1",
    "sharp": "^0.33.3"
  },
  "devDependencies": {
    "eslint": "^8.15.0",
    "eslint-config-google": "^0.14.0",
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2024-04-10T01:34:37.648Z] Building nodejs source
[info] i  functions: Loading and analyzing source code for codebase default to determine what to deploy 
[debug] [2024-04-10T01:34:37.650Z] Could not find functions.yaml. Must use http discovery
[debug] [2024-04-10T01:34:37.658Z] Found firebase-functions binary at 'C:\Users\natcl\OneDrive\Documents\Spring_2024\Senior_Design\SeniorDesignProject\functions\node_modules\.bin\firebase-functions'
[info] Serving at port 8794

[debug] [2024-04-10T01:34:38.512Z] Got response from /__/functions.yaml {"endpoints":{"processUploadAndRecommend":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"eventTrigger":{"eventType":"google.storage.object.finalize","eventFilters":{"resource":"projects/_/buckets/seniordesign-e83c6.appspot.com"},"retry":false},"labels":{},"entryPoint":"processUploadAndRecommend"}},"specVersion":"v1alpha1","requiredAPIs":[]}
[info] i  functions: preparing functions directory for uploading... 
[info] i  functions: packaged C:\Users\natcl\OneDrive\Documents\Spring_2024\Senior_Design\SeniorDesignProject\functions (75.98 KB) for uploading 
[debug] [2024-04-10T01:34:43.605Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v1/projects/seniordesign-e83c6/locations/-/functions [none]
[debug] [2024-04-10T01:34:44.088Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v1/projects/seniordesign-e83c6/locations/-/functions 200
[debug] [2024-04-10T01:34:44.089Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v1/projects/seniordesign-e83c6/locations/-/functions {"functions":[{"name":"projects/seniordesign-e83c6/locations/us-central1/functions/processUploadAndRecommend","eventTrigger":{"eventType":"google.storage.object.finalize","resource":"projects/_/buckets/seniordesign-e83c6.appspot.com","service":"storage.googleapis.com","failurePolicy":{}},"status":"OFFLINE","entryPoint":"processUploadAndRecommend","timeout":"60s","availableMemoryMb":256,"serviceAccountEmail":"seniordesign-e83c6@appspot.gserviceaccount.com","updateTime":"2024-04-10T01:27:35.417Z","versionId":"1","labels":{"deployment-tool":"cli-firebase","firebase-functions-hash":"1f85cab4a5f473ca8d33e4c6a0f228dbcc1be472"},"sourceUploadUrl":"https://storage.googleapis.com/uploads-841930861051.us-central1.cloudfunctions.appspot.com/ba34095c-6985-4f7d-a1d0-db83666aeda3.zip","environmentVariables":{"FIREBASE_CONFIG":"{\"projectId\":\"seniordesign-e83c6\",\"databaseURL\":\"https://seniordesign-e83c6-default-rtdb.firebaseio.com\",\"storageBucket\":\"seniordesign-e83c6.appspot.com\",\"locationId\":\"us-central\"}","GCLOUD_PROJECT":"seniordesign-e83c6","EVENTARC_CLOUD_EVENT_SOURCE":"projects/seniordesign-e83c6/locations/us-central1/functions/processUploadAndRecommend"},"runtime":"nodejs18","maxInstances":3000,"ingressSettings":"ALLOW_ALL","buildId":"f673946c-bc70-452c-a751-1a8c5f401f1c","buildEnvironmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"buildName":"projects/889627653285/locations/us-central1/builds/f673946c-bc70-452c-a751-1a8c5f401f1c","dockerRegistry":"ARTIFACT_REGISTRY","automaticUpdatePolicy":{}}]}
[debug] [2024-04-10T01:34:44.090Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v2/projects/seniordesign-e83c6/locations/-/functions filter=environment%3D%22GEN_2%22
[debug] [2024-04-10T01:34:44.514Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v2/projects/seniordesign-e83c6/locations/-/functions 200
[debug] [2024-04-10T01:34:44.515Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v2/projects/seniordesign-e83c6/locations/-/functions {}
[debug] [2024-04-10T01:34:44.517Z] >>> [apiv2][query] GET https://firebase.googleapis.com/v1beta1/projects/seniordesign-e83c6 [none]
[debug] [2024-04-10T01:34:44.676Z] <<< [apiv2][status] GET https://firebase.googleapis.com/v1beta1/projects/seniordesign-e83c6 200
[debug] [2024-04-10T01:34:44.676Z] <<< [apiv2][body] GET https://firebase.googleapis.com/v1beta1/projects/seniordesign-e83c6 {"projectId":"seniordesign-e83c6","projectNumber":"889627653285","displayName":"SeniorDesign","name":"projects/seniordesign-e83c6","resources":{"hostingSite":"seniordesign-e83c6","realtimeDatabaseInstance":"seniordesign-e83c6-default-rtdb","storageBucket":"seniordesign-e83c6.appspot.com","locationId":"us-central"},"state":"ACTIVE","etag":"1_f790a910-fb13-4180-b2f2-a9711fb88881"}
[debug] [2024-04-10T01:34:44.677Z] >>> [apiv2][query] POST https://cloudfunctions.googleapis.com/v1/projects/seniordesign-e83c6/locations/us-central1/functions:generateUploadUrl [none]
[debug] [2024-04-10T01:34:44.677Z] >>> [apiv2][body] POST https://cloudfunctions.googleapis.com/v1/projects/seniordesign-e83c6/locations/us-central1/functions:generateUploadUrl {}
[debug] [2024-04-10T01:34:45.185Z] <<< [apiv2][status] POST https://cloudfunctions.googleapis.com/v1/projects/seniordesign-e83c6/locations/us-central1/functions:generateUploadUrl 200
[debug] [2024-04-10T01:34:45.186Z] <<< [apiv2][body] POST https://cloudfunctions.googleapis.com/v1/projects/seniordesign-e83c6/locations/us-central1/functions:generateUploadUrl {"uploadUrl":"https://storage.googleapis.com/uploads-841930861051.us-central1.cloudfunctions.appspot.com/4e1ea0ea-ddce-49db-bc18-5c30ca7b0007.zip?GoogleAccessId=service-889627653285@gcf-admin-robot.iam.gserviceaccount.com&Expires=1712714685&Signature=jhQiWKfytP0Ozx6jvmjDqjop%2BxGf5y17wCwgF8910o6bz4k9CEkhzck%2BotU8jbIUqwYM6cYgvy6EG8j%2BnYKHmaNg9XEQeossHF45P2kY%2FZIuEOvuxr3lZfBhCHxEB60Mxp8uSSAAChewU4twE7kixaU204Aoj43NzOGeBZQreJ84c%2BQt9Z%2Fz%2Fhuffe7NEWsCUEkfUTqjCFxbnqKjIZ80Kn1Jhdyig5RdLJRT1Ndqqk2QgLjDoaawZcpsPBp%2BSVB6CocHCM8IsRZTNYoiEfAmC7iZ5HYQuI7ikPQByQs9IgQckxv7738dm7OB0ykCqQK96OzJfsfqecM3SPXDgrqbTw%3D%3D"}
[debug] [2024-04-10T01:34:45.187Z] >>> [apiv2][query] PUT https://storage.googleapis.com/uploads-841930861051.us-central1.cloudfunctions.appspot.com/4e1ea0ea-ddce-49db-bc18-5c30ca7b0007.zip GoogleAccessId=service-889627653285%40gcf-admin-robot.iam.gserviceaccount.com&Expires=1712714685&Signature=jhQiWKfytP0Ozx6jvmjDqjop%2BxGf5y17wCwgF8910o6bz4k9CEkhzck%2BotU8jbIUqwYM6cYgvy6EG8j%2BnYKHmaNg9XEQeossHF45P2kY%2FZIuEOvuxr3lZfBhCHxEB60Mxp8uSSAAChewU4twE7kixaU204Aoj43NzOGeBZQreJ84c%2BQt9Z%2Fz%2Fhuffe7NEWsCUEkfUTqjCFxbnqKjIZ80Kn1Jhdyig5RdLJRT1Ndqqk2QgLjDoaawZcpsPBp%2BSVB6CocHCM8IsRZTNYoiEfAmC7iZ5HYQuI7ikPQByQs9IgQckxv7738dm7OB0ykCqQK96OzJfsfqecM3SPXDgrqbTw%3D%3D
[debug] [2024-04-10T01:34:45.187Z] >>> [apiv2][body] PUT https://storage.googleapis.com/uploads-841930861051.us-central1.cloudfunctions.appspot.com/4e1ea0ea-ddce-49db-bc18-5c30ca7b0007.zip [stream]
[debug] [2024-04-10T01:34:45.368Z] <<< [apiv2][status] PUT https://storage.googleapis.com/uploads-841930861051.us-central1.cloudfunctions.appspot.com/4e1ea0ea-ddce-49db-bc18-5c30ca7b0007.zip 200
[debug] [2024-04-10T01:34:45.368Z] <<< [apiv2][body] PUT https://storage.googleapis.com/uploads-841930861051.us-central1.cloudfunctions.appspot.com/4e1ea0ea-ddce-49db-bc18-5c30ca7b0007.zip [omitted]
[info] +  functions: functions folder uploaded successfully 
[info] i  functions: updating Node.js 18 (1st Gen) function processUploadAndRecommend(us-central1)... 
[debug] [2024-04-10T01:34:45.375Z] >>> [apiv2][query] PATCH https://cloudfunctions.googleapis.com/v1/projects/seniordesign-e83c6/locations/us-central1/functions/processUploadAndRecommend updateMask=name%2CsourceUploadUrl%2CentryPoint%2Cruntime%2CdockerRegistry%2Clabels%2CeventTrigger.eventType%2CeventTrigger.resource%2CeventTrigger.failurePolicy%2CminInstances%2CmaxInstances%2CingressSettings%2CenvironmentVariables%2CserviceAccountEmail%2CavailableMemoryMb%2Ctimeout%2CvpcConnector%2CvpcConnectorEgressSettings%2CsourceToken%2CbuildEnvironmentVariables
[debug] [2024-04-10T01:34:45.375Z] >>> [apiv2][body] PATCH https://cloudfunctions.googleapis.com/v1/projects/seniordesign-e83c6/locations/us-central1/functions/processUploadAndRecommend {"name":"projects/seniordesign-e83c6/locations/us-central1/functions/processUploadAndRecommend","sourceUploadUrl":"https://storage.googleapis.com/uploads-841930861051.us-central1.cloudfunctions.appspot.com/4e1ea0ea-ddce-49db-bc18-5c30ca7b0007.zip?GoogleAccessId=service-889627653285@gcf-admin-robot.iam.gserviceaccount.com&Expires=1712714685&Signature=jhQiWKfytP0Ozx6jvmjDqjop%2BxGf5y17wCwgF8910o6bz4k9CEkhzck%2BotU8jbIUqwYM6cYgvy6EG8j%2BnYKHmaNg9XEQeossHF45P2kY%2FZIuEOvuxr3lZfBhCHxEB60Mxp8uSSAAChewU4twE7kixaU204Aoj43NzOGeBZQreJ84c%2BQt9Z%2Fz%2Fhuffe7NEWsCUEkfUTqjCFxbnqKjIZ80Kn1Jhdyig5RdLJRT1Ndqqk2QgLjDoaawZcpsPBp%2BSVB6CocHCM8IsRZTNYoiEfAmC7iZ5HYQuI7ikPQByQs9IgQckxv7738dm7OB0ykCqQK96OzJfsfqecM3SPXDgrqbTw%3D%3D","entryPoint":"processUploadAndRecommend","runtime":"nodejs18","dockerRegistry":"ARTIFACT_REGISTRY","labels":{"deployment-tool":"cli-firebase","firebase-functions-hash":"ac45ab43b3f778eac138a1935c6cf44536f41428"},"eventTrigger":{"eventType":"google.storage.object.finalize","resource":"projects/_/buckets/seniordesign-e83c6.appspot.com"},"minInstances":null,"maxInstances":null,"ingressSettings":null,"environmentVariables":{"FIREBASE_CONFIG":"{\"projectId\":\"seniordesign-e83c6\",\"databaseURL\":\"https://seniordesign-e83c6-default-rtdb.firebaseio.com\",\"storageBucket\":\"seniordesign-e83c6.appspot.com\",\"locationId\":\"us-central\"}","GCLOUD_PROJECT":"seniordesign-e83c6","EVENTARC_CLOUD_EVENT_SOURCE":"projects/seniordesign-e83c6/locations/us-central1/functions/processUploadAndRecommend"},"serviceAccountEmail":null,"availableMemoryMb":null,"timeout":null,"vpcConnector":null,"vpcConnectorEgressSettings":null,"buildEnvironmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""}}
[debug] [2024-04-10T01:34:45.852Z] <<< [apiv2][status] PATCH https://cloudfunctions.googleapis.com/v1/projects/seniordesign-e83c6/locations/us-central1/functions/processUploadAndRecommend 200
[debug] [2024-04-10T01:34:45.852Z] <<< [apiv2][body] PATCH https://cloudfunctions.googleapis.com/v1/projects/seniordesign-e83c6/locations/us-central1/functions/processUploadAndRecommend {"name":"operations/c2VuaW9yZGVzaWduLWU4M2M2L3VzLWNlbnRyYWwxL3Byb2Nlc3NVcGxvYWRBbmRSZWNvbW1lbmQvYzZYcUZ0Qk04X1U","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v1.OperationMetadataV1","target":"projects/seniordesign-e83c6/locations/us-central1/functions/processUploadAndRecommend","type":"UPDATE_FUNCTION","request":{"@type":"type.googleapis.com/google.cloud.functions.v1.CloudFunction","name":"projects/seniordesign-e83c6/locations/us-central1/functions/processUploadAndRecommend","eventTrigger":{"eventType":"google.storage.object.finalize","resource":"projects/_/buckets/seniordesign-e83c6.appspot.com","service":"storage.googleapis.com"},"status":"OFFLINE","entryPoint":"processUploadAndRecommend","updateTime":"2024-04-10T01:27:35.417Z","versionId":"1","labels":{"deployment-tool":"cli-firebase","firebase-functions-hash":"ac45ab43b3f778eac138a1935c6cf44536f41428"},"sourceUploadUrl":"https://storage.googleapis.com/uploads-841930861051.us-central1.cloudfunctions.appspot.com/4e1ea0ea-ddce-49db-bc18-5c30ca7b0007.zip?GoogleAccessId=service-889627653285@gcf-admin-robot.iam.gserviceaccount.com&Expires=1712714685&Signature=jhQiWKfytP0Ozx6jvmjDqjop%2BxGf5y17wCwgF8910o6bz4k9CEkhzck%2BotU8jbIUqwYM6cYgvy6EG8j%2BnYKHmaNg9XEQeossHF45P2kY%2FZIuEOvuxr3lZfBhCHxEB60Mxp8uSSAAChewU4twE7kixaU204Aoj43NzOGeBZQreJ84c%2BQt9Z%2Fz%2Fhuffe7NEWsCUEkfUTqjCFxbnqKjIZ80Kn1Jhdyig5RdLJRT1Ndqqk2QgLjDoaawZcpsPBp%2BSVB6CocHCM8IsRZTNYoiEfAmC7iZ5HYQuI7ikPQByQs9IgQckxv7738dm7OB0ykCqQK96OzJfsfqecM3SPXDgrqbTw%3D%3D","environmentVariables":{"FIREBASE_CONFIG":"{\"projectId\":\"seniordesign-e83c6\",\"databaseURL\":\"https://seniordesign-e83c6-default-rtdb.firebaseio.com\",\"storageBucket\":\"seniordesign-e83c6.appspot.com\",\"locationId\":\"us-central\"}","GCLOUD_PROJECT":"seniordesign-e83c6","EVENTARC_CLOUD_EVENT_SOURCE":"projects/seniordesign-e83c6/locations/us-central1/functions/processUploadAndRecommend"},"runtime":"nodejs18","buildId":"f673946c-bc70-452c-a751-1a8c5f401f1c","buildEnvironmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"buildName":"projects/889627653285/locations/us-central1/builds/f673946c-bc70-452c-a751-1a8c5f401f1c","dockerRegistry":"ARTIFACT_REGISTRY","automaticUpdatePolicy":{}},"versionId":"2","updateTime":"2024-04-10T01:34:46Z"}}
[debug] [2024-04-10T01:34:45.853Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v1/operations/c2VuaW9yZGVzaWduLWU4M2M2L3VzLWNlbnRyYWwxL3Byb2Nlc3NVcGxvYWRBbmRSZWNvbW1lbmQvYzZYcUZ0Qk04X1U [none]
[debug] [2024-04-10T01:34:45.959Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v1/operations/c2VuaW9yZGVzaWduLWU4M2M2L3VzLWNlbnRyYWwxL3Byb2Nlc3NVcGxvYWRBbmRSZWNvbW1lbmQvYzZYcUZ0Qk04X1U 200
[debug] [2024-04-10T01:34:45.959Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v1/operations/c2VuaW9yZGVzaWduLWU4M2M2L3VzLWNlbnRyYWwxL3Byb2Nlc3NVcGxvYWRBbmRSZWNvbW1lbmQvYzZYcUZ0Qk04X1U {"name":"operations/c2VuaW9yZGVzaWduLWU4M2M2L3VzLWNlbnRyYWwxL3Byb2Nlc3NVcGxvYWRBbmRSZWNvbW1lbmQvYzZYcUZ0Qk04X1U","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v1.OperationMetadataV1","target":"projects/seniordesign-e83c6/locations/us-central1/functions/processUploadAndRecommend","type":"UPDATE_FUNCTION","request":{"@type":"type.googleapis.com/google.cloud.functions.v1.CloudFunction","name":"projects/seniordesign-e83c6/locations/us-central1/functions/processUploadAndRecommend","eventTrigger":{"eventType":"google.storage.object.finalize","resource":"projects/_/buckets/seniordesign-e83c6.appspot.com","service":"storage.googleapis.com"},"status":"OFFLINE","entryPoint":"processUploadAndRecommend","updateTime":"2024-04-10T01:27:35.417Z","versionId":"1","labels":{"deployment-tool":"cli-firebase","firebase-functions-hash":"ac45ab43b3f778eac138a1935c6cf44536f41428"},"sourceUploadUrl":"https://storage.googleapis.com/uploads-841930861051.us-central1.cloudfunctions.appspot.com/4e1ea0ea-ddce-49db-bc18-5c30ca7b0007.zip?GoogleAccessId=service-889627653285@gcf-admin-robot.iam.gserviceaccount.com&Expires=1712714685&Signature=jhQiWKfytP0Ozx6jvmjDqjop%2BxGf5y17wCwgF8910o6bz4k9CEkhzck%2BotU8jbIUqwYM6cYgvy6EG8j%2BnYKHmaNg9XEQeossHF45P2kY%2FZIuEOvuxr3lZfBhCHxEB60Mxp8uSSAAChewU4twE7kixaU204Aoj43NzOGeBZQreJ84c%2BQt9Z%2Fz%2Fhuffe7NEWsCUEkfUTqjCFxbnqKjIZ80Kn1Jhdyig5RdLJRT1Ndqqk2QgLjDoaawZcpsPBp%2BSVB6CocHCM8IsRZTNYoiEfAmC7iZ5HYQuI7ikPQByQs9IgQckxv7738dm7OB0ykCqQK96OzJfsfqecM3SPXDgrqbTw%3D%3D","environmentVariables":{"FIREBASE_CONFIG":"{\"projectId\":\"seniordesign-e83c6\",\"databaseURL\":\"https://seniordesign-e83c6-default-rtdb.firebaseio.com\",\"storageBucket\":\"seniordesign-e83c6.appspot.com\",\"locationId\":\"us-central\"}","GCLOUD_PROJECT":"seniordesign-e83c6","EVENTARC_CLOUD_EVENT_SOURCE":"projects/seniordesign-e83c6/locations/us-central1/functions/processUploadAndRecommend"},"runtime":"nodejs18","buildId":"f673946c-bc70-452c-a751-1a8c5f401f1c","buildEnvironmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"buildName":"projects/889627653285/locations/us-central1/builds/f673946c-bc70-452c-a751-1a8c5f401f1c","dockerRegistry":"ARTIFACT_REGISTRY","automaticUpdatePolicy":{}},"versionId":"2","updateTime":"2024-04-10T01:34:46Z"}}
[debug] [2024-04-10T01:34:46.465Z] [update-default-us-central1-processUploadAndRecommend] Retrying task index 0
[debug] [2024-04-10T01:34:46.465Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v1/operations/c2VuaW9yZGVzaWduLWU4M2M2L3VzLWNlbnRyYWwxL3Byb2Nlc3NVcGxvYWRBbmRSZWNvbW1lbmQvYzZYcUZ0Qk04X1U [none]
[debug] [2024-04-10T01:34:46.606Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v1/operations/c2VuaW9yZGVzaWduLWU4M2M2L3VzLWNlbnRyYWwxL3Byb2Nlc3NVcGxvYWRBbmRSZWNvbW1lbmQvYzZYcUZ0Qk04X1U 200
[debug] [2024-04-10T01:34:46.607Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v1/operations/c2VuaW9yZGVzaWduLWU4M2M2L3VzLWNlbnRyYWwxL3Byb2Nlc3NVcGxvYWRBbmRSZWNvbW1lbmQvYzZYcUZ0Qk04X1U {"name":"operations/c2VuaW9yZGVzaWduLWU4M2M2L3VzLWNlbnRyYWwxL3Byb2Nlc3NVcGxvYWRBbmRSZWNvbW1lbmQvYzZYcUZ0Qk04X1U","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v1.OperationMetadataV1","target":"projects/seniordesign-e83c6/locations/us-central1/functions/processUploadAndRecommend","type":"UPDATE_FUNCTION","request":{"@type":"type.googleapis.com/google.cloud.functions.v1.CloudFunction","name":"projects/seniordesign-e83c6/locations/us-central1/functions/processUploadAndRecommend","eventTrigger":{"eventType":"google.storage.object.finalize","resource":"projects/_/buckets/seniordesign-e83c6.appspot.com","service":"storage.googleapis.com"},"status":"OFFLINE","entryPoint":"processUploadAndRecommend","updateTime":"2024-04-10T01:27:35.417Z","versionId":"1","labels":{"deployment-tool":"cli-firebase","firebase-functions-hash":"ac45ab43b3f778eac138a1935c6cf44536f41428"},"sourceUploadUrl":"https://storage.googleapis.com/uploads-841930861051.us-central1.cloudfunctions.appspot.com/4e1ea0ea-ddce-49db-bc18-5c30ca7b0007.zip?GoogleAccessId=service-889627653285@gcf-admin-robot.iam.gserviceaccount.com&Expires=1712714685&Signature=jhQiWKfytP0Ozx6jvmjDqjop%2BxGf5y17wCwgF8910o6bz4k9CEkhzck%2BotU8jbIUqwYM6cYgvy6EG8j%2BnYKHmaNg9XEQeossHF45P2kY%2FZIuEOvuxr3lZfBhCHxEB60Mxp8uSSAAChewU4twE7kixaU204Aoj43NzOGeBZQreJ84c%2BQt9Z%2Fz%2Fhuffe7NEWsCUEkfUTqjCFxbnqKjIZ80Kn1Jhdyig5RdLJRT1Ndqqk2QgLjDoaawZcpsPBp%2BSVB6CocHCM8IsRZTNYoiEfAmC7iZ5HYQuI7ikPQByQs9IgQckxv7738dm7OB0ykCqQK96OzJfsfqecM3SPXDgrqbTw%3D%3D","environmentVariables":{"FIREBASE_CONFIG":"{\"projectId\":\"seniordesign-e83c6\",\"databaseURL\":\"https://seniordesign-e83c6-default-rtdb.firebaseio.com\",\"storageBucket\":\"seniordesign-e83c6.appspot.com\",\"locationId\":\"us-central\"}","GCLOUD_PROJECT":"seniordesign-e83c6","EVENTARC_CLOUD_EVENT_SOURCE":"projects/seniordesign-e83c6/locations/us-central1/functions/processUploadAndRecommend"},"runtime":"nodejs18","buildId":"f673946c-bc70-452c-a751-1a8c5f401f1c","buildEnvironmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"buildName":"projects/889627653285/locations/us-central1/builds/f673946c-bc70-452c-a751-1a8c5f401f1c","dockerRegistry":"ARTIFACT_REGISTRY","automaticUpdatePolicy":{}},"versionId":"2","updateTime":"2024-04-10T01:34:46Z"}}
[debug] [2024-04-10T01:34:47.615Z] [update-default-us-central1-processUploadAndRecommend] Retrying task index 0
[debug] [2024-04-10T01:34:47.616Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v1/operations/c2VuaW9yZGVzaWduLWU4M2M2L3VzLWNlbnRyYWwxL3Byb2Nlc3NVcGxvYWRBbmRSZWNvbW1lbmQvYzZYcUZ0Qk04X1U [none]
[debug] [2024-04-10T01:34:47.736Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v1/operations/c2VuaW9yZGVzaWduLWU4M2M2L3VzLWNlbnRyYWwxL3Byb2Nlc3NVcGxvYWRBbmRSZWNvbW1lbmQvYzZYcUZ0Qk04X1U 200
[debug] [2024-04-10T01:34:47.736Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v1/operations/c2VuaW9yZGVzaWduLWU4M2M2L3VzLWNlbnRyYWwxL3Byb2Nlc3NVcGxvYWRBbmRSZWNvbW1lbmQvYzZYcUZ0Qk04X1U {"name":"operations/c2VuaW9yZGVzaWduLWU4M2M2L3VzLWNlbnRyYWwxL3Byb2Nlc3NVcGxvYWRBbmRSZWNvbW1lbmQvYzZYcUZ0Qk04X1U","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v1.OperationMetadataV1","target":"projects/seniordesign-e83c6/locations/us-central1/functions/processUploadAndRecommend","type":"UPDATE_FUNCTION","request":{"@type":"type.googleapis.com/google.cloud.functions.v1.CloudFunction","name":"projects/seniordesign-e83c6/locations/us-central1/functions/processUploadAndRecommend","eventTrigger":{"eventType":"google.storage.object.finalize","resource":"projects/_/buckets/seniordesign-e83c6.appspot.com","service":"storage.googleapis.com"},"status":"OFFLINE","entryPoint":"processUploadAndRecommend","updateTime":"2024-04-10T01:27:35.417Z","versionId":"1","labels":{"deployment-tool":"cli-firebase","firebase-functions-hash":"ac45ab43b3f778eac138a1935c6cf44536f41428"},"sourceUploadUrl":"https://storage.googleapis.com/uploads-841930861051.us-central1.cloudfunctions.appspot.com/4e1ea0ea-ddce-49db-bc18-5c30ca7b0007.zip?GoogleAccessId=service-889627653285@gcf-admin-robot.iam.gserviceaccount.com&Expires=1712714685&Signature=jhQiWKfytP0Ozx6jvmjDqjop%2BxGf5y17wCwgF8910o6bz4k9CEkhzck%2BotU8jbIUqwYM6cYgvy6EG8j%2BnYKHmaNg9XEQeossHF45P2kY%2FZIuEOvuxr3lZfBhCHxEB60Mxp8uSSAAChewU4twE7kixaU204Aoj43NzOGeBZQreJ84c%2BQt9Z%2Fz%2Fhuffe7NEWsCUEkfUTqjCFxbnqKjIZ80Kn1Jhdyig5RdLJRT1Ndqqk2QgLjDoaawZcpsPBp%2BSVB6CocHCM8IsRZTNYoiEfAmC7iZ5HYQuI7ikPQByQs9IgQckxv7738dm7OB0ykCqQK96OzJfsfqecM3SPXDgrqbTw%3D%3D","environmentVariables":{"FIREBASE_CONFIG":"{\"projectId\":\"seniordesign-e83c6\",\"databaseURL\":\"https://seniordesign-e83c6-default-rtdb.firebaseio.com\",\"storageBucket\":\"seniordesign-e83c6.appspot.com\",\"locationId\":\"us-central\"}","GCLOUD_PROJECT":"seniordesign-e83c6","EVENTARC_CLOUD_EVENT_SOURCE":"projects/seniordesign-e83c6/locations/us-central1/functions/processUploadAndRecommend"},"runtime":"nodejs18","buildId":"f673946c-bc70-452c-a751-1a8c5f401f1c","buildEnvironmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"buildName":"projects/889627653285/locations/us-central1/builds/f673946c-bc70-452c-a751-1a8c5f401f1c","dockerRegistry":"ARTIFACT_REGISTRY","automaticUpdatePolicy":{}},"versionId":"2","updateTime":"2024-04-10T01:34:46Z","buildId":"1291a92d-c2a8-43fb-b046-a70c1f9dedb7","buildName":"projects/889627653285/locations/us-central1/builds/1291a92d-c2a8-43fb-b046-a70c1f9dedb7"}}
[debug] [2024-04-10T01:34:49.750Z] [update-default-us-central1-processUploadAndRecommend] Retrying task index 0
[debug] [2024-04-10T01:34:49.750Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v1/operations/c2VuaW9yZGVzaWduLWU4M2M2L3VzLWNlbnRyYWwxL3Byb2Nlc3NVcGxvYWRBbmRSZWNvbW1lbmQvYzZYcUZ0Qk04X1U [none]
[debug] [2024-04-10T01:34:49.901Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v1/operations/c2VuaW9yZGVzaWduLWU4M2M2L3VzLWNlbnRyYWwxL3Byb2Nlc3NVcGxvYWRBbmRSZWNvbW1lbmQvYzZYcUZ0Qk04X1U 200
[debug] [2024-04-10T01:34:49.901Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v1/operations/c2VuaW9yZGVzaWduLWU4M2M2L3VzLWNlbnRyYWwxL3Byb2Nlc3NVcGxvYWRBbmRSZWNvbW1lbmQvYzZYcUZ0Qk04X1U {"name":"operations/c2VuaW9yZGVzaWduLWU4M2M2L3VzLWNlbnRyYWwxL3Byb2Nlc3NVcGxvYWRBbmRSZWNvbW1lbmQvYzZYcUZ0Qk04X1U","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v1.OperationMetadataV1","target":"projects/seniordesign-e83c6/locations/us-central1/functions/processUploadAndRecommend","type":"UPDATE_FUNCTION","request":{"@type":"type.googleapis.com/google.cloud.functions.v1.CloudFunction","name":"projects/seniordesign-e83c6/locations/us-central1/functions/processUploadAndRecommend","eventTrigger":{"eventType":"google.storage.object.finalize","resource":"projects/_/buckets/seniordesign-e83c6.appspot.com","service":"storage.googleapis.com"},"status":"OFFLINE","entryPoint":"processUploadAndRecommend","updateTime":"2024-04-10T01:27:35.417Z","versionId":"1","labels":{"deployment-tool":"cli-firebase","firebase-functions-hash":"ac45ab43b3f778eac138a1935c6cf44536f41428"},"sourceUploadUrl":"https://storage.googleapis.com/uploads-841930861051.us-central1.cloudfunctions.appspot.com/4e1ea0ea-ddce-49db-bc18-5c30ca7b0007.zip?GoogleAccessId=service-889627653285@gcf-admin-robot.iam.gserviceaccount.com&Expires=1712714685&Signature=jhQiWKfytP0Ozx6jvmjDqjop%2BxGf5y17wCwgF8910o6bz4k9CEkhzck%2BotU8jbIUqwYM6cYgvy6EG8j%2BnYKHmaNg9XEQeossHF45P2kY%2FZIuEOvuxr3lZfBhCHxEB60Mxp8uSSAAChewU4twE7kixaU204Aoj43NzOGeBZQreJ84c%2BQt9Z%2Fz%2Fhuffe7NEWsCUEkfUTqjCFxbnqKjIZ80Kn1Jhdyig5RdLJRT1Ndqqk2QgLjDoaawZcpsPBp%2BSVB6CocHCM8IsRZTNYoiEfAmC7iZ5HYQuI7ikPQByQs9IgQckxv7738dm7OB0ykCqQK96OzJfsfqecM3SPXDgrqbTw%3D%3D","environmentVariables":{"FIREBASE_CONFIG":"{\"projectId\":\"seniordesign-e83c6\",\"databaseURL\":\"https://seniordesign-e83c6-default-rtdb.firebaseio.com\",\"storageBucket\":\"seniordesign-e83c6.appspot.com\",\"locationId\":\"us-central\"}","GCLOUD_PROJECT":"seniordesign-e83c6","EVENTARC_CLOUD_EVENT_SOURCE":"projects/seniordesign-e83c6/locations/us-central1/functions/processUploadAndRecommend"},"runtime":"nodejs18","buildId":"f673946c-bc70-452c-a751-1a8c5f401f1c","buildEnvironmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"buildName":"projects/889627653285/locations/us-central1/builds/f673946c-bc70-452c-a751-1a8c5f401f1c","dockerRegistry":"ARTIFACT_REGISTRY","automaticUpdatePolicy":{}},"versionId":"2","updateTime":"2024-04-10T01:34:46Z","buildId":"1291a92d-c2a8-43fb-b046-a70c1f9dedb7","buildName":"projects/889627653285/locations/us-central1/builds/1291a92d-c2a8-43fb-b046-a70c1f9dedb7"}}
[debug] [2024-04-10T01:34:53.908Z] [update-default-us-central1-processUploadAndRecommend] Retrying task index 0
[debug] [2024-04-10T01:34:53.909Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v1/operations/c2VuaW9yZGVzaWduLWU4M2M2L3VzLWNlbnRyYWwxL3Byb2Nlc3NVcGxvYWRBbmRSZWNvbW1lbmQvYzZYcUZ0Qk04X1U [none]
[debug] [2024-04-10T01:34:54.059Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v1/operations/c2VuaW9yZGVzaWduLWU4M2M2L3VzLWNlbnRyYWwxL3Byb2Nlc3NVcGxvYWRBbmRSZWNvbW1lbmQvYzZYcUZ0Qk04X1U 200
[debug] [2024-04-10T01:34:54.059Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v1/operations/c2VuaW9yZGVzaWduLWU4M2M2L3VzLWNlbnRyYWwxL3Byb2Nlc3NVcGxvYWRBbmRSZWNvbW1lbmQvYzZYcUZ0Qk04X1U {"name":"operations/c2VuaW9yZGVzaWduLWU4M2M2L3VzLWNlbnRyYWwxL3Byb2Nlc3NVcGxvYWRBbmRSZWNvbW1lbmQvYzZYcUZ0Qk04X1U","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v1.OperationMetadataV1","target":"projects/seniordesign-e83c6/locations/us-central1/functions/processUploadAndRecommend","type":"UPDATE_FUNCTION","request":{"@type":"type.googleapis.com/google.cloud.functions.v1.CloudFunction","name":"projects/seniordesign-e83c6/locations/us-central1/functions/processUploadAndRecommend","eventTrigger":{"eventType":"google.storage.object.finalize","resource":"projects/_/buckets/seniordesign-e83c6.appspot.com","service":"storage.googleapis.com"},"status":"OFFLINE","entryPoint":"processUploadAndRecommend","updateTime":"2024-04-10T01:27:35.417Z","versionId":"1","labels":{"deployment-tool":"cli-firebase","firebase-functions-hash":"ac45ab43b3f778eac138a1935c6cf44536f41428"},"sourceUploadUrl":"https://storage.googleapis.com/uploads-841930861051.us-central1.cloudfunctions.appspot.com/4e1ea0ea-ddce-49db-bc18-5c30ca7b0007.zip?GoogleAccessId=service-889627653285@gcf-admin-robot.iam.gserviceaccount.com&Expires=1712714685&Signature=jhQiWKfytP0Ozx6jvmjDqjop%2BxGf5y17wCwgF8910o6bz4k9CEkhzck%2BotU8jbIUqwYM6cYgvy6EG8j%2BnYKHmaNg9XEQeossHF45P2kY%2FZIuEOvuxr3lZfBhCHxEB60Mxp8uSSAAChewU4twE7kixaU204Aoj43NzOGeBZQreJ84c%2BQt9Z%2Fz%2Fhuffe7NEWsCUEkfUTqjCFxbnqKjIZ80Kn1Jhdyig5RdLJRT1Ndqqk2QgLjDoaawZcpsPBp%2BSVB6CocHCM8IsRZTNYoiEfAmC7iZ5HYQuI7ikPQByQs9IgQckxv7738dm7OB0ykCqQK96OzJfsfqecM3SPXDgrqbTw%3D%3D","environmentVariables":{"FIREBASE_CONFIG":"{\"projectId\":\"seniordesign-e83c6\",\"databaseURL\":\"https://seniordesign-e83c6-default-rtdb.firebaseio.com\",\"storageBucket\":\"seniordesign-e83c6.appspot.com\",\"locationId\":\"us-central\"}","GCLOUD_PROJECT":"seniordesign-e83c6","EVENTARC_CLOUD_EVENT_SOURCE":"projects/seniordesign-e83c6/locations/us-central1/functions/processUploadAndRecommend"},"runtime":"nodejs18","buildId":"f673946c-bc70-452c-a751-1a8c5f401f1c","buildEnvironmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"buildName":"projects/889627653285/locations/us-central1/builds/f673946c-bc70-452c-a751-1a8c5f401f1c","dockerRegistry":"ARTIFACT_REGISTRY","automaticUpdatePolicy":{}},"versionId":"2","updateTime":"2024-04-10T01:34:46Z","buildId":"1291a92d-c2a8-43fb-b046-a70c1f9dedb7","buildName":"projects/889627653285/locations/us-central1/builds/1291a92d-c2a8-43fb-b046-a70c1f9dedb7"}}
[debug] [2024-04-10T01:35:02.062Z] [update-default-us-central1-processUploadAndRecommend] Retrying task index 0
[debug] [2024-04-10T01:35:02.062Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v1/operations/c2VuaW9yZGVzaWduLWU4M2M2L3VzLWNlbnRyYWwxL3Byb2Nlc3NVcGxvYWRBbmRSZWNvbW1lbmQvYzZYcUZ0Qk04X1U [none]
[debug] [2024-04-10T01:35:02.215Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v1/operations/c2VuaW9yZGVzaWduLWU4M2M2L3VzLWNlbnRyYWwxL3Byb2Nlc3NVcGxvYWRBbmRSZWNvbW1lbmQvYzZYcUZ0Qk04X1U 200
[debug] [2024-04-10T01:35:02.215Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v1/operations/c2VuaW9yZGVzaWduLWU4M2M2L3VzLWNlbnRyYWwxL3Byb2Nlc3NVcGxvYWRBbmRSZWNvbW1lbmQvYzZYcUZ0Qk04X1U {"name":"operations/c2VuaW9yZGVzaWduLWU4M2M2L3VzLWNlbnRyYWwxL3Byb2Nlc3NVcGxvYWRBbmRSZWNvbW1lbmQvYzZYcUZ0Qk04X1U","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v1.OperationMetadataV1","target":"projects/seniordesign-e83c6/locations/us-central1/functions/processUploadAndRecommend","type":"UPDATE_FUNCTION","request":{"@type":"type.googleapis.com/google.cloud.functions.v1.CloudFunction","name":"projects/seniordesign-e83c6/locations/us-central1/functions/processUploadAndRecommend","eventTrigger":{"eventType":"google.storage.object.finalize","resource":"projects/_/buckets/seniordesign-e83c6.appspot.com","service":"storage.googleapis.com"},"status":"OFFLINE","entryPoint":"processUploadAndRecommend","updateTime":"2024-04-10T01:27:35.417Z","versionId":"1","labels":{"deployment-tool":"cli-firebase","firebase-functions-hash":"ac45ab43b3f778eac138a1935c6cf44536f41428"},"sourceUploadUrl":"https://storage.googleapis.com/uploads-841930861051.us-central1.cloudfunctions.appspot.com/4e1ea0ea-ddce-49db-bc18-5c30ca7b0007.zip?GoogleAccessId=service-889627653285@gcf-admin-robot.iam.gserviceaccount.com&Expires=1712714685&Signature=jhQiWKfytP0Ozx6jvmjDqjop%2BxGf5y17wCwgF8910o6bz4k9CEkhzck%2BotU8jbIUqwYM6cYgvy6EG8j%2BnYKHmaNg9XEQeossHF45P2kY%2FZIuEOvuxr3lZfBhCHxEB60Mxp8uSSAAChewU4twE7kixaU204Aoj43NzOGeBZQreJ84c%2BQt9Z%2Fz%2Fhuffe7NEWsCUEkfUTqjCFxbnqKjIZ80Kn1Jhdyig5RdLJRT1Ndqqk2QgLjDoaawZcpsPBp%2BSVB6CocHCM8IsRZTNYoiEfAmC7iZ5HYQuI7ikPQByQs9IgQckxv7738dm7OB0ykCqQK96OzJfsfqecM3SPXDgrqbTw%3D%3D","environmentVariables":{"FIREBASE_CONFIG":"{\"projectId\":\"seniordesign-e83c6\",\"databaseURL\":\"https://seniordesign-e83c6-default-rtdb.firebaseio.com\",\"storageBucket\":\"seniordesign-e83c6.appspot.com\",\"locationId\":\"us-central\"}","GCLOUD_PROJECT":"seniordesign-e83c6","EVENTARC_CLOUD_EVENT_SOURCE":"projects/seniordesign-e83c6/locations/us-central1/functions/processUploadAndRecommend"},"runtime":"nodejs18","buildId":"f673946c-bc70-452c-a751-1a8c5f401f1c","buildEnvironmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"buildName":"projects/889627653285/locations/us-central1/builds/f673946c-bc70-452c-a751-1a8c5f401f1c","dockerRegistry":"ARTIFACT_REGISTRY","automaticUpdatePolicy":{}},"versionId":"2","updateTime":"2024-04-10T01:34:46Z","buildId":"1291a92d-c2a8-43fb-b046-a70c1f9dedb7","buildName":"projects/889627653285/locations/us-central1/builds/1291a92d-c2a8-43fb-b046-a70c1f9dedb7"}}
[debug] [2024-04-10T01:35:12.230Z] [update-default-us-central1-processUploadAndRecommend] Retrying task index 0
[debug] [2024-04-10T01:35:12.231Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v1/operations/c2VuaW9yZGVzaWduLWU4M2M2L3VzLWNlbnRyYWwxL3Byb2Nlc3NVcGxvYWRBbmRSZWNvbW1lbmQvYzZYcUZ0Qk04X1U [none]
[debug] [2024-04-10T01:35:12.408Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v1/operations/c2VuaW9yZGVzaWduLWU4M2M2L3VzLWNlbnRyYWwxL3Byb2Nlc3NVcGxvYWRBbmRSZWNvbW1lbmQvYzZYcUZ0Qk04X1U 200
[debug] [2024-04-10T01:35:12.409Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v1/operations/c2VuaW9yZGVzaWduLWU4M2M2L3VzLWNlbnRyYWwxL3Byb2Nlc3NVcGxvYWRBbmRSZWNvbW1lbmQvYzZYcUZ0Qk04X1U {"name":"operations/c2VuaW9yZGVzaWduLWU4M2M2L3VzLWNlbnRyYWwxL3Byb2Nlc3NVcGxvYWRBbmRSZWNvbW1lbmQvYzZYcUZ0Qk04X1U","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v1.OperationMetadataV1","target":"projects/seniordesign-e83c6/locations/us-central1/functions/processUploadAndRecommend","type":"UPDATE_FUNCTION","request":{"@type":"type.googleapis.com/google.cloud.functions.v1.CloudFunction","name":"projects/seniordesign-e83c6/locations/us-central1/functions/processUploadAndRecommend","eventTrigger":{"eventType":"google.storage.object.finalize","resource":"projects/_/buckets/seniordesign-e83c6.appspot.com","service":"storage.googleapis.com"},"status":"OFFLINE","entryPoint":"processUploadAndRecommend","updateTime":"2024-04-10T01:27:35.417Z","versionId":"1","labels":{"deployment-tool":"cli-firebase","firebase-functions-hash":"ac45ab43b3f778eac138a1935c6cf44536f41428"},"sourceUploadUrl":"https://storage.googleapis.com/uploads-841930861051.us-central1.cloudfunctions.appspot.com/4e1ea0ea-ddce-49db-bc18-5c30ca7b0007.zip?GoogleAccessId=service-889627653285@gcf-admin-robot.iam.gserviceaccount.com&Expires=1712714685&Signature=jhQiWKfytP0Ozx6jvmjDqjop%2BxGf5y17wCwgF8910o6bz4k9CEkhzck%2BotU8jbIUqwYM6cYgvy6EG8j%2BnYKHmaNg9XEQeossHF45P2kY%2FZIuEOvuxr3lZfBhCHxEB60Mxp8uSSAAChewU4twE7kixaU204Aoj43NzOGeBZQreJ84c%2BQt9Z%2Fz%2Fhuffe7NEWsCUEkfUTqjCFxbnqKjIZ80Kn1Jhdyig5RdLJRT1Ndqqk2QgLjDoaawZcpsPBp%2BSVB6CocHCM8IsRZTNYoiEfAmC7iZ5HYQuI7ikPQByQs9IgQckxv7738dm7OB0ykCqQK96OzJfsfqecM3SPXDgrqbTw%3D%3D","environmentVariables":{"FIREBASE_CONFIG":"{\"projectId\":\"seniordesign-e83c6\",\"databaseURL\":\"https://seniordesign-e83c6-default-rtdb.firebaseio.com\",\"storageBucket\":\"seniordesign-e83c6.appspot.com\",\"locationId\":\"us-central\"}","GCLOUD_PROJECT":"seniordesign-e83c6","EVENTARC_CLOUD_EVENT_SOURCE":"projects/seniordesign-e83c6/locations/us-central1/functions/processUploadAndRecommend"},"runtime":"nodejs18","buildId":"f673946c-bc70-452c-a751-1a8c5f401f1c","buildEnvironmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"buildName":"projects/889627653285/locations/us-central1/builds/f673946c-bc70-452c-a751-1a8c5f401f1c","dockerRegistry":"ARTIFACT_REGISTRY","automaticUpdatePolicy":{}},"versionId":"2","updateTime":"2024-04-10T01:34:46Z","buildId":"1291a92d-c2a8-43fb-b046-a70c1f9dedb7","buildName":"projects/889627653285/locations/us-central1/builds/1291a92d-c2a8-43fb-b046-a70c1f9dedb7"}}
[debug] [2024-04-10T01:35:22.415Z] [update-default-us-central1-processUploadAndRecommend] Retrying task index 0
[debug] [2024-04-10T01:35:22.416Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v1/operations/c2VuaW9yZGVzaWduLWU4M2M2L3VzLWNlbnRyYWwxL3Byb2Nlc3NVcGxvYWRBbmRSZWNvbW1lbmQvYzZYcUZ0Qk04X1U [none]
[debug] [2024-04-10T01:35:22.589Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v1/operations/c2VuaW9yZGVzaWduLWU4M2M2L3VzLWNlbnRyYWwxL3Byb2Nlc3NVcGxvYWRBbmRSZWNvbW1lbmQvYzZYcUZ0Qk04X1U 200
[debug] [2024-04-10T01:35:22.589Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v1/operations/c2VuaW9yZGVzaWduLWU4M2M2L3VzLWNlbnRyYWwxL3Byb2Nlc3NVcGxvYWRBbmRSZWNvbW1lbmQvYzZYcUZ0Qk04X1U {"name":"operations/c2VuaW9yZGVzaWduLWU4M2M2L3VzLWNlbnRyYWwxL3Byb2Nlc3NVcGxvYWRBbmRSZWNvbW1lbmQvYzZYcUZ0Qk04X1U","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v1.OperationMetadataV1","target":"projects/seniordesign-e83c6/locations/us-central1/functions/processUploadAndRecommend","type":"UPDATE_FUNCTION","request":{"@type":"type.googleapis.com/google.cloud.functions.v1.CloudFunction","name":"projects/seniordesign-e83c6/locations/us-central1/functions/processUploadAndRecommend","eventTrigger":{"eventType":"google.storage.object.finalize","resource":"projects/_/buckets/seniordesign-e83c6.appspot.com","service":"storage.googleapis.com"},"status":"OFFLINE","entryPoint":"processUploadAndRecommend","updateTime":"2024-04-10T01:27:35.417Z","versionId":"1","labels":{"deployment-tool":"cli-firebase","firebase-functions-hash":"ac45ab43b3f778eac138a1935c6cf44536f41428"},"sourceUploadUrl":"https://storage.googleapis.com/uploads-841930861051.us-central1.cloudfunctions.appspot.com/4e1ea0ea-ddce-49db-bc18-5c30ca7b0007.zip?GoogleAccessId=service-889627653285@gcf-admin-robot.iam.gserviceaccount.com&Expires=1712714685&Signature=jhQiWKfytP0Ozx6jvmjDqjop%2BxGf5y17wCwgF8910o6bz4k9CEkhzck%2BotU8jbIUqwYM6cYgvy6EG8j%2BnYKHmaNg9XEQeossHF45P2kY%2FZIuEOvuxr3lZfBhCHxEB60Mxp8uSSAAChewU4twE7kixaU204Aoj43NzOGeBZQreJ84c%2BQt9Z%2Fz%2Fhuffe7NEWsCUEkfUTqjCFxbnqKjIZ80Kn1Jhdyig5RdLJRT1Ndqqk2QgLjDoaawZcpsPBp%2BSVB6CocHCM8IsRZTNYoiEfAmC7iZ5HYQuI7ikPQByQs9IgQckxv7738dm7OB0ykCqQK96OzJfsfqecM3SPXDgrqbTw%3D%3D","environmentVariables":{"FIREBASE_CONFIG":"{\"projectId\":\"seniordesign-e83c6\",\"databaseURL\":\"https://seniordesign-e83c6-default-rtdb.firebaseio.com\",\"storageBucket\":\"seniordesign-e83c6.appspot.com\",\"locationId\":\"us-central\"}","GCLOUD_PROJECT":"seniordesign-e83c6","EVENTARC_CLOUD_EVENT_SOURCE":"projects/seniordesign-e83c6/locations/us-central1/functions/processUploadAndRecommend"},"runtime":"nodejs18","buildId":"f673946c-bc70-452c-a751-1a8c5f401f1c","buildEnvironmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"buildName":"projects/889627653285/locations/us-central1/builds/f673946c-bc70-452c-a751-1a8c5f401f1c","dockerRegistry":"ARTIFACT_REGISTRY","automaticUpdatePolicy":{}},"versionId":"2","updateTime":"2024-04-10T01:34:46Z","buildId":"1291a92d-c2a8-43fb-b046-a70c1f9dedb7","buildName":"projects/889627653285/locations/us-central1/builds/1291a92d-c2a8-43fb-b046-a70c1f9dedb7"}}
[debug] [2024-04-10T01:35:32.594Z] [update-default-us-central1-processUploadAndRecommend] Retrying task index 0
[debug] [2024-04-10T01:35:32.595Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v1/operations/c2VuaW9yZGVzaWduLWU4M2M2L3VzLWNlbnRyYWwxL3Byb2Nlc3NVcGxvYWRBbmRSZWNvbW1lbmQvYzZYcUZ0Qk04X1U [none]
[debug] [2024-04-10T01:35:32.741Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v1/operations/c2VuaW9yZGVzaWduLWU4M2M2L3VzLWNlbnRyYWwxL3Byb2Nlc3NVcGxvYWRBbmRSZWNvbW1lbmQvYzZYcUZ0Qk04X1U 200
[debug] [2024-04-10T01:35:32.741Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v1/operations/c2VuaW9yZGVzaWduLWU4M2M2L3VzLWNlbnRyYWwxL3Byb2Nlc3NVcGxvYWRBbmRSZWNvbW1lbmQvYzZYcUZ0Qk04X1U {"name":"operations/c2VuaW9yZGVzaWduLWU4M2M2L3VzLWNlbnRyYWwxL3Byb2Nlc3NVcGxvYWRBbmRSZWNvbW1lbmQvYzZYcUZ0Qk04X1U","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v1.OperationMetadataV1","target":"projects/seniordesign-e83c6/locations/us-central1/functions/processUploadAndRecommend","type":"UPDATE_FUNCTION","request":{"@type":"type.googleapis.com/google.cloud.functions.v1.CloudFunction","name":"projects/seniordesign-e83c6/locations/us-central1/functions/processUploadAndRecommend","eventTrigger":{"eventType":"google.storage.object.finalize","resource":"projects/_/buckets/seniordesign-e83c6.appspot.com","service":"storage.googleapis.com"},"status":"OFFLINE","entryPoint":"processUploadAndRecommend","updateTime":"2024-04-10T01:27:35.417Z","versionId":"1","labels":{"deployment-tool":"cli-firebase","firebase-functions-hash":"ac45ab43b3f778eac138a1935c6cf44536f41428"},"sourceUploadUrl":"https://storage.googleapis.com/uploads-841930861051.us-central1.cloudfunctions.appspot.com/4e1ea0ea-ddce-49db-bc18-5c30ca7b0007.zip?GoogleAccessId=service-889627653285@gcf-admin-robot.iam.gserviceaccount.com&Expires=1712714685&Signature=jhQiWKfytP0Ozx6jvmjDqjop%2BxGf5y17wCwgF8910o6bz4k9CEkhzck%2BotU8jbIUqwYM6cYgvy6EG8j%2BnYKHmaNg9XEQeossHF45P2kY%2FZIuEOvuxr3lZfBhCHxEB60Mxp8uSSAAChewU4twE7kixaU204Aoj43NzOGeBZQreJ84c%2BQt9Z%2Fz%2Fhuffe7NEWsCUEkfUTqjCFxbnqKjIZ80Kn1Jhdyig5RdLJRT1Ndqqk2QgLjDoaawZcpsPBp%2BSVB6CocHCM8IsRZTNYoiEfAmC7iZ5HYQuI7ikPQByQs9IgQckxv7738dm7OB0ykCqQK96OzJfsfqecM3SPXDgrqbTw%3D%3D","environmentVariables":{"FIREBASE_CONFIG":"{\"projectId\":\"seniordesign-e83c6\",\"databaseURL\":\"https://seniordesign-e83c6-default-rtdb.firebaseio.com\",\"storageBucket\":\"seniordesign-e83c6.appspot.com\",\"locationId\":\"us-central\"}","GCLOUD_PROJECT":"seniordesign-e83c6","EVENTARC_CLOUD_EVENT_SOURCE":"projects/seniordesign-e83c6/locations/us-central1/functions/processUploadAndRecommend"},"runtime":"nodejs18","buildId":"f673946c-bc70-452c-a751-1a8c5f401f1c","buildEnvironmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"buildName":"projects/889627653285/locations/us-central1/builds/f673946c-bc70-452c-a751-1a8c5f401f1c","dockerRegistry":"ARTIFACT_REGISTRY","automaticUpdatePolicy":{}},"versionId":"2","updateTime":"2024-04-10T01:34:46Z","buildId":"1291a92d-c2a8-43fb-b046-a70c1f9dedb7","buildName":"projects/889627653285/locations/us-central1/builds/1291a92d-c2a8-43fb-b046-a70c1f9dedb7"}}
[debug] [2024-04-10T01:35:42.755Z] [update-default-us-central1-processUploadAndRecommend] Retrying task index 0
[debug] [2024-04-10T01:35:42.757Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v1/operations/c2VuaW9yZGVzaWduLWU4M2M2L3VzLWNlbnRyYWwxL3Byb2Nlc3NVcGxvYWRBbmRSZWNvbW1lbmQvYzZYcUZ0Qk04X1U [none]
[debug] [2024-04-10T01:35:42.934Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v1/operations/c2VuaW9yZGVzaWduLWU4M2M2L3VzLWNlbnRyYWwxL3Byb2Nlc3NVcGxvYWRBbmRSZWNvbW1lbmQvYzZYcUZ0Qk04X1U 200
[debug] [2024-04-10T01:35:42.935Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v1/operations/c2VuaW9yZGVzaWduLWU4M2M2L3VzLWNlbnRyYWwxL3Byb2Nlc3NVcGxvYWRBbmRSZWNvbW1lbmQvYzZYcUZ0Qk04X1U {"name":"operations/c2VuaW9yZGVzaWduLWU4M2M2L3VzLWNlbnRyYWwxL3Byb2Nlc3NVcGxvYWRBbmRSZWNvbW1lbmQvYzZYcUZ0Qk04X1U","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v1.OperationMetadataV1","target":"projects/seniordesign-e83c6/locations/us-central1/functions/processUploadAndRecommend","type":"UPDATE_FUNCTION","request":{"@type":"type.googleapis.com/google.cloud.functions.v1.CloudFunction","name":"projects/seniordesign-e83c6/locations/us-central1/functions/processUploadAndRecommend","eventTrigger":{"eventType":"google.storage.object.finalize","resource":"projects/_/buckets/seniordesign-e83c6.appspot.com","service":"storage.googleapis.com"},"status":"OFFLINE","entryPoint":"processUploadAndRecommend","updateTime":"2024-04-10T01:27:35.417Z","versionId":"1","labels":{"deployment-tool":"cli-firebase","firebase-functions-hash":"ac45ab43b3f778eac138a1935c6cf44536f41428"},"sourceUploadUrl":"https://storage.googleapis.com/uploads-841930861051.us-central1.cloudfunctions.appspot.com/4e1ea0ea-ddce-49db-bc18-5c30ca7b0007.zip?GoogleAccessId=service-889627653285@gcf-admin-robot.iam.gserviceaccount.com&Expires=1712714685&Signature=jhQiWKfytP0Ozx6jvmjDqjop%2BxGf5y17wCwgF8910o6bz4k9CEkhzck%2BotU8jbIUqwYM6cYgvy6EG8j%2BnYKHmaNg9XEQeossHF45P2kY%2FZIuEOvuxr3lZfBhCHxEB60Mxp8uSSAAChewU4twE7kixaU204Aoj43NzOGeBZQreJ84c%2BQt9Z%2Fz%2Fhuffe7NEWsCUEkfUTqjCFxbnqKjIZ80Kn1Jhdyig5RdLJRT1Ndqqk2QgLjDoaawZcpsPBp%2BSVB6CocHCM8IsRZTNYoiEfAmC7iZ5HYQuI7ikPQByQs9IgQckxv7738dm7OB0ykCqQK96OzJfsfqecM3SPXDgrqbTw%3D%3D","environmentVariables":{"FIREBASE_CONFIG":"{\"projectId\":\"seniordesign-e83c6\",\"databaseURL\":\"https://seniordesign-e83c6-default-rtdb.firebaseio.com\",\"storageBucket\":\"seniordesign-e83c6.appspot.com\",\"locationId\":\"us-central\"}","GCLOUD_PROJECT":"seniordesign-e83c6","EVENTARC_CLOUD_EVENT_SOURCE":"projects/seniordesign-e83c6/locations/us-central1/functions/processUploadAndRecommend"},"runtime":"nodejs18","buildId":"f673946c-bc70-452c-a751-1a8c5f401f1c","buildEnvironmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"buildName":"projects/889627653285/locations/us-central1/builds/f673946c-bc70-452c-a751-1a8c5f401f1c","dockerRegistry":"ARTIFACT_REGISTRY","automaticUpdatePolicy":{}},"versionId":"2","updateTime":"2024-04-10T01:34:46Z","buildId":"1291a92d-c2a8-43fb-b046-a70c1f9dedb7","buildName":"projects/889627653285/locations/us-central1/builds/1291a92d-c2a8-43fb-b046-a70c1f9dedb7"}}
[debug] [2024-04-10T01:35:52.941Z] [update-default-us-central1-processUploadAndRecommend] Retrying task index 0
[debug] [2024-04-10T01:35:52.942Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v1/operations/c2VuaW9yZGVzaWduLWU4M2M2L3VzLWNlbnRyYWwxL3Byb2Nlc3NVcGxvYWRBbmRSZWNvbW1lbmQvYzZYcUZ0Qk04X1U [none]
[debug] [2024-04-10T01:35:53.129Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v1/operations/c2VuaW9yZGVzaWduLWU4M2M2L3VzLWNlbnRyYWwxL3Byb2Nlc3NVcGxvYWRBbmRSZWNvbW1lbmQvYzZYcUZ0Qk04X1U 200
[debug] [2024-04-10T01:35:53.129Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v1/operations/c2VuaW9yZGVzaWduLWU4M2M2L3VzLWNlbnRyYWwxL3Byb2Nlc3NVcGxvYWRBbmRSZWNvbW1lbmQvYzZYcUZ0Qk04X1U {"name":"operations/c2VuaW9yZGVzaWduLWU4M2M2L3VzLWNlbnRyYWwxL3Byb2Nlc3NVcGxvYWRBbmRSZWNvbW1lbmQvYzZYcUZ0Qk04X1U","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v1.OperationMetadataV1","target":"projects/seniordesign-e83c6/locations/us-central1/functions/processUploadAndRecommend","type":"UPDATE_FUNCTION","request":{"@type":"type.googleapis.com/google.cloud.functions.v1.CloudFunction","name":"projects/seniordesign-e83c6/locations/us-central1/functions/processUploadAndRecommend","eventTrigger":{"eventType":"google.storage.object.finalize","resource":"projects/_/buckets/seniordesign-e83c6.appspot.com","service":"storage.googleapis.com"},"status":"OFFLINE","entryPoint":"processUploadAndRecommend","updateTime":"2024-04-10T01:27:35.417Z","versionId":"1","labels":{"deployment-tool":"cli-firebase","firebase-functions-hash":"ac45ab43b3f778eac138a1935c6cf44536f41428"},"sourceUploadUrl":"https://storage.googleapis.com/uploads-841930861051.us-central1.cloudfunctions.appspot.com/4e1ea0ea-ddce-49db-bc18-5c30ca7b0007.zip?GoogleAccessId=service-889627653285@gcf-admin-robot.iam.gserviceaccount.com&Expires=1712714685&Signature=jhQiWKfytP0Ozx6jvmjDqjop%2BxGf5y17wCwgF8910o6bz4k9CEkhzck%2BotU8jbIUqwYM6cYgvy6EG8j%2BnYKHmaNg9XEQeossHF45P2kY%2FZIuEOvuxr3lZfBhCHxEB60Mxp8uSSAAChewU4twE7kixaU204Aoj43NzOGeBZQreJ84c%2BQt9Z%2Fz%2Fhuffe7NEWsCUEkfUTqjCFxbnqKjIZ80Kn1Jhdyig5RdLJRT1Ndqqk2QgLjDoaawZcpsPBp%2BSVB6CocHCM8IsRZTNYoiEfAmC7iZ5HYQuI7ikPQByQs9IgQckxv7738dm7OB0ykCqQK96OzJfsfqecM3SPXDgrqbTw%3D%3D","environmentVariables":{"FIREBASE_CONFIG":"{\"projectId\":\"seniordesign-e83c6\",\"databaseURL\":\"https://seniordesign-e83c6-default-rtdb.firebaseio.com\",\"storageBucket\":\"seniordesign-e83c6.appspot.com\",\"locationId\":\"us-central\"}","GCLOUD_PROJECT":"seniordesign-e83c6","EVENTARC_CLOUD_EVENT_SOURCE":"projects/seniordesign-e83c6/locations/us-central1/functions/processUploadAndRecommend"},"runtime":"nodejs18","buildId":"f673946c-bc70-452c-a751-1a8c5f401f1c","buildEnvironmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"buildName":"projects/889627653285/locations/us-central1/builds/f673946c-bc70-452c-a751-1a8c5f401f1c","dockerRegistry":"ARTIFACT_REGISTRY","automaticUpdatePolicy":{}},"versionId":"2","updateTime":"2024-04-10T01:34:46Z","buildId":"1291a92d-c2a8-43fb-b046-a70c1f9dedb7","buildName":"projects/889627653285/locations/us-central1/builds/1291a92d-c2a8-43fb-b046-a70c1f9dedb7"}}
[debug] [2024-04-10T01:36:03.140Z] [update-default-us-central1-processUploadAndRecommend] Retrying task index 0
[debug] [2024-04-10T01:36:03.141Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v1/operations/c2VuaW9yZGVzaWduLWU4M2M2L3VzLWNlbnRyYWwxL3Byb2Nlc3NVcGxvYWRBbmRSZWNvbW1lbmQvYzZYcUZ0Qk04X1U [none]
[debug] [2024-04-10T01:36:03.333Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v1/operations/c2VuaW9yZGVzaWduLWU4M2M2L3VzLWNlbnRyYWwxL3Byb2Nlc3NVcGxvYWRBbmRSZWNvbW1lbmQvYzZYcUZ0Qk04X1U 200
[debug] [2024-04-10T01:36:03.334Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v1/operations/c2VuaW9yZGVzaWduLWU4M2M2L3VzLWNlbnRyYWwxL3Byb2Nlc3NVcGxvYWRBbmRSZWNvbW1lbmQvYzZYcUZ0Qk04X1U {"name":"operations/c2VuaW9yZGVzaWduLWU4M2M2L3VzLWNlbnRyYWwxL3Byb2Nlc3NVcGxvYWRBbmRSZWNvbW1lbmQvYzZYcUZ0Qk04X1U","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v1.OperationMetadataV1","target":"projects/seniordesign-e83c6/locations/us-central1/functions/processUploadAndRecommend","type":"UPDATE_FUNCTION","request":{"@type":"type.googleapis.com/google.cloud.functions.v1.CloudFunction","name":"projects/seniordesign-e83c6/locations/us-central1/functions/processUploadAndRecommend","eventTrigger":{"eventType":"google.storage.object.finalize","resource":"projects/_/buckets/seniordesign-e83c6.appspot.com","service":"storage.googleapis.com"},"status":"OFFLINE","entryPoint":"processUploadAndRecommend","updateTime":"2024-04-10T01:27:35.417Z","versionId":"1","labels":{"deployment-tool":"cli-firebase","firebase-functions-hash":"ac45ab43b3f778eac138a1935c6cf44536f41428"},"sourceUploadUrl":"https://storage.googleapis.com/uploads-841930861051.us-central1.cloudfunctions.appspot.com/4e1ea0ea-ddce-49db-bc18-5c30ca7b0007.zip?GoogleAccessId=service-889627653285@gcf-admin-robot.iam.gserviceaccount.com&Expires=1712714685&Signature=jhQiWKfytP0Ozx6jvmjDqjop%2BxGf5y17wCwgF8910o6bz4k9CEkhzck%2BotU8jbIUqwYM6cYgvy6EG8j%2BnYKHmaNg9XEQeossHF45P2kY%2FZIuEOvuxr3lZfBhCHxEB60Mxp8uSSAAChewU4twE7kixaU204Aoj43NzOGeBZQreJ84c%2BQt9Z%2Fz%2Fhuffe7NEWsCUEkfUTqjCFxbnqKjIZ80Kn1Jhdyig5RdLJRT1Ndqqk2QgLjDoaawZcpsPBp%2BSVB6CocHCM8IsRZTNYoiEfAmC7iZ5HYQuI7ikPQByQs9IgQckxv7738dm7OB0ykCqQK96OzJfsfqecM3SPXDgrqbTw%3D%3D","environmentVariables":{"FIREBASE_CONFIG":"{\"projectId\":\"seniordesign-e83c6\",\"databaseURL\":\"https://seniordesign-e83c6-default-rtdb.firebaseio.com\",\"storageBucket\":\"seniordesign-e83c6.appspot.com\",\"locationId\":\"us-central\"}","GCLOUD_PROJECT":"seniordesign-e83c6","EVENTARC_CLOUD_EVENT_SOURCE":"projects/seniordesign-e83c6/locations/us-central1/functions/processUploadAndRecommend"},"runtime":"nodejs18","buildId":"f673946c-bc70-452c-a751-1a8c5f401f1c","buildEnvironmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"buildName":"projects/889627653285/locations/us-central1/builds/f673946c-bc70-452c-a751-1a8c5f401f1c","dockerRegistry":"ARTIFACT_REGISTRY","automaticUpdatePolicy":{}},"versionId":"2","updateTime":"2024-04-10T01:36:01Z","buildId":"1291a92d-c2a8-43fb-b046-a70c1f9dedb7","buildName":"projects/889627653285/locations/us-central1/builds/1291a92d-c2a8-43fb-b046-a70c1f9dedb7"},"done":true,"error":{"code":3,"message":"Build failed: npm ERR! code EUSAGE\nnpm ERR! \nnpm ERR! `npm ci` can only install packages when your package.json and package-lock.json or npm-shrinkwrap.json are in sync. Please update your lock file with `npm install` before continuing.\nnpm ERR! \nnpm ERR! Missing: sharp@0.33.3 from lock file\nnpm ERR! Missing: @img/sharp-darwin-arm64@0.33.3 from lock file\nnpm ERR! Missing: @img/sharp-darwin-x64@0.33.3 from lock file\nnpm ERR! Missing: @img/sharp-libvips-darwin-arm64@1.0.2 from lock file\nnpm ERR! Missing: @img/sharp-libvips-darwin-x64@1.0.2 from lock file\nnpm ERR! Missing: @img/sharp-libvips-linux-arm@1.0.2 from lock file\nnpm ERR! Missing: @img/sharp-libvips-linux-arm64@1.0.2 from lock file\nnpm ERR! Missing: @img/sharp-libvips-linux-s390x@1.0.2 from lock file\nnpm ERR! Missing: @img/sharp-libvips-linux-x64@1.0.2 from lock file\nnpm ERR! Missing: @img/sharp-libvips-linuxmusl-arm64@1.0.2 from lock file\nnpm ERR! Missing: @img/sharp-libvips-linuxmusl-x64@1.0.2 from lock file\nnpm ERR! Missing: @img/sharp-linux-arm@0.33.3 from lock file\nnpm ERR! Missing: @img/sharp-linux-arm64@0.33.3 from lock file\nnpm ERR! Missing: @img/sharp-linux-s390x@0.33.3 from lock file\nnpm ERR! Missing: @img/sharp-linux-x64@0.33.3 from lock file\nnpm ERR! Missing: @img/sharp-linuxmusl-arm64@0.33.3 from lock file\nnpm ERR! Missing: @img/sharp-linuxmusl-x64@0.33.3 from lock file\nnpm ERR! Missing: @img/sharp-wasm32@0.33.3 from lock file\nnpm ERR! Missing: @img/sharp-win32-ia32@0.33.3 from lock file\nnpm ERR! Missing: @img/sharp-win32-x64@0.33.3 from lock file\nnpm ERR! Missing: color@4.2.3 from lock file\nnpm ERR! Missing: detect-libc@2.0.3 from lock file\nnpm ERR! Missing: semver@7.6.0 from lock file\nnpm ERR! Missing: @emnapi/runtime@1.1.1 from lock file\nnpm ERR! Missing: color-string@1.9.1 from lock file\nnpm ERR! Missing: simple-swizzle@0.2.2 from lock file\nnpm ERR! Missing: is-arrayish@0.3.2 from lock file\nnpm ERR! \nnpm ERR! Clean install a project\nnpm ERR! \nnpm ERR! Usage:\nnpm ERR! npm ci\nnpm ERR! \nnpm ERR! Options:\nnpm ERR! [--install-strategy <hoisted|nested|shallow|linked>] [--legacy-bundling]\nnpm ERR! [--global-style] [--omit <dev|optional|peer> [--omit <dev|optional|peer> ...]]\nnpm ERR! [--include <prod|dev|optional|peer> [--include <prod|dev|optional|peer> ...]]\nnpm ERR! [--strict-peer-deps] [--foreground-scripts] [--ignore-scripts] [--no-audit]\nnpm ERR! [--no-bin-links] [--no-fund] [--dry-run]\nnpm ERR! [-w|--workspace <workspace-name> [-w|--workspace <workspace-name> ...]]\nnpm ERR! [-ws|--workspaces] [--include-workspace-root] [--install-links]\nnpm ERR! \nnpm ERR! aliases: clean-install, ic, install-clean, isntall-clean\nnpm ERR! \nnpm ERR! Run \"npm help ci\" for more info\n\nnpm ERR! A complete log of this run can be found in: /www-data-home/.npm/_logs/2024-04-10T01_35_06_096Z-debug-0.log; Error ID: beaf8772"}}
[debug] [2024-04-10T01:36:03.334Z] Got source token undefined for region us-central1
[error] Build failed: npm ERR! code EUSAGE
npm ERR! 
npm ERR! `npm ci` can only install packages when your package.json and package-lock.json or npm-shrinkwrap.json are in sync. Please update your lock file with `npm install` before continuing.
npm ERR! 
npm ERR! Missing: sharp@0.33.3 from lock file
npm ERR! Missing: @img/sharp-darwin-arm64@0.33.3 from lock file
npm ERR! Missing: @img/sharp-darwin-x64@0.33.3 from lock file
npm ERR! Missing: @img/sharp-libvips-darwin-arm64@1.0.2 from lock file
npm ERR! Missing: @img/sharp-libvips-darwin-x64@1.0.2 from lock file
npm ERR! Missing: @img/sharp-libvips-linux-arm@1.0.2 from lock file
npm ERR! Missing: @img/sharp-libvips-linux-arm64@1.0.2 from lock file
npm ERR! Missing: @img/sharp-libvips-linux-s390x@1.0.2 from lock file
npm ERR! Missing: @img/sharp-libvips-linux-x64@1.0.2 from lock file
npm ERR! Missing: @img/sharp-libvips-linuxmusl-arm64@1.0.2 from lock file
npm ERR! Missing: @img/sharp-libvips-linuxmusl-x64@1.0.2 from lock file
npm ERR! Missing: @img/sharp-linux-arm@0.33.3 from lock file
npm ERR! Missing: @img/sharp-linux-arm64@0.33.3 from lock file
npm ERR! Missing: @img/sharp-linux-s390x@0.33.3 from lock file
npm ERR! Missing: @img/sharp-linux-x64@0.33.3 from lock file
npm ERR! Missing: @img/sharp-linuxmusl-arm64@0.33.3 from lock file
npm ERR! Missing: @img/sharp-linuxmusl-x64@0.33.3 from lock file
npm ERR! Missing: @img/sharp-wasm32@0.33.3 from lock file
npm ERR! Missing: @img/sharp-win32-ia32@0.33.3 from lock file
npm ERR! Missing: @img/sharp-win32-x64@0.33.3 from lock file
npm ERR! Missing: color@4.2.3 from lock file
npm ERR! Missing: detect-libc@2.0.3 from lock file
npm ERR! Missing: semver@7.6.0 from lock file
npm ERR! Missing: @emnapi/runtime@1.1.1 from lock file
npm ERR! Missing: color-string@1.9.1 from lock file
npm ERR! Missing: simple-swizzle@0.2.2 from lock file
npm ERR! Missing: is-arrayish@0.3.2 from lock file
npm ERR! 
npm ERR! Clean install a project
npm ERR! 
npm ERR! Usage:
npm ERR! npm ci
npm ERR! 
npm ERR! Options:
npm ERR! [--install-strategy <hoisted|nested|shallow|linked>] [--legacy-bundling]
npm ERR! [--global-style] [--omit <dev|optional|peer> [--omit <dev|optional|peer> ...]]
npm ERR! [--include <prod|dev|optional|peer> [--include <prod|dev|optional|peer> ...]]
npm ERR! [--strict-peer-deps] [--foreground-scripts] [--ignore-scripts] [--no-audit]
npm ERR! [--no-bin-links] [--no-fund] [--dry-run]
npm ERR! [-w|--workspace <workspace-name> [-w|--workspace <workspace-name> ...]]
npm ERR! [-ws|--workspaces] [--include-workspace-root] [--install-links]
npm ERR! 
npm ERR! aliases: clean-install, ic, install-clean, isntall-clean
npm ERR! 
npm ERR! Run "npm help ci" for more info

npm ERR! A complete log of this run can be found in: /www-data-home/.npm/_logs/2024-04-10T01_35_06_096Z-debug-0.log; Error ID: beaf8772
[debug] [2024-04-10T01:36:03.343Z] Total Function Deployment time: 77963
[debug] [2024-04-10T01:36:03.343Z] 1 Functions Deployed
[debug] [2024-04-10T01:36:03.343Z] 1 Functions Errored
[debug] [2024-04-10T01:36:03.343Z] 0 Function Deployments Aborted
[debug] [2024-04-10T01:36:03.343Z] Average Function Deployment time: 77962
[info] 
[info] Functions deploy had errors with the following functions:
	processUploadAndRecommend(us-central1)
[info] i  functions: cleaning up build files... 
[debug] [2024-04-10T01:36:03.460Z] >>> [apiv2][query] DELETE https://artifactregistry.googleapis.com/v1beta2/projects/seniordesign-e83c6/locations/us-central1/repositories/gcf-artifacts/packages/process_upload_and_recommend [none]
[debug] [2024-04-10T01:36:03.462Z] >>> [apiv2][query] GET https://us.gcr.io/v2/seniordesign-e83c6/gcf/us-central1/tags/list [none]
[debug] [2024-04-10T01:36:03.598Z] <<< [apiv2][status] DELETE https://artifactregistry.googleapis.com/v1beta2/projects/seniordesign-e83c6/locations/us-central1/repositories/gcf-artifacts/packages/process_upload_and_recommend 404
[debug] [2024-04-10T01:36:03.599Z] <<< [apiv2][body] DELETE https://artifactregistry.googleapis.com/v1beta2/projects/seniordesign-e83c6/locations/us-central1/repositories/gcf-artifacts/packages/process_upload_and_recommend {"error":{"code":404,"message":"Package \"projects/seniordesign-e83c6/locations/us-central1/repositories/gcf-artifacts/packages/process_upload_and_recommend\" was not found.","status":"NOT_FOUND"}}
[debug] [2024-04-10T01:36:03.651Z] <<< [apiv2][status] GET https://us.gcr.io/v2/seniordesign-e83c6/gcf/us-central1/tags/list 404
[debug] [2024-04-10T01:36:03.651Z] <<< [apiv2][body] GET https://us.gcr.io/v2/seniordesign-e83c6/gcf/us-central1/tags/list {"errors":[{"code":"NAME_UNKNOWN","message":"Repository \"us.gcr.io\" not found"}]}
[debug] [2024-04-10T01:36:03.652Z] Failed docker command with error  HTTP Error: 404, Not Found {"name":"FirebaseError","children":[],"context":{"body":{"errors":[{"code":"NAME_UNKNOWN","message":"Repository \"us.gcr.io\" not found"}],"error":{"message":"Not Found"}},"response":{"statusCode":404}},"exit":1,"message":"HTTP Error: 404, Not Found","status":404}
[debug] [2024-04-10T01:36:03.659Z] >>> [apiv2][query] GET https://us.gcr.io/v2/seniordesign-e83c6/gcf/us-central1/tags/list [none]
[debug] [2024-04-10T01:36:03.765Z] <<< [apiv2][status] GET https://us.gcr.io/v2/seniordesign-e83c6/gcf/us-central1/tags/list 404
[debug] [2024-04-10T01:36:03.765Z] <<< [apiv2][body] GET https://us.gcr.io/v2/seniordesign-e83c6/gcf/us-central1/tags/list {"errors":[{"code":"NAME_UNKNOWN","message":"Repository \"us.gcr.io\" not found"}]}
[debug] [2024-04-10T01:36:03.765Z] Failed docker command with error  HTTP Error: 404, Not Found {"name":"FirebaseError","children":[],"context":{"body":{"errors":[{"code":"NAME_UNKNOWN","message":"Repository \"us.gcr.io\" not found"}],"error":{"message":"Not Found"}},"response":{"statusCode":404}},"exit":1,"message":"HTTP Error: 404, Not Found","status":404}
[debug] [2024-04-10T01:36:03.879Z] >>> [apiv2][query] GET https://us.gcr.io/v2/seniordesign-e83c6/gcf/us-central1/tags/list [none]
[debug] [2024-04-10T01:36:03.976Z] <<< [apiv2][status] GET https://us.gcr.io/v2/seniordesign-e83c6/gcf/us-central1/tags/list 404
[debug] [2024-04-10T01:36:03.976Z] <<< [apiv2][body] GET https://us.gcr.io/v2/seniordesign-e83c6/gcf/us-central1/tags/list {"errors":[{"code":"NAME_UNKNOWN","message":"Repository \"us.gcr.io\" not found"}]}
[debug] [2024-04-10T01:36:03.977Z] Failed docker command with error  HTTP Error: 404, Not Found {"name":"FirebaseError","children":[],"context":{"body":{"errors":[{"code":"NAME_UNKNOWN","message":"Repository \"us.gcr.io\" not found"}],"error":{"message":"Not Found"}},"response":{"statusCode":404}},"exit":1,"message":"HTTP Error: 404, Not Found","status":404}
[warn] !  functions: Unhandled error cleaning up build images. This could result in a small monthly bill if not corrected. You can attempt to delete these images by redeploying or you can delete them manually at https://console.cloud.google.com/gcr/images/seniordesign-e83c6/us/gcf 
[debug] [2024-04-10T01:36:03.978Z] Functions deploy failed.
[debug] [2024-04-10T01:36:03.979Z] {
  "endpoint": {
    "id": "processUploadAndRecommend",
    "project": "seniordesign-e83c6",
    "region": "us-central1",
    "entryPoint": "processUploadAndRecommend",
    "platform": "gcfv1",
    "runtime": "nodejs18",
    "eventTrigger": {
      "eventType": "google.storage.object.finalize",
      "retry": false,
      "eventFilters": {
        "resource": "projects/_/buckets/seniordesign-e83c6.appspot.com"
      }
    },
    "labels": {
      "deployment-tool": "cli-firebase"
    },
    "ingressSettings": null,
    "availableMemoryMb": null,
    "serviceAccount": null,
    "timeoutSeconds": null,
    "maxInstances": null,
    "minInstances": null,
    "vpc": null,
    "environmentVariables": {
      "FIREBASE_CONFIG": "{\"projectId\":\"seniordesign-e83c6\",\"databaseURL\":\"https://seniordesign-e83c6-default-rtdb.firebaseio.com\",\"storageBucket\":\"seniordesign-e83c6.appspot.com\",\"locationId\":\"us-central\"}",
      "GCLOUD_PROJECT": "seniordesign-e83c6",
      "EVENTARC_CLOUD_EVENT_SOURCE": "projects/seniordesign-e83c6/locations/us-central1/functions/processUploadAndRecommend"
    },
    "codebase": "default",
    "securityLevel": "SECURE_ALWAYS",
    "targetedByOnly": false,
    "hash": "ac45ab43b3f778eac138a1935c6cf44536f41428"
  },
  "op": "update",
  "original": {
    "name": "FirebaseError",
    "children": [],
    "exit": 1,
    "message": "Build failed: npm ERR! code EUSAGE\nnpm ERR! \nnpm ERR! `npm ci` can only install packages when your package.json and package-lock.json or npm-shrinkwrap.json are in sync. Please update your lock file with `npm install` before continuing.\nnpm ERR! \nnpm ERR! Missing: sharp@0.33.3 from lock file\nnpm ERR! Missing: @img/sharp-darwin-arm64@0.33.3 from lock file\nnpm ERR! Missing: @img/sharp-darwin-x64@0.33.3 from lock file\nnpm ERR! Missing: @img/sharp-libvips-darwin-arm64@1.0.2 from lock file\nnpm ERR! Missing: @img/sharp-libvips-darwin-x64@1.0.2 from lock file\nnpm ERR! Missing: @img/sharp-libvips-linux-arm@1.0.2 from lock file\nnpm ERR! Missing: @img/sharp-libvips-linux-arm64@1.0.2 from lock file\nnpm ERR! Missing: @img/sharp-libvips-linux-s390x@1.0.2 from lock file\nnpm ERR! Missing: @img/sharp-libvips-linux-x64@1.0.2 from lock file\nnpm ERR! Missing: @img/sharp-libvips-linuxmusl-arm64@1.0.2 from lock file\nnpm ERR! Missing: @img/sharp-libvips-linuxmusl-x64@1.0.2 from lock file\nnpm ERR! Missing: @img/sharp-linux-arm@0.33.3 from lock file\nnpm ERR! Missing: @img/sharp-linux-arm64@0.33.3 from lock file\nnpm ERR! Missing: @img/sharp-linux-s390x@0.33.3 from lock file\nnpm ERR! Missing: @img/sharp-linux-x64@0.33.3 from lock file\nnpm ERR! Missing: @img/sharp-linuxmusl-arm64@0.33.3 from lock file\nnpm ERR! Missing: @img/sharp-linuxmusl-x64@0.33.3 from lock file\nnpm ERR! Missing: @img/sharp-wasm32@0.33.3 from lock file\nnpm ERR! Missing: @img/sharp-win32-ia32@0.33.3 from lock file\nnpm ERR! Missing: @img/sharp-win32-x64@0.33.3 from lock file\nnpm ERR! Missing: color@4.2.3 from lock file\nnpm ERR! Missing: detect-libc@2.0.3 from lock file\nnpm ERR! Missing: semver@7.6.0 from lock file\nnpm ERR! Missing: @emnapi/runtime@1.1.1 from lock file\nnpm ERR! Missing: color-string@1.9.1 from lock file\nnpm ERR! Missing: simple-swizzle@0.2.2 from lock file\nnpm ERR! Missing: is-arrayish@0.3.2 from lock file\nnpm ERR! \nnpm ERR! Clean install a project\nnpm ERR! \nnpm ERR! Usage:\nnpm ERR! npm ci\nnpm ERR! \nnpm ERR! Options:\nnpm ERR! [--install-strategy <hoisted|nested|shallow|linked>] [--legacy-bundling]\nnpm ERR! [--global-style] [--omit <dev|optional|peer> [--omit <dev|optional|peer> ...]]\nnpm ERR! [--include <prod|dev|optional|peer> [--include <prod|dev|optional|peer> ...]]\nnpm ERR! [--strict-peer-deps] [--foreground-scripts] [--ignore-scripts] [--no-audit]\nnpm ERR! [--no-bin-links] [--no-fund] [--dry-run]\nnpm ERR! [-w|--workspace <workspace-name> [-w|--workspace <workspace-name> ...]]\nnpm ERR! [-ws|--workspaces] [--include-workspace-root] [--install-links]\nnpm ERR! \nnpm ERR! aliases: clean-install, ic, install-clean, isntall-clean\nnpm ERR! \nnpm ERR! Run \"npm help ci\" for more info\n\nnpm ERR! A complete log of this run can be found in: /www-data-home/.npm/_logs/2024-04-10T01_35_06_096Z-debug-0.log; Error ID: beaf8772",
    "status": 3,
    "code": 3
  }
}
[debug] [2024-04-10T01:36:04.009Z] Error: Failed to update function processUploadAndRecommend in region us-central1
    at C:\Users\natcl\AppData\Roaming\npm\node_modules\firebase-tools\lib\deploy\functions\release\fabricator.js:51:11
    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)
    at async Fabricator.updateV1Function (C:\Users\natcl\AppData\Roaming\npm\node_modules\firebase-tools\lib\deploy\functions\release\fabricator.js:349:32)
    at async Fabricator.updateEndpoint (C:\Users\natcl\AppData\Roaming\npm\node_modules\firebase-tools\lib\deploy\functions\release\fabricator.js:151:13)
    at async handle (C:\Users\natcl\AppData\Roaming\npm\node_modules\firebase-tools\lib\deploy\functions\release\fabricator.js:88:17)
[error] 
[error] Error: There was an error deploying functions
[debug] [2024-04-10T01:41:21.576Z] ----------------------------------------------------------------------
[debug] [2024-04-10T01:41:21.579Z] Command:       C:\Program Files\nodejs\node.exe C:\Users\natcl\AppData\Roaming\npm\node_modules\firebase-tools\lib\bin\firebase.js deploy --only functions
[debug] [2024-04-10T01:41:21.579Z] CLI Version:   13.7.1
[debug] [2024-04-10T01:41:21.579Z] Platform:      win32
[debug] [2024-04-10T01:41:21.580Z] Node Version:  v20.12.1
[debug] [2024-04-10T01:41:21.580Z] Time:          Tue Apr 09 2024 20:41:21 GMT-0500 (Central Daylight Time)
[debug] [2024-04-10T01:41:21.580Z] ----------------------------------------------------------------------
[debug] 
[debug] [2024-04-10T01:41:21.700Z] > command requires scopes: ["email","openid","https://www.googleapis.com/auth/cloudplatformprojects.readonly","https://www.googleapis.com/auth/firebase","https://www.googleapis.com/auth/cloud-platform"]
[debug] [2024-04-10T01:41:21.701Z] > authorizing via signed-in user (natclb08@gmail.com)
[debug] [2024-04-10T01:41:21.701Z] [iam] checking project seniordesign-e83c6 for permissions ["cloudfunctions.functions.create","cloudfunctions.functions.delete","cloudfunctions.functions.get","cloudfunctions.functions.list","cloudfunctions.functions.update","cloudfunctions.operations.get","firebase.projects.get"]
[debug] [2024-04-10T01:41:21.703Z] >>> [apiv2][query] POST https://cloudresourcemanager.googleapis.com/v1/projects/seniordesign-e83c6:testIamPermissions [none]
[debug] [2024-04-10T01:41:21.703Z] >>> [apiv2][(partial)header] POST https://cloudresourcemanager.googleapis.com/v1/projects/seniordesign-e83c6:testIamPermissions x-goog-quota-user=projects/seniordesign-e83c6
[debug] [2024-04-10T01:41:21.703Z] >>> [apiv2][body] POST https://cloudresourcemanager.googleapis.com/v1/projects/seniordesign-e83c6:testIamPermissions {"permissions":["cloudfunctions.functions.create","cloudfunctions.functions.delete","cloudfunctions.functions.get","cloudfunctions.functions.list","cloudfunctions.functions.update","cloudfunctions.operations.get","firebase.projects.get"]}
[debug] [2024-04-10T01:41:21.928Z] <<< [apiv2][status] POST https://cloudresourcemanager.googleapis.com/v1/projects/seniordesign-e83c6:testIamPermissions 200
[debug] [2024-04-10T01:41:21.928Z] <<< [apiv2][body] POST https://cloudresourcemanager.googleapis.com/v1/projects/seniordesign-e83c6:testIamPermissions {"permissions":["cloudfunctions.functions.create","cloudfunctions.functions.delete","cloudfunctions.functions.get","cloudfunctions.functions.list","cloudfunctions.functions.update","cloudfunctions.operations.get","firebase.projects.get"]}
[debug] [2024-04-10T01:41:21.929Z] >>> [apiv2][query] POST https://iam.googleapis.com/v1/projects/seniordesign-e83c6/serviceAccounts/seniordesign-e83c6@appspot.gserviceaccount.com:testIamPermissions [none]
[debug] [2024-04-10T01:41:21.929Z] >>> [apiv2][body] POST https://iam.googleapis.com/v1/projects/seniordesign-e83c6/serviceAccounts/seniordesign-e83c6@appspot.gserviceaccount.com:testIamPermissions {"permissions":["iam.serviceAccounts.actAs"]}
[debug] [2024-04-10T01:41:22.102Z] <<< [apiv2][status] POST https://iam.googleapis.com/v1/projects/seniordesign-e83c6/serviceAccounts/seniordesign-e83c6@appspot.gserviceaccount.com:testIamPermissions 200
[debug] [2024-04-10T01:41:22.103Z] <<< [apiv2][body] POST https://iam.googleapis.com/v1/projects/seniordesign-e83c6/serviceAccounts/seniordesign-e83c6@appspot.gserviceaccount.com:testIamPermissions {"permissions":["iam.serviceAccounts.actAs"]}
[info] 
[info] === Deploying to 'seniordesign-e83c6'...
[info] 
[info] i  deploying functions 
[debug] [2024-04-10T01:41:22.107Z] >>> [apiv2][query] GET https://firebase.googleapis.com/v1beta1/projects/seniordesign-e83c6 [none]
[debug] [2024-04-10T01:41:22.306Z] <<< [apiv2][status] GET https://firebase.googleapis.com/v1beta1/projects/seniordesign-e83c6 200
[debug] [2024-04-10T01:41:22.306Z] <<< [apiv2][body] GET https://firebase.googleapis.com/v1beta1/projects/seniordesign-e83c6 {"projectId":"seniordesign-e83c6","projectNumber":"889627653285","displayName":"SeniorDesign","name":"projects/seniordesign-e83c6","resources":{"hostingSite":"seniordesign-e83c6","realtimeDatabaseInstance":"seniordesign-e83c6-default-rtdb","storageBucket":"seniordesign-e83c6.appspot.com","locationId":"us-central"},"state":"ACTIVE","etag":"1_f790a910-fb13-4180-b2f2-a9711fb88881"}
[info] i  functions: preparing codebase default for deployment 
[info] i  functions: ensuring required API cloudfunctions.googleapis.com is enabled... 
[info] i  functions: ensuring required API cloudbuild.googleapis.com is enabled... 
[info] i  artifactregistry: ensuring required API artifactregistry.googleapis.com is enabled... 
[debug] [2024-04-10T01:41:22.310Z] >>> [apiv2][query] GET https://serviceusage.googleapis.com/v1/projects/seniordesign-e83c6/services/cloudfunctions.googleapis.com [none]
[debug] [2024-04-10T01:41:22.310Z] >>> [apiv2][(partial)header] GET https://serviceusage.googleapis.com/v1/projects/seniordesign-e83c6/services/cloudfunctions.googleapis.com x-goog-quota-user=projects/seniordesign-e83c6
[debug] [2024-04-10T01:41:22.311Z] >>> [apiv2][query] GET https://serviceusage.googleapis.com/v1/projects/seniordesign-e83c6/services/runtimeconfig.googleapis.com [none]
[debug] [2024-04-10T01:41:22.311Z] >>> [apiv2][(partial)header] GET https://serviceusage.googleapis.com/v1/projects/seniordesign-e83c6/services/runtimeconfig.googleapis.com x-goog-quota-user=projects/seniordesign-e83c6
[debug] [2024-04-10T01:41:22.312Z] >>> [apiv2][query] GET https://serviceusage.googleapis.com/v1/projects/seniordesign-e83c6/services/cloudbuild.googleapis.com [none]
[debug] [2024-04-10T01:41:22.312Z] >>> [apiv2][(partial)header] GET https://serviceusage.googleapis.com/v1/projects/seniordesign-e83c6/services/cloudbuild.googleapis.com x-goog-quota-user=projects/seniordesign-e83c6
[debug] [2024-04-10T01:41:22.313Z] >>> [apiv2][query] GET https://serviceusage.googleapis.com/v1/projects/seniordesign-e83c6/services/artifactregistry.googleapis.com [none]
[debug] [2024-04-10T01:41:22.314Z] >>> [apiv2][(partial)header] GET https://serviceusage.googleapis.com/v1/projects/seniordesign-e83c6/services/artifactregistry.googleapis.com x-goog-quota-user=projects/seniordesign-e83c6
[debug] [2024-04-10T01:41:22.617Z] <<< [apiv2][status] GET https://serviceusage.googleapis.com/v1/projects/seniordesign-e83c6/services/runtimeconfig.googleapis.com 200
[debug] [2024-04-10T01:41:22.617Z] <<< [apiv2][body] GET https://serviceusage.googleapis.com/v1/projects/seniordesign-e83c6/services/runtimeconfig.googleapis.com [omitted]
[debug] [2024-04-10T01:41:22.620Z] <<< [apiv2][status] GET https://serviceusage.googleapis.com/v1/projects/seniordesign-e83c6/services/artifactregistry.googleapis.com 200
[debug] [2024-04-10T01:41:22.620Z] <<< [apiv2][body] GET https://serviceusage.googleapis.com/v1/projects/seniordesign-e83c6/services/artifactregistry.googleapis.com [omitted]
[info] +  artifactregistry: required API artifactregistry.googleapis.com is enabled 
[debug] [2024-04-10T01:41:22.623Z] <<< [apiv2][status] GET https://serviceusage.googleapis.com/v1/projects/seniordesign-e83c6/services/cloudbuild.googleapis.com 200
[debug] [2024-04-10T01:41:22.623Z] <<< [apiv2][body] GET https://serviceusage.googleapis.com/v1/projects/seniordesign-e83c6/services/cloudbuild.googleapis.com [omitted]
[info] +  functions: required API cloudbuild.googleapis.com is enabled 
[debug] [2024-04-10T01:41:22.635Z] <<< [apiv2][status] GET https://serviceusage.googleapis.com/v1/projects/seniordesign-e83c6/services/cloudfunctions.googleapis.com 200
[debug] [2024-04-10T01:41:22.636Z] <<< [apiv2][body] GET https://serviceusage.googleapis.com/v1/projects/seniordesign-e83c6/services/cloudfunctions.googleapis.com [omitted]
[info] +  functions: required API cloudfunctions.googleapis.com is enabled 
[debug] [2024-04-10T01:41:22.637Z] >>> [apiv2][query] GET https://firebase.googleapis.com/v1beta1/projects/seniordesign-e83c6/adminSdkConfig [none]
[debug] [2024-04-10T01:41:22.902Z] <<< [apiv2][status] GET https://firebase.googleapis.com/v1beta1/projects/seniordesign-e83c6/adminSdkConfig 200
[debug] [2024-04-10T01:41:22.902Z] <<< [apiv2][body] GET https://firebase.googleapis.com/v1beta1/projects/seniordesign-e83c6/adminSdkConfig {"projectId":"seniordesign-e83c6","databaseURL":"https://seniordesign-e83c6-default-rtdb.firebaseio.com","storageBucket":"seniordesign-e83c6.appspot.com","locationId":"us-central"}
[debug] [2024-04-10T01:41:22.903Z] >>> [apiv2][query] GET https://runtimeconfig.googleapis.com/v1beta1/projects/seniordesign-e83c6/configs [none]
[debug] [2024-04-10T01:41:23.084Z] <<< [apiv2][status] GET https://runtimeconfig.googleapis.com/v1beta1/projects/seniordesign-e83c6/configs 200
[debug] [2024-04-10T01:41:23.084Z] <<< [apiv2][body] GET https://runtimeconfig.googleapis.com/v1beta1/projects/seniordesign-e83c6/configs {"configs":[{"name":"projects/seniordesign-e83c6/configs/cloudvision"},{"name":"projects/seniordesign-e83c6/configs/openai"}]}
[debug] [2024-04-10T01:41:23.084Z] >>> [apiv2][query] GET https://runtimeconfig.googleapis.com/v1beta1/projects/seniordesign-e83c6/configs/cloudvision/variables [none]
[debug] [2024-04-10T01:41:23.085Z] >>> [apiv2][query] GET https://runtimeconfig.googleapis.com/v1beta1/projects/seniordesign-e83c6/configs/openai/variables [none]
[debug] [2024-04-10T01:41:23.200Z] <<< [apiv2][status] GET https://runtimeconfig.googleapis.com/v1beta1/projects/seniordesign-e83c6/configs/openai/variables 200
[debug] [2024-04-10T01:41:23.201Z] <<< [apiv2][body] GET https://runtimeconfig.googleapis.com/v1beta1/projects/seniordesign-e83c6/configs/openai/variables {"variables":[{"name":"projects/seniordesign-e83c6/configs/openai/variables/key","updateTime":"2024-04-10T01:11:06.440829804Z"}]}
[debug] [2024-04-10T01:41:23.201Z] >>> [apiv2][query] GET https://runtimeconfig.googleapis.com/v1beta1/projects/seniordesign-e83c6/configs/openai/variables/key [none]
[debug] [2024-04-10T01:41:23.238Z] <<< [apiv2][status] GET https://runtimeconfig.googleapis.com/v1beta1/projects/seniordesign-e83c6/configs/cloudvision/variables 200
[debug] [2024-04-10T01:41:23.239Z] <<< [apiv2][body] GET https://runtimeconfig.googleapis.com/v1beta1/projects/seniordesign-e83c6/configs/cloudvision/variables {"variables":[{"name":"projects/seniordesign-e83c6/configs/cloudvision/variables/key","updateTime":"2024-04-08T17:56:04.363427797Z"}]}
[debug] [2024-04-10T01:41:23.239Z] >>> [apiv2][query] GET https://runtimeconfig.googleapis.com/v1beta1/projects/seniordesign-e83c6/configs/cloudvision/variables/key [none]
[debug] [2024-04-10T01:41:23.288Z] <<< [apiv2][status] GET https://runtimeconfig.googleapis.com/v1beta1/projects/seniordesign-e83c6/configs/openai/variables/key 200
[debug] [2024-04-10T01:41:23.288Z] <<< [apiv2][body] GET https://runtimeconfig.googleapis.com/v1beta1/projects/seniordesign-e83c6/configs/openai/variables/key {"name":"projects/seniordesign-e83c6/configs/openai/variables/key","updateTime":"2024-04-10T01:11:06.440829804Z","text":"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"}
[debug] [2024-04-10T01:41:23.493Z] <<< [apiv2][status] GET https://runtimeconfig.googleapis.com/v1beta1/projects/seniordesign-e83c6/configs/cloudvision/variables/key 200
[debug] [2024-04-10T01:41:23.494Z] <<< [apiv2][body] GET https://runtimeconfig.googleapis.com/v1beta1/projects/seniordesign-e83c6/configs/cloudvision/variables/key {"name":"projects/seniordesign-e83c6/configs/cloudvision/variables/key","updateTime":"2024-04-08T17:56:04.363427797Z","text":"AIzaSyB0mkcd88GYyoUfIfJQCcPmjXb01Ckb2sE"}
[debug] [2024-04-10T01:41:23.495Z] Validating nodejs source
[debug] [2024-04-10T01:41:24.919Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "lint": "eslint .",
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "18"
  },
  "main": "index.js",
  "dependencies": {
    "firebase-admin": "^11.8.0",
    "firebase-functions": "^4.3.1",
    "sharp": "^0.33.3"
  },
  "devDependencies": {
    "eslint": "^8.15.0",
    "eslint-config-google": "^0.14.0",
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2024-04-10T01:41:24.919Z] Building nodejs source
[info] i  functions: Loading and analyzing source code for codebase default to determine what to deploy 
[debug] [2024-04-10T01:41:24.922Z] Could not find functions.yaml. Must use http discovery
[debug] [2024-04-10T01:41:24.929Z] Found firebase-functions binary at 'C:\Users\natcl\OneDrive\Documents\Spring_2024\Senior_Design\SeniorDesignProject\functions\node_modules\.bin\firebase-functions'
[info] Serving at port 8248

[debug] [2024-04-10T01:41:25.957Z] Got response from /__/functions.yaml {"endpoints":{"processUploadAndRecommend":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"eventTrigger":{"eventType":"google.storage.object.finalize","eventFilters":{"resource":"projects/_/buckets/seniordesign-e83c6.appspot.com"},"retry":false},"labels":{},"entryPoint":"processUploadAndRecommend"}},"specVersion":"v1alpha1","requiredAPIs":[]}
[info] i  functions: preparing functions directory for uploading... 
[info] i  functions: packaged C:\Users\natcl\OneDrive\Documents\Spring_2024\Senior_Design\SeniorDesignProject\functions (79.35 KB) for uploading 
[debug] [2024-04-10T01:41:31.046Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v1/projects/seniordesign-e83c6/locations/-/functions [none]
[debug] [2024-04-10T01:41:31.528Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v1/projects/seniordesign-e83c6/locations/-/functions 200
[debug] [2024-04-10T01:41:31.528Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v1/projects/seniordesign-e83c6/locations/-/functions {"functions":[{"name":"projects/seniordesign-e83c6/locations/us-central1/functions/processUploadAndRecommend","eventTrigger":{"eventType":"google.storage.object.finalize","resource":"projects/_/buckets/seniordesign-e83c6.appspot.com","service":"storage.googleapis.com","failurePolicy":{}},"status":"OFFLINE","entryPoint":"processUploadAndRecommend","timeout":"60s","availableMemoryMb":256,"serviceAccountEmail":"seniordesign-e83c6@appspot.gserviceaccount.com","updateTime":"2024-04-10T01:27:35.417Z","versionId":"2","labels":{"deployment-tool":"cli-firebase","firebase-functions-hash":"ac45ab43b3f778eac138a1935c6cf44536f41428"},"sourceUploadUrl":"https://storage.googleapis.com/uploads-841930861051.us-central1.cloudfunctions.appspot.com/4e1ea0ea-ddce-49db-bc18-5c30ca7b0007.zip","environmentVariables":{"FIREBASE_CONFIG":"{\"projectId\":\"seniordesign-e83c6\",\"databaseURL\":\"https://seniordesign-e83c6-default-rtdb.firebaseio.com\",\"storageBucket\":\"seniordesign-e83c6.appspot.com\",\"locationId\":\"us-central\"}","GCLOUD_PROJECT":"seniordesign-e83c6","EVENTARC_CLOUD_EVENT_SOURCE":"projects/seniordesign-e83c6/locations/us-central1/functions/processUploadAndRecommend"},"runtime":"nodejs18","maxInstances":3000,"ingressSettings":"ALLOW_ALL","buildId":"1291a92d-c2a8-43fb-b046-a70c1f9dedb7","buildEnvironmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"buildName":"projects/889627653285/locations/us-central1/builds/1291a92d-c2a8-43fb-b046-a70c1f9dedb7","dockerRegistry":"ARTIFACT_REGISTRY","automaticUpdatePolicy":{}}]}
[debug] [2024-04-10T01:41:31.530Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v2/projects/seniordesign-e83c6/locations/-/functions filter=environment%3D%22GEN_2%22
[debug] [2024-04-10T01:41:31.946Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v2/projects/seniordesign-e83c6/locations/-/functions 200
[debug] [2024-04-10T01:41:31.946Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v2/projects/seniordesign-e83c6/locations/-/functions {}
[debug] [2024-04-10T01:41:31.949Z] >>> [apiv2][query] GET https://firebase.googleapis.com/v1beta1/projects/seniordesign-e83c6 [none]
[debug] [2024-04-10T01:41:32.135Z] <<< [apiv2][status] GET https://firebase.googleapis.com/v1beta1/projects/seniordesign-e83c6 200
[debug] [2024-04-10T01:41:32.135Z] <<< [apiv2][body] GET https://firebase.googleapis.com/v1beta1/projects/seniordesign-e83c6 {"projectId":"seniordesign-e83c6","projectNumber":"889627653285","displayName":"SeniorDesign","name":"projects/seniordesign-e83c6","resources":{"hostingSite":"seniordesign-e83c6","realtimeDatabaseInstance":"seniordesign-e83c6-default-rtdb","storageBucket":"seniordesign-e83c6.appspot.com","locationId":"us-central"},"state":"ACTIVE","etag":"1_f790a910-fb13-4180-b2f2-a9711fb88881"}
[debug] [2024-04-10T01:41:32.136Z] >>> [apiv2][query] POST https://cloudfunctions.googleapis.com/v1/projects/seniordesign-e83c6/locations/us-central1/functions:generateUploadUrl [none]
[debug] [2024-04-10T01:41:32.136Z] >>> [apiv2][body] POST https://cloudfunctions.googleapis.com/v1/projects/seniordesign-e83c6/locations/us-central1/functions:generateUploadUrl {}
[debug] [2024-04-10T01:41:32.589Z] <<< [apiv2][status] POST https://cloudfunctions.googleapis.com/v1/projects/seniordesign-e83c6/locations/us-central1/functions:generateUploadUrl 200
[debug] [2024-04-10T01:41:32.590Z] <<< [apiv2][body] POST https://cloudfunctions.googleapis.com/v1/projects/seniordesign-e83c6/locations/us-central1/functions:generateUploadUrl {"uploadUrl":"https://storage.googleapis.com/uploads-841930861051.us-central1.cloudfunctions.appspot.com/17a10c2b-cbeb-4369-8551-1f1246c18f0c.zip?GoogleAccessId=service-889627653285@gcf-admin-robot.iam.gserviceaccount.com&Expires=1712715093&Signature=JRM0CY%2FejWN5ePRhnCICIsuZR701FxQZ%2BQW6UZImswpiyh%2Bwzpm4vmJ1Q0Vww%2FXDr4CYG5vTs9j3uMBUS4bKctWEUnUc%2FfNh2TGACtKqTt%2FsUAqMfwiQUKA0EY%2BVFPfO5PVzco2Ns6qUdaZTSmpDREqlNHXDpG3DZW4P4YHrMxKl1ZHv16wUcYNCNRJBQ5ytK5u4tt65gLNC2NBXTpPeoKrNPjbKFgJC2FI84%2FfUT1%2BHesI%2B6OgViHcwDpFLdb%2FPN33kqzbtMOAG%2Bvb%2B0MHDKZ6G7S%2FOGj54C5BRnLcm57GspftWac8u2Vxt1XXr5lAKIDSREMdAzLWBz%2FeuV1LNyw%3D%3D"}
[debug] [2024-04-10T01:41:32.591Z] >>> [apiv2][query] PUT https://storage.googleapis.com/uploads-841930861051.us-central1.cloudfunctions.appspot.com/17a10c2b-cbeb-4369-8551-1f1246c18f0c.zip GoogleAccessId=service-889627653285%40gcf-admin-robot.iam.gserviceaccount.com&Expires=1712715093&Signature=JRM0CY%2FejWN5ePRhnCICIsuZR701FxQZ%2BQW6UZImswpiyh%2Bwzpm4vmJ1Q0Vww%2FXDr4CYG5vTs9j3uMBUS4bKctWEUnUc%2FfNh2TGACtKqTt%2FsUAqMfwiQUKA0EY%2BVFPfO5PVzco2Ns6qUdaZTSmpDREqlNHXDpG3DZW4P4YHrMxKl1ZHv16wUcYNCNRJBQ5ytK5u4tt65gLNC2NBXTpPeoKrNPjbKFgJC2FI84%2FfUT1%2BHesI%2B6OgViHcwDpFLdb%2FPN33kqzbtMOAG%2Bvb%2B0MHDKZ6G7S%2FOGj54C5BRnLcm57GspftWac8u2Vxt1XXr5lAKIDSREMdAzLWBz%2FeuV1LNyw%3D%3D
[debug] [2024-04-10T01:41:32.592Z] >>> [apiv2][body] PUT https://storage.googleapis.com/uploads-841930861051.us-central1.cloudfunctions.appspot.com/17a10c2b-cbeb-4369-8551-1f1246c18f0c.zip [stream]
[debug] [2024-04-10T01:41:32.769Z] <<< [apiv2][status] PUT https://storage.googleapis.com/uploads-841930861051.us-central1.cloudfunctions.appspot.com/17a10c2b-cbeb-4369-8551-1f1246c18f0c.zip 200
[debug] [2024-04-10T01:41:32.769Z] <<< [apiv2][body] PUT https://storage.googleapis.com/uploads-841930861051.us-central1.cloudfunctions.appspot.com/17a10c2b-cbeb-4369-8551-1f1246c18f0c.zip [omitted]
[info] +  functions: functions folder uploaded successfully 
[info] i  functions: updating Node.js 18 (1st Gen) function processUploadAndRecommend(us-central1)... 
[debug] [2024-04-10T01:41:32.774Z] >>> [apiv2][query] PATCH https://cloudfunctions.googleapis.com/v1/projects/seniordesign-e83c6/locations/us-central1/functions/processUploadAndRecommend updateMask=name%2CsourceUploadUrl%2CentryPoint%2Cruntime%2CdockerRegistry%2Clabels%2CeventTrigger.eventType%2CeventTrigger.resource%2CeventTrigger.failurePolicy%2CminInstances%2CmaxInstances%2CingressSettings%2CenvironmentVariables%2CserviceAccountEmail%2CavailableMemoryMb%2Ctimeout%2CvpcConnector%2CvpcConnectorEgressSettings%2CsourceToken%2CbuildEnvironmentVariables
[debug] [2024-04-10T01:41:32.774Z] >>> [apiv2][body] PATCH https://cloudfunctions.googleapis.com/v1/projects/seniordesign-e83c6/locations/us-central1/functions/processUploadAndRecommend {"name":"projects/seniordesign-e83c6/locations/us-central1/functions/processUploadAndRecommend","sourceUploadUrl":"https://storage.googleapis.com/uploads-841930861051.us-central1.cloudfunctions.appspot.com/17a10c2b-cbeb-4369-8551-1f1246c18f0c.zip?GoogleAccessId=service-889627653285@gcf-admin-robot.iam.gserviceaccount.com&Expires=1712715093&Signature=JRM0CY%2FejWN5ePRhnCICIsuZR701FxQZ%2BQW6UZImswpiyh%2Bwzpm4vmJ1Q0Vww%2FXDr4CYG5vTs9j3uMBUS4bKctWEUnUc%2FfNh2TGACtKqTt%2FsUAqMfwiQUKA0EY%2BVFPfO5PVzco2Ns6qUdaZTSmpDREqlNHXDpG3DZW4P4YHrMxKl1ZHv16wUcYNCNRJBQ5ytK5u4tt65gLNC2NBXTpPeoKrNPjbKFgJC2FI84%2FfUT1%2BHesI%2B6OgViHcwDpFLdb%2FPN33kqzbtMOAG%2Bvb%2B0MHDKZ6G7S%2FOGj54C5BRnLcm57GspftWac8u2Vxt1XXr5lAKIDSREMdAzLWBz%2FeuV1LNyw%3D%3D","entryPoint":"processUploadAndRecommend","runtime":"nodejs18","dockerRegistry":"ARTIFACT_REGISTRY","labels":{"deployment-tool":"cli-firebase","firebase-functions-hash":"b00ec4ade0c61bf0e5bf04e7846eba76767c50ed"},"eventTrigger":{"eventType":"google.storage.object.finalize","resource":"projects/_/buckets/seniordesign-e83c6.appspot.com"},"minInstances":null,"maxInstances":null,"ingressSettings":null,"environmentVariables":{"FIREBASE_CONFIG":"{\"projectId\":\"seniordesign-e83c6\",\"databaseURL\":\"https://seniordesign-e83c6-default-rtdb.firebaseio.com\",\"storageBucket\":\"seniordesign-e83c6.appspot.com\",\"locationId\":\"us-central\"}","GCLOUD_PROJECT":"seniordesign-e83c6","EVENTARC_CLOUD_EVENT_SOURCE":"projects/seniordesign-e83c6/locations/us-central1/functions/processUploadAndRecommend"},"serviceAccountEmail":null,"availableMemoryMb":null,"timeout":null,"vpcConnector":null,"vpcConnectorEgressSettings":null,"buildEnvironmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""}}
[debug] [2024-04-10T01:41:33.215Z] <<< [apiv2][status] PATCH https://cloudfunctions.googleapis.com/v1/projects/seniordesign-e83c6/locations/us-central1/functions/processUploadAndRecommend 200
[debug] [2024-04-10T01:41:33.216Z] <<< [apiv2][body] PATCH https://cloudfunctions.googleapis.com/v1/projects/seniordesign-e83c6/locations/us-central1/functions/processUploadAndRecommend {"name":"operations/c2VuaW9yZGVzaWduLWU4M2M2L3VzLWNlbnRyYWwxL3Byb2Nlc3NVcGxvYWRBbmRSZWNvbW1lbmQvYkdBVk4wOXEwYjg","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v1.OperationMetadataV1","target":"projects/seniordesign-e83c6/locations/us-central1/functions/processUploadAndRecommend","type":"UPDATE_FUNCTION","request":{"@type":"type.googleapis.com/google.cloud.functions.v1.CloudFunction","name":"projects/seniordesign-e83c6/locations/us-central1/functions/processUploadAndRecommend","eventTrigger":{"eventType":"google.storage.object.finalize","resource":"projects/_/buckets/seniordesign-e83c6.appspot.com","service":"storage.googleapis.com"},"status":"OFFLINE","entryPoint":"processUploadAndRecommend","updateTime":"2024-04-10T01:27:35.417Z","versionId":"2","labels":{"deployment-tool":"cli-firebase","firebase-functions-hash":"b00ec4ade0c61bf0e5bf04e7846eba76767c50ed"},"sourceUploadUrl":"https://storage.googleapis.com/uploads-841930861051.us-central1.cloudfunctions.appspot.com/17a10c2b-cbeb-4369-8551-1f1246c18f0c.zip?GoogleAccessId=service-889627653285@gcf-admin-robot.iam.gserviceaccount.com&Expires=1712715093&Signature=JRM0CY%2FejWN5ePRhnCICIsuZR701FxQZ%2BQW6UZImswpiyh%2Bwzpm4vmJ1Q0Vww%2FXDr4CYG5vTs9j3uMBUS4bKctWEUnUc%2FfNh2TGACtKqTt%2FsUAqMfwiQUKA0EY%2BVFPfO5PVzco2Ns6qUdaZTSmpDREqlNHXDpG3DZW4P4YHrMxKl1ZHv16wUcYNCNRJBQ5ytK5u4tt65gLNC2NBXTpPeoKrNPjbKFgJC2FI84%2FfUT1%2BHesI%2B6OgViHcwDpFLdb%2FPN33kqzbtMOAG%2Bvb%2B0MHDKZ6G7S%2FOGj54C5BRnLcm57GspftWac8u2Vxt1XXr5lAKIDSREMdAzLWBz%2FeuV1LNyw%3D%3D","environmentVariables":{"FIREBASE_CONFIG":"{\"projectId\":\"seniordesign-e83c6\",\"databaseURL\":\"https://seniordesign-e83c6-default-rtdb.firebaseio.com\",\"storageBucket\":\"seniordesign-e83c6.appspot.com\",\"locationId\":\"us-central\"}","GCLOUD_PROJECT":"seniordesign-e83c6","EVENTARC_CLOUD_EVENT_SOURCE":"projects/seniordesign-e83c6/locations/us-central1/functions/processUploadAndRecommend"},"runtime":"nodejs18","buildId":"1291a92d-c2a8-43fb-b046-a70c1f9dedb7","buildEnvironmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"buildName":"projects/889627653285/locations/us-central1/builds/1291a92d-c2a8-43fb-b046-a70c1f9dedb7","dockerRegistry":"ARTIFACT_REGISTRY","automaticUpdatePolicy":{}},"versionId":"3","updateTime":"2024-04-10T01:41:33Z"}}
[debug] [2024-04-10T01:41:33.216Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v1/operations/c2VuaW9yZGVzaWduLWU4M2M2L3VzLWNlbnRyYWwxL3Byb2Nlc3NVcGxvYWRBbmRSZWNvbW1lbmQvYkdBVk4wOXEwYjg [none]
[debug] [2024-04-10T01:41:33.377Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v1/operations/c2VuaW9yZGVzaWduLWU4M2M2L3VzLWNlbnRyYWwxL3Byb2Nlc3NVcGxvYWRBbmRSZWNvbW1lbmQvYkdBVk4wOXEwYjg 200
[debug] [2024-04-10T01:41:33.377Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v1/operations/c2VuaW9yZGVzaWduLWU4M2M2L3VzLWNlbnRyYWwxL3Byb2Nlc3NVcGxvYWRBbmRSZWNvbW1lbmQvYkdBVk4wOXEwYjg {"name":"operations/c2VuaW9yZGVzaWduLWU4M2M2L3VzLWNlbnRyYWwxL3Byb2Nlc3NVcGxvYWRBbmRSZWNvbW1lbmQvYkdBVk4wOXEwYjg","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v1.OperationMetadataV1","target":"projects/seniordesign-e83c6/locations/us-central1/functions/processUploadAndRecommend","type":"UPDATE_FUNCTION","request":{"@type":"type.googleapis.com/google.cloud.functions.v1.CloudFunction","name":"projects/seniordesign-e83c6/locations/us-central1/functions/processUploadAndRecommend","eventTrigger":{"eventType":"google.storage.object.finalize","resource":"projects/_/buckets/seniordesign-e83c6.appspot.com","service":"storage.googleapis.com"},"status":"OFFLINE","entryPoint":"processUploadAndRecommend","updateTime":"2024-04-10T01:27:35.417Z","versionId":"2","labels":{"deployment-tool":"cli-firebase","firebase-functions-hash":"b00ec4ade0c61bf0e5bf04e7846eba76767c50ed"},"sourceUploadUrl":"https://storage.googleapis.com/uploads-841930861051.us-central1.cloudfunctions.appspot.com/17a10c2b-cbeb-4369-8551-1f1246c18f0c.zip?GoogleAccessId=service-889627653285@gcf-admin-robot.iam.gserviceaccount.com&Expires=1712715093&Signature=JRM0CY%2FejWN5ePRhnCICIsuZR701FxQZ%2BQW6UZImswpiyh%2Bwzpm4vmJ1Q0Vww%2FXDr4CYG5vTs9j3uMBUS4bKctWEUnUc%2FfNh2TGACtKqTt%2FsUAqMfwiQUKA0EY%2BVFPfO5PVzco2Ns6qUdaZTSmpDREqlNHXDpG3DZW4P4YHrMxKl1ZHv16wUcYNCNRJBQ5ytK5u4tt65gLNC2NBXTpPeoKrNPjbKFgJC2FI84%2FfUT1%2BHesI%2B6OgViHcwDpFLdb%2FPN33kqzbtMOAG%2Bvb%2B0MHDKZ6G7S%2FOGj54C5BRnLcm57GspftWac8u2Vxt1XXr5lAKIDSREMdAzLWBz%2FeuV1LNyw%3D%3D","environmentVariables":{"FIREBASE_CONFIG":"{\"projectId\":\"seniordesign-e83c6\",\"databaseURL\":\"https://seniordesign-e83c6-default-rtdb.firebaseio.com\",\"storageBucket\":\"seniordesign-e83c6.appspot.com\",\"locationId\":\"us-central\"}","GCLOUD_PROJECT":"seniordesign-e83c6","EVENTARC_CLOUD_EVENT_SOURCE":"projects/seniordesign-e83c6/locations/us-central1/functions/processUploadAndRecommend"},"runtime":"nodejs18","buildId":"1291a92d-c2a8-43fb-b046-a70c1f9dedb7","buildEnvironmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"buildName":"projects/889627653285/locations/us-central1/builds/1291a92d-c2a8-43fb-b046-a70c1f9dedb7","dockerRegistry":"ARTIFACT_REGISTRY","automaticUpdatePolicy":{}},"versionId":"3","updateTime":"2024-04-10T01:41:34Z"}}
[debug] [2024-04-10T01:41:33.889Z] [update-default-us-central1-processUploadAndRecommend] Retrying task index 0
[debug] [2024-04-10T01:41:33.890Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v1/operations/c2VuaW9yZGVzaWduLWU4M2M2L3VzLWNlbnRyYWwxL3Byb2Nlc3NVcGxvYWRBbmRSZWNvbW1lbmQvYkdBVk4wOXEwYjg [none]
[debug] [2024-04-10T01:41:34.027Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v1/operations/c2VuaW9yZGVzaWduLWU4M2M2L3VzLWNlbnRyYWwxL3Byb2Nlc3NVcGxvYWRBbmRSZWNvbW1lbmQvYkdBVk4wOXEwYjg 200
[debug] [2024-04-10T01:41:34.027Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v1/operations/c2VuaW9yZGVzaWduLWU4M2M2L3VzLWNlbnRyYWwxL3Byb2Nlc3NVcGxvYWRBbmRSZWNvbW1lbmQvYkdBVk4wOXEwYjg {"name":"operations/c2VuaW9yZGVzaWduLWU4M2M2L3VzLWNlbnRyYWwxL3Byb2Nlc3NVcGxvYWRBbmRSZWNvbW1lbmQvYkdBVk4wOXEwYjg","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v1.OperationMetadataV1","target":"projects/seniordesign-e83c6/locations/us-central1/functions/processUploadAndRecommend","type":"UPDATE_FUNCTION","request":{"@type":"type.googleapis.com/google.cloud.functions.v1.CloudFunction","name":"projects/seniordesign-e83c6/locations/us-central1/functions/processUploadAndRecommend","eventTrigger":{"eventType":"google.storage.object.finalize","resource":"projects/_/buckets/seniordesign-e83c6.appspot.com","service":"storage.googleapis.com"},"status":"OFFLINE","entryPoint":"processUploadAndRecommend","updateTime":"2024-04-10T01:27:35.417Z","versionId":"2","labels":{"deployment-tool":"cli-firebase","firebase-functions-hash":"b00ec4ade0c61bf0e5bf04e7846eba76767c50ed"},"sourceUploadUrl":"https://storage.googleapis.com/uploads-841930861051.us-central1.cloudfunctions.appspot.com/17a10c2b-cbeb-4369-8551-1f1246c18f0c.zip?GoogleAccessId=service-889627653285@gcf-admin-robot.iam.gserviceaccount.com&Expires=1712715093&Signature=JRM0CY%2FejWN5ePRhnCICIsuZR701FxQZ%2BQW6UZImswpiyh%2Bwzpm4vmJ1Q0Vww%2FXDr4CYG5vTs9j3uMBUS4bKctWEUnUc%2FfNh2TGACtKqTt%2FsUAqMfwiQUKA0EY%2BVFPfO5PVzco2Ns6qUdaZTSmpDREqlNHXDpG3DZW4P4YHrMxKl1ZHv16wUcYNCNRJBQ5ytK5u4tt65gLNC2NBXTpPeoKrNPjbKFgJC2FI84%2FfUT1%2BHesI%2B6OgViHcwDpFLdb%2FPN33kqzbtMOAG%2Bvb%2B0MHDKZ6G7S%2FOGj54C5BRnLcm57GspftWac8u2Vxt1XXr5lAKIDSREMdAzLWBz%2FeuV1LNyw%3D%3D","environmentVariables":{"FIREBASE_CONFIG":"{\"projectId\":\"seniordesign-e83c6\",\"databaseURL\":\"https://seniordesign-e83c6-default-rtdb.firebaseio.com\",\"storageBucket\":\"seniordesign-e83c6.appspot.com\",\"locationId\":\"us-central\"}","GCLOUD_PROJECT":"seniordesign-e83c6","EVENTARC_CLOUD_EVENT_SOURCE":"projects/seniordesign-e83c6/locations/us-central1/functions/processUploadAndRecommend"},"runtime":"nodejs18","buildId":"1291a92d-c2a8-43fb-b046-a70c1f9dedb7","buildEnvironmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"buildName":"projects/889627653285/locations/us-central1/builds/1291a92d-c2a8-43fb-b046-a70c1f9dedb7","dockerRegistry":"ARTIFACT_REGISTRY","automaticUpdatePolicy":{}},"versionId":"3","updateTime":"2024-04-10T01:41:34Z"}}
[debug] [2024-04-10T01:41:35.041Z] [update-default-us-central1-processUploadAndRecommend] Retrying task index 0
[debug] [2024-04-10T01:41:35.041Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v1/operations/c2VuaW9yZGVzaWduLWU4M2M2L3VzLWNlbnRyYWwxL3Byb2Nlc3NVcGxvYWRBbmRSZWNvbW1lbmQvYkdBVk4wOXEwYjg [none]
[debug] [2024-04-10T01:41:35.152Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v1/operations/c2VuaW9yZGVzaWduLWU4M2M2L3VzLWNlbnRyYWwxL3Byb2Nlc3NVcGxvYWRBbmRSZWNvbW1lbmQvYkdBVk4wOXEwYjg 200
[debug] [2024-04-10T01:41:35.153Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v1/operations/c2VuaW9yZGVzaWduLWU4M2M2L3VzLWNlbnRyYWwxL3Byb2Nlc3NVcGxvYWRBbmRSZWNvbW1lbmQvYkdBVk4wOXEwYjg {"name":"operations/c2VuaW9yZGVzaWduLWU4M2M2L3VzLWNlbnRyYWwxL3Byb2Nlc3NVcGxvYWRBbmRSZWNvbW1lbmQvYkdBVk4wOXEwYjg","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v1.OperationMetadataV1","target":"projects/seniordesign-e83c6/locations/us-central1/functions/processUploadAndRecommend","type":"UPDATE_FUNCTION","request":{"@type":"type.googleapis.com/google.cloud.functions.v1.CloudFunction","name":"projects/seniordesign-e83c6/locations/us-central1/functions/processUploadAndRecommend","eventTrigger":{"eventType":"google.storage.object.finalize","resource":"projects/_/buckets/seniordesign-e83c6.appspot.com","service":"storage.googleapis.com"},"status":"OFFLINE","entryPoint":"processUploadAndRecommend","updateTime":"2024-04-10T01:27:35.417Z","versionId":"2","labels":{"deployment-tool":"cli-firebase","firebase-functions-hash":"b00ec4ade0c61bf0e5bf04e7846eba76767c50ed"},"sourceUploadUrl":"https://storage.googleapis.com/uploads-841930861051.us-central1.cloudfunctions.appspot.com/17a10c2b-cbeb-4369-8551-1f1246c18f0c.zip?GoogleAccessId=service-889627653285@gcf-admin-robot.iam.gserviceaccount.com&Expires=1712715093&Signature=JRM0CY%2FejWN5ePRhnCICIsuZR701FxQZ%2BQW6UZImswpiyh%2Bwzpm4vmJ1Q0Vww%2FXDr4CYG5vTs9j3uMBUS4bKctWEUnUc%2FfNh2TGACtKqTt%2FsUAqMfwiQUKA0EY%2BVFPfO5PVzco2Ns6qUdaZTSmpDREqlNHXDpG3DZW4P4YHrMxKl1ZHv16wUcYNCNRJBQ5ytK5u4tt65gLNC2NBXTpPeoKrNPjbKFgJC2FI84%2FfUT1%2BHesI%2B6OgViHcwDpFLdb%2FPN33kqzbtMOAG%2Bvb%2B0MHDKZ6G7S%2FOGj54C5BRnLcm57GspftWac8u2Vxt1XXr5lAKIDSREMdAzLWBz%2FeuV1LNyw%3D%3D","environmentVariables":{"FIREBASE_CONFIG":"{\"projectId\":\"seniordesign-e83c6\",\"databaseURL\":\"https://seniordesign-e83c6-default-rtdb.firebaseio.com\",\"storageBucket\":\"seniordesign-e83c6.appspot.com\",\"locationId\":\"us-central\"}","GCLOUD_PROJECT":"seniordesign-e83c6","EVENTARC_CLOUD_EVENT_SOURCE":"projects/seniordesign-e83c6/locations/us-central1/functions/processUploadAndRecommend"},"runtime":"nodejs18","buildId":"1291a92d-c2a8-43fb-b046-a70c1f9dedb7","buildEnvironmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"buildName":"projects/889627653285/locations/us-central1/builds/1291a92d-c2a8-43fb-b046-a70c1f9dedb7","dockerRegistry":"ARTIFACT_REGISTRY","automaticUpdatePolicy":{}},"versionId":"3","updateTime":"2024-04-10T01:41:34Z","buildId":"0b1dddba-8e66-4ec1-825e-576b8017e36e","buildName":"projects/889627653285/locations/us-central1/builds/0b1dddba-8e66-4ec1-825e-576b8017e36e"}}
[debug] [2024-04-10T01:41:37.157Z] [update-default-us-central1-processUploadAndRecommend] Retrying task index 0
[debug] [2024-04-10T01:41:37.158Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v1/operations/c2VuaW9yZGVzaWduLWU4M2M2L3VzLWNlbnRyYWwxL3Byb2Nlc3NVcGxvYWRBbmRSZWNvbW1lbmQvYkdBVk4wOXEwYjg [none]
[debug] [2024-04-10T01:41:37.308Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v1/operations/c2VuaW9yZGVzaWduLWU4M2M2L3VzLWNlbnRyYWwxL3Byb2Nlc3NVcGxvYWRBbmRSZWNvbW1lbmQvYkdBVk4wOXEwYjg 200
[debug] [2024-04-10T01:41:37.308Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v1/operations/c2VuaW9yZGVzaWduLWU4M2M2L3VzLWNlbnRyYWwxL3Byb2Nlc3NVcGxvYWRBbmRSZWNvbW1lbmQvYkdBVk4wOXEwYjg {"name":"operations/c2VuaW9yZGVzaWduLWU4M2M2L3VzLWNlbnRyYWwxL3Byb2Nlc3NVcGxvYWRBbmRSZWNvbW1lbmQvYkdBVk4wOXEwYjg","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v1.OperationMetadataV1","target":"projects/seniordesign-e83c6/locations/us-central1/functions/processUploadAndRecommend","type":"UPDATE_FUNCTION","request":{"@type":"type.googleapis.com/google.cloud.functions.v1.CloudFunction","name":"projects/seniordesign-e83c6/locations/us-central1/functions/processUploadAndRecommend","eventTrigger":{"eventType":"google.storage.object.finalize","resource":"projects/_/buckets/seniordesign-e83c6.appspot.com","service":"storage.googleapis.com"},"status":"OFFLINE","entryPoint":"processUploadAndRecommend","updateTime":"2024-04-10T01:27:35.417Z","versionId":"2","labels":{"deployment-tool":"cli-firebase","firebase-functions-hash":"b00ec4ade0c61bf0e5bf04e7846eba76767c50ed"},"sourceUploadUrl":"https://storage.googleapis.com/uploads-841930861051.us-central1.cloudfunctions.appspot.com/17a10c2b-cbeb-4369-8551-1f1246c18f0c.zip?GoogleAccessId=service-889627653285@gcf-admin-robot.iam.gserviceaccount.com&Expires=1712715093&Signature=JRM0CY%2FejWN5ePRhnCICIsuZR701FxQZ%2BQW6UZImswpiyh%2Bwzpm4vmJ1Q0Vww%2FXDr4CYG5vTs9j3uMBUS4bKctWEUnUc%2FfNh2TGACtKqTt%2FsUAqMfwiQUKA0EY%2BVFPfO5PVzco2Ns6qUdaZTSmpDREqlNHXDpG3DZW4P4YHrMxKl1ZHv16wUcYNCNRJBQ5ytK5u4tt65gLNC2NBXTpPeoKrNPjbKFgJC2FI84%2FfUT1%2BHesI%2B6OgViHcwDpFLdb%2FPN33kqzbtMOAG%2Bvb%2B0MHDKZ6G7S%2FOGj54C5BRnLcm57GspftWac8u2Vxt1XXr5lAKIDSREMdAzLWBz%2FeuV1LNyw%3D%3D","environmentVariables":{"FIREBASE_CONFIG":"{\"projectId\":\"seniordesign-e83c6\",\"databaseURL\":\"https://seniordesign-e83c6-default-rtdb.firebaseio.com\",\"storageBucket\":\"seniordesign-e83c6.appspot.com\",\"locationId\":\"us-central\"}","GCLOUD_PROJECT":"seniordesign-e83c6","EVENTARC_CLOUD_EVENT_SOURCE":"projects/seniordesign-e83c6/locations/us-central1/functions/processUploadAndRecommend"},"runtime":"nodejs18","buildId":"1291a92d-c2a8-43fb-b046-a70c1f9dedb7","buildEnvironmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"buildName":"projects/889627653285/locations/us-central1/builds/1291a92d-c2a8-43fb-b046-a70c1f9dedb7","dockerRegistry":"ARTIFACT_REGISTRY","automaticUpdatePolicy":{}},"versionId":"3","updateTime":"2024-04-10T01:41:34Z","buildId":"0b1dddba-8e66-4ec1-825e-576b8017e36e","buildName":"projects/889627653285/locations/us-central1/builds/0b1dddba-8e66-4ec1-825e-576b8017e36e"}}
[debug] [2024-04-10T01:41:41.320Z] [update-default-us-central1-processUploadAndRecommend] Retrying task index 0
[debug] [2024-04-10T01:41:41.321Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v1/operations/c2VuaW9yZGVzaWduLWU4M2M2L3VzLWNlbnRyYWwxL3Byb2Nlc3NVcGxvYWRBbmRSZWNvbW1lbmQvYkdBVk4wOXEwYjg [none]
[debug] [2024-04-10T01:41:41.431Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v1/operations/c2VuaW9yZGVzaWduLWU4M2M2L3VzLWNlbnRyYWwxL3Byb2Nlc3NVcGxvYWRBbmRSZWNvbW1lbmQvYkdBVk4wOXEwYjg 200
[debug] [2024-04-10T01:41:41.431Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v1/operations/c2VuaW9yZGVzaWduLWU4M2M2L3VzLWNlbnRyYWwxL3Byb2Nlc3NVcGxvYWRBbmRSZWNvbW1lbmQvYkdBVk4wOXEwYjg {"name":"operations/c2VuaW9yZGVzaWduLWU4M2M2L3VzLWNlbnRyYWwxL3Byb2Nlc3NVcGxvYWRBbmRSZWNvbW1lbmQvYkdBVk4wOXEwYjg","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v1.OperationMetadataV1","target":"projects/seniordesign-e83c6/locations/us-central1/functions/processUploadAndRecommend","type":"UPDATE_FUNCTION","request":{"@type":"type.googleapis.com/google.cloud.functions.v1.CloudFunction","name":"projects/seniordesign-e83c6/locations/us-central1/functions/processUploadAndRecommend","eventTrigger":{"eventType":"google.storage.object.finalize","resource":"projects/_/buckets/seniordesign-e83c6.appspot.com","service":"storage.googleapis.com"},"status":"OFFLINE","entryPoint":"processUploadAndRecommend","updateTime":"2024-04-10T01:27:35.417Z","versionId":"2","labels":{"deployment-tool":"cli-firebase","firebase-functions-hash":"b00ec4ade0c61bf0e5bf04e7846eba76767c50ed"},"sourceUploadUrl":"https://storage.googleapis.com/uploads-841930861051.us-central1.cloudfunctions.appspot.com/17a10c2b-cbeb-4369-8551-1f1246c18f0c.zip?GoogleAccessId=service-889627653285@gcf-admin-robot.iam.gserviceaccount.com&Expires=1712715093&Signature=JRM0CY%2FejWN5ePRhnCICIsuZR701FxQZ%2BQW6UZImswpiyh%2Bwzpm4vmJ1Q0Vww%2FXDr4CYG5vTs9j3uMBUS4bKctWEUnUc%2FfNh2TGACtKqTt%2FsUAqMfwiQUKA0EY%2BVFPfO5PVzco2Ns6qUdaZTSmpDREqlNHXDpG3DZW4P4YHrMxKl1ZHv16wUcYNCNRJBQ5ytK5u4tt65gLNC2NBXTpPeoKrNPjbKFgJC2FI84%2FfUT1%2BHesI%2B6OgViHcwDpFLdb%2FPN33kqzbtMOAG%2Bvb%2B0MHDKZ6G7S%2FOGj54C5BRnLcm57GspftWac8u2Vxt1XXr5lAKIDSREMdAzLWBz%2FeuV1LNyw%3D%3D","environmentVariables":{"FIREBASE_CONFIG":"{\"projectId\":\"seniordesign-e83c6\",\"databaseURL\":\"https://seniordesign-e83c6-default-rtdb.firebaseio.com\",\"storageBucket\":\"seniordesign-e83c6.appspot.com\",\"locationId\":\"us-central\"}","GCLOUD_PROJECT":"seniordesign-e83c6","EVENTARC_CLOUD_EVENT_SOURCE":"projects/seniordesign-e83c6/locations/us-central1/functions/processUploadAndRecommend"},"runtime":"nodejs18","buildId":"1291a92d-c2a8-43fb-b046-a70c1f9dedb7","buildEnvironmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"buildName":"projects/889627653285/locations/us-central1/builds/1291a92d-c2a8-43fb-b046-a70c1f9dedb7","dockerRegistry":"ARTIFACT_REGISTRY","automaticUpdatePolicy":{}},"versionId":"3","updateTime":"2024-04-10T01:41:34Z","buildId":"0b1dddba-8e66-4ec1-825e-576b8017e36e","buildName":"projects/889627653285/locations/us-central1/builds/0b1dddba-8e66-4ec1-825e-576b8017e36e"}}
[debug] [2024-04-10T01:41:49.442Z] [update-default-us-central1-processUploadAndRecommend] Retrying task index 0
[debug] [2024-04-10T01:41:49.443Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v1/operations/c2VuaW9yZGVzaWduLWU4M2M2L3VzLWNlbnRyYWwxL3Byb2Nlc3NVcGxvYWRBbmRSZWNvbW1lbmQvYkdBVk4wOXEwYjg [none]
[debug] [2024-04-10T01:41:49.606Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v1/operations/c2VuaW9yZGVzaWduLWU4M2M2L3VzLWNlbnRyYWwxL3Byb2Nlc3NVcGxvYWRBbmRSZWNvbW1lbmQvYkdBVk4wOXEwYjg 200
[debug] [2024-04-10T01:41:49.607Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v1/operations/c2VuaW9yZGVzaWduLWU4M2M2L3VzLWNlbnRyYWwxL3Byb2Nlc3NVcGxvYWRBbmRSZWNvbW1lbmQvYkdBVk4wOXEwYjg {"name":"operations/c2VuaW9yZGVzaWduLWU4M2M2L3VzLWNlbnRyYWwxL3Byb2Nlc3NVcGxvYWRBbmRSZWNvbW1lbmQvYkdBVk4wOXEwYjg","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v1.OperationMetadataV1","target":"projects/seniordesign-e83c6/locations/us-central1/functions/processUploadAndRecommend","type":"UPDATE_FUNCTION","request":{"@type":"type.googleapis.com/google.cloud.functions.v1.CloudFunction","name":"projects/seniordesign-e83c6/locations/us-central1/functions/processUploadAndRecommend","eventTrigger":{"eventType":"google.storage.object.finalize","resource":"projects/_/buckets/seniordesign-e83c6.appspot.com","service":"storage.googleapis.com"},"status":"OFFLINE","entryPoint":"processUploadAndRecommend","updateTime":"2024-04-10T01:27:35.417Z","versionId":"2","labels":{"deployment-tool":"cli-firebase","firebase-functions-hash":"b00ec4ade0c61bf0e5bf04e7846eba76767c50ed"},"sourceUploadUrl":"https://storage.googleapis.com/uploads-841930861051.us-central1.cloudfunctions.appspot.com/17a10c2b-cbeb-4369-8551-1f1246c18f0c.zip?GoogleAccessId=service-889627653285@gcf-admin-robot.iam.gserviceaccount.com&Expires=1712715093&Signature=JRM0CY%2FejWN5ePRhnCICIsuZR701FxQZ%2BQW6UZImswpiyh%2Bwzpm4vmJ1Q0Vww%2FXDr4CYG5vTs9j3uMBUS4bKctWEUnUc%2FfNh2TGACtKqTt%2FsUAqMfwiQUKA0EY%2BVFPfO5PVzco2Ns6qUdaZTSmpDREqlNHXDpG3DZW4P4YHrMxKl1ZHv16wUcYNCNRJBQ5ytK5u4tt65gLNC2NBXTpPeoKrNPjbKFgJC2FI84%2FfUT1%2BHesI%2B6OgViHcwDpFLdb%2FPN33kqzbtMOAG%2Bvb%2B0MHDKZ6G7S%2FOGj54C5BRnLcm57GspftWac8u2Vxt1XXr5lAKIDSREMdAzLWBz%2FeuV1LNyw%3D%3D","environmentVariables":{"FIREBASE_CONFIG":"{\"projectId\":\"seniordesign-e83c6\",\"databaseURL\":\"https://seniordesign-e83c6-default-rtdb.firebaseio.com\",\"storageBucket\":\"seniordesign-e83c6.appspot.com\",\"locationId\":\"us-central\"}","GCLOUD_PROJECT":"seniordesign-e83c6","EVENTARC_CLOUD_EVENT_SOURCE":"projects/seniordesign-e83c6/locations/us-central1/functions/processUploadAndRecommend"},"runtime":"nodejs18","buildId":"1291a92d-c2a8-43fb-b046-a70c1f9dedb7","buildEnvironmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"buildName":"projects/889627653285/locations/us-central1/builds/1291a92d-c2a8-43fb-b046-a70c1f9dedb7","dockerRegistry":"ARTIFACT_REGISTRY","automaticUpdatePolicy":{}},"versionId":"3","updateTime":"2024-04-10T01:41:34Z","buildId":"0b1dddba-8e66-4ec1-825e-576b8017e36e","buildName":"projects/889627653285/locations/us-central1/builds/0b1dddba-8e66-4ec1-825e-576b8017e36e"}}
[debug] [2024-04-10T01:41:59.618Z] [update-default-us-central1-processUploadAndRecommend] Retrying task index 0
[debug] [2024-04-10T01:41:59.619Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v1/operations/c2VuaW9yZGVzaWduLWU4M2M2L3VzLWNlbnRyYWwxL3Byb2Nlc3NVcGxvYWRBbmRSZWNvbW1lbmQvYkdBVk4wOXEwYjg [none]
[debug] [2024-04-10T01:41:59.734Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v1/operations/c2VuaW9yZGVzaWduLWU4M2M2L3VzLWNlbnRyYWwxL3Byb2Nlc3NVcGxvYWRBbmRSZWNvbW1lbmQvYkdBVk4wOXEwYjg 200
[debug] [2024-04-10T01:41:59.735Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v1/operations/c2VuaW9yZGVzaWduLWU4M2M2L3VzLWNlbnRyYWwxL3Byb2Nlc3NVcGxvYWRBbmRSZWNvbW1lbmQvYkdBVk4wOXEwYjg {"name":"operations/c2VuaW9yZGVzaWduLWU4M2M2L3VzLWNlbnRyYWwxL3Byb2Nlc3NVcGxvYWRBbmRSZWNvbW1lbmQvYkdBVk4wOXEwYjg","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v1.OperationMetadataV1","target":"projects/seniordesign-e83c6/locations/us-central1/functions/processUploadAndRecommend","type":"UPDATE_FUNCTION","request":{"@type":"type.googleapis.com/google.cloud.functions.v1.CloudFunction","name":"projects/seniordesign-e83c6/locations/us-central1/functions/processUploadAndRecommend","eventTrigger":{"eventType":"google.storage.object.finalize","resource":"projects/_/buckets/seniordesign-e83c6.appspot.com","service":"storage.googleapis.com"},"status":"OFFLINE","entryPoint":"processUploadAndRecommend","updateTime":"2024-04-10T01:27:35.417Z","versionId":"2","labels":{"deployment-tool":"cli-firebase","firebase-functions-hash":"b00ec4ade0c61bf0e5bf04e7846eba76767c50ed"},"sourceUploadUrl":"https://storage.googleapis.com/uploads-841930861051.us-central1.cloudfunctions.appspot.com/17a10c2b-cbeb-4369-8551-1f1246c18f0c.zip?GoogleAccessId=service-889627653285@gcf-admin-robot.iam.gserviceaccount.com&Expires=1712715093&Signature=JRM0CY%2FejWN5ePRhnCICIsuZR701FxQZ%2BQW6UZImswpiyh%2Bwzpm4vmJ1Q0Vww%2FXDr4CYG5vTs9j3uMBUS4bKctWEUnUc%2FfNh2TGACtKqTt%2FsUAqMfwiQUKA0EY%2BVFPfO5PVzco2Ns6qUdaZTSmpDREqlNHXDpG3DZW4P4YHrMxKl1ZHv16wUcYNCNRJBQ5ytK5u4tt65gLNC2NBXTpPeoKrNPjbKFgJC2FI84%2FfUT1%2BHesI%2B6OgViHcwDpFLdb%2FPN33kqzbtMOAG%2Bvb%2B0MHDKZ6G7S%2FOGj54C5BRnLcm57GspftWac8u2Vxt1XXr5lAKIDSREMdAzLWBz%2FeuV1LNyw%3D%3D","environmentVariables":{"FIREBASE_CONFIG":"{\"projectId\":\"seniordesign-e83c6\",\"databaseURL\":\"https://seniordesign-e83c6-default-rtdb.firebaseio.com\",\"storageBucket\":\"seniordesign-e83c6.appspot.com\",\"locationId\":\"us-central\"}","GCLOUD_PROJECT":"seniordesign-e83c6","EVENTARC_CLOUD_EVENT_SOURCE":"projects/seniordesign-e83c6/locations/us-central1/functions/processUploadAndRecommend"},"runtime":"nodejs18","buildId":"1291a92d-c2a8-43fb-b046-a70c1f9dedb7","buildEnvironmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"buildName":"projects/889627653285/locations/us-central1/builds/1291a92d-c2a8-43fb-b046-a70c1f9dedb7","dockerRegistry":"ARTIFACT_REGISTRY","automaticUpdatePolicy":{}},"versionId":"3","updateTime":"2024-04-10T01:41:34Z","buildId":"0b1dddba-8e66-4ec1-825e-576b8017e36e","buildName":"projects/889627653285/locations/us-central1/builds/0b1dddba-8e66-4ec1-825e-576b8017e36e"}}
[debug] [2024-04-10T01:42:09.742Z] [update-default-us-central1-processUploadAndRecommend] Retrying task index 0
[debug] [2024-04-10T01:42:09.743Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v1/operations/c2VuaW9yZGVzaWduLWU4M2M2L3VzLWNlbnRyYWwxL3Byb2Nlc3NVcGxvYWRBbmRSZWNvbW1lbmQvYkdBVk4wOXEwYjg [none]
[debug] [2024-04-10T01:42:09.875Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v1/operations/c2VuaW9yZGVzaWduLWU4M2M2L3VzLWNlbnRyYWwxL3Byb2Nlc3NVcGxvYWRBbmRSZWNvbW1lbmQvYkdBVk4wOXEwYjg 200
[debug] [2024-04-10T01:42:09.876Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v1/operations/c2VuaW9yZGVzaWduLWU4M2M2L3VzLWNlbnRyYWwxL3Byb2Nlc3NVcGxvYWRBbmRSZWNvbW1lbmQvYkdBVk4wOXEwYjg {"name":"operations/c2VuaW9yZGVzaWduLWU4M2M2L3VzLWNlbnRyYWwxL3Byb2Nlc3NVcGxvYWRBbmRSZWNvbW1lbmQvYkdBVk4wOXEwYjg","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v1.OperationMetadataV1","target":"projects/seniordesign-e83c6/locations/us-central1/functions/processUploadAndRecommend","type":"UPDATE_FUNCTION","request":{"@type":"type.googleapis.com/google.cloud.functions.v1.CloudFunction","name":"projects/seniordesign-e83c6/locations/us-central1/functions/processUploadAndRecommend","eventTrigger":{"eventType":"google.storage.object.finalize","resource":"projects/_/buckets/seniordesign-e83c6.appspot.com","service":"storage.googleapis.com"},"status":"OFFLINE","entryPoint":"processUploadAndRecommend","updateTime":"2024-04-10T01:27:35.417Z","versionId":"2","labels":{"deployment-tool":"cli-firebase","firebase-functions-hash":"b00ec4ade0c61bf0e5bf04e7846eba76767c50ed"},"sourceUploadUrl":"https://storage.googleapis.com/uploads-841930861051.us-central1.cloudfunctions.appspot.com/17a10c2b-cbeb-4369-8551-1f1246c18f0c.zip?GoogleAccessId=service-889627653285@gcf-admin-robot.iam.gserviceaccount.com&Expires=1712715093&Signature=JRM0CY%2FejWN5ePRhnCICIsuZR701FxQZ%2BQW6UZImswpiyh%2Bwzpm4vmJ1Q0Vww%2FXDr4CYG5vTs9j3uMBUS4bKctWEUnUc%2FfNh2TGACtKqTt%2FsUAqMfwiQUKA0EY%2BVFPfO5PVzco2Ns6qUdaZTSmpDREqlNHXDpG3DZW4P4YHrMxKl1ZHv16wUcYNCNRJBQ5ytK5u4tt65gLNC2NBXTpPeoKrNPjbKFgJC2FI84%2FfUT1%2BHesI%2B6OgViHcwDpFLdb%2FPN33kqzbtMOAG%2Bvb%2B0MHDKZ6G7S%2FOGj54C5BRnLcm57GspftWac8u2Vxt1XXr5lAKIDSREMdAzLWBz%2FeuV1LNyw%3D%3D","environmentVariables":{"FIREBASE_CONFIG":"{\"projectId\":\"seniordesign-e83c6\",\"databaseURL\":\"https://seniordesign-e83c6-default-rtdb.firebaseio.com\",\"storageBucket\":\"seniordesign-e83c6.appspot.com\",\"locationId\":\"us-central\"}","GCLOUD_PROJECT":"seniordesign-e83c6","EVENTARC_CLOUD_EVENT_SOURCE":"projects/seniordesign-e83c6/locations/us-central1/functions/processUploadAndRecommend"},"runtime":"nodejs18","buildId":"1291a92d-c2a8-43fb-b046-a70c1f9dedb7","buildEnvironmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"buildName":"projects/889627653285/locations/us-central1/builds/1291a92d-c2a8-43fb-b046-a70c1f9dedb7","dockerRegistry":"ARTIFACT_REGISTRY","automaticUpdatePolicy":{}},"versionId":"3","updateTime":"2024-04-10T01:41:34Z","buildId":"0b1dddba-8e66-4ec1-825e-576b8017e36e","buildName":"projects/889627653285/locations/us-central1/builds/0b1dddba-8e66-4ec1-825e-576b8017e36e"}}
[debug] [2024-04-10T01:42:19.885Z] [update-default-us-central1-processUploadAndRecommend] Retrying task index 0
[debug] [2024-04-10T01:42:19.886Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v1/operations/c2VuaW9yZGVzaWduLWU4M2M2L3VzLWNlbnRyYWwxL3Byb2Nlc3NVcGxvYWRBbmRSZWNvbW1lbmQvYkdBVk4wOXEwYjg [none]
[debug] [2024-04-10T01:42:20.047Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v1/operations/c2VuaW9yZGVzaWduLWU4M2M2L3VzLWNlbnRyYWwxL3Byb2Nlc3NVcGxvYWRBbmRSZWNvbW1lbmQvYkdBVk4wOXEwYjg 200
[debug] [2024-04-10T01:42:20.047Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v1/operations/c2VuaW9yZGVzaWduLWU4M2M2L3VzLWNlbnRyYWwxL3Byb2Nlc3NVcGxvYWRBbmRSZWNvbW1lbmQvYkdBVk4wOXEwYjg {"name":"operations/c2VuaW9yZGVzaWduLWU4M2M2L3VzLWNlbnRyYWwxL3Byb2Nlc3NVcGxvYWRBbmRSZWNvbW1lbmQvYkdBVk4wOXEwYjg","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v1.OperationMetadataV1","target":"projects/seniordesign-e83c6/locations/us-central1/functions/processUploadAndRecommend","type":"UPDATE_FUNCTION","request":{"@type":"type.googleapis.com/google.cloud.functions.v1.CloudFunction","name":"projects/seniordesign-e83c6/locations/us-central1/functions/processUploadAndRecommend","eventTrigger":{"eventType":"google.storage.object.finalize","resource":"projects/_/buckets/seniordesign-e83c6.appspot.com","service":"storage.googleapis.com"},"status":"OFFLINE","entryPoint":"processUploadAndRecommend","updateTime":"2024-04-10T01:27:35.417Z","versionId":"2","labels":{"deployment-tool":"cli-firebase","firebase-functions-hash":"b00ec4ade0c61bf0e5bf04e7846eba76767c50ed"},"sourceUploadUrl":"https://storage.googleapis.com/uploads-841930861051.us-central1.cloudfunctions.appspot.com/17a10c2b-cbeb-4369-8551-1f1246c18f0c.zip?GoogleAccessId=service-889627653285@gcf-admin-robot.iam.gserviceaccount.com&Expires=1712715093&Signature=JRM0CY%2FejWN5ePRhnCICIsuZR701FxQZ%2BQW6UZImswpiyh%2Bwzpm4vmJ1Q0Vww%2FXDr4CYG5vTs9j3uMBUS4bKctWEUnUc%2FfNh2TGACtKqTt%2FsUAqMfwiQUKA0EY%2BVFPfO5PVzco2Ns6qUdaZTSmpDREqlNHXDpG3DZW4P4YHrMxKl1ZHv16wUcYNCNRJBQ5ytK5u4tt65gLNC2NBXTpPeoKrNPjbKFgJC2FI84%2FfUT1%2BHesI%2B6OgViHcwDpFLdb%2FPN33kqzbtMOAG%2Bvb%2B0MHDKZ6G7S%2FOGj54C5BRnLcm57GspftWac8u2Vxt1XXr5lAKIDSREMdAzLWBz%2FeuV1LNyw%3D%3D","environmentVariables":{"FIREBASE_CONFIG":"{\"projectId\":\"seniordesign-e83c6\",\"databaseURL\":\"https://seniordesign-e83c6-default-rtdb.firebaseio.com\",\"storageBucket\":\"seniordesign-e83c6.appspot.com\",\"locationId\":\"us-central\"}","GCLOUD_PROJECT":"seniordesign-e83c6","EVENTARC_CLOUD_EVENT_SOURCE":"projects/seniordesign-e83c6/locations/us-central1/functions/processUploadAndRecommend"},"runtime":"nodejs18","buildId":"1291a92d-c2a8-43fb-b046-a70c1f9dedb7","buildEnvironmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"buildName":"projects/889627653285/locations/us-central1/builds/1291a92d-c2a8-43fb-b046-a70c1f9dedb7","dockerRegistry":"ARTIFACT_REGISTRY","automaticUpdatePolicy":{}},"versionId":"3","updateTime":"2024-04-10T01:41:34Z","buildId":"0b1dddba-8e66-4ec1-825e-576b8017e36e","buildName":"projects/889627653285/locations/us-central1/builds/0b1dddba-8e66-4ec1-825e-576b8017e36e"}}
[debug] [2024-04-10T01:42:30.062Z] [update-default-us-central1-processUploadAndRecommend] Retrying task index 0
[debug] [2024-04-10T01:42:30.062Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v1/operations/c2VuaW9yZGVzaWduLWU4M2M2L3VzLWNlbnRyYWwxL3Byb2Nlc3NVcGxvYWRBbmRSZWNvbW1lbmQvYkdBVk4wOXEwYjg [none]
[debug] [2024-04-10T01:42:30.195Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v1/operations/c2VuaW9yZGVzaWduLWU4M2M2L3VzLWNlbnRyYWwxL3Byb2Nlc3NVcGxvYWRBbmRSZWNvbW1lbmQvYkdBVk4wOXEwYjg 200
[debug] [2024-04-10T01:42:30.195Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v1/operations/c2VuaW9yZGVzaWduLWU4M2M2L3VzLWNlbnRyYWwxL3Byb2Nlc3NVcGxvYWRBbmRSZWNvbW1lbmQvYkdBVk4wOXEwYjg {"name":"operations/c2VuaW9yZGVzaWduLWU4M2M2L3VzLWNlbnRyYWwxL3Byb2Nlc3NVcGxvYWRBbmRSZWNvbW1lbmQvYkdBVk4wOXEwYjg","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v1.OperationMetadataV1","target":"projects/seniordesign-e83c6/locations/us-central1/functions/processUploadAndRecommend","type":"UPDATE_FUNCTION","request":{"@type":"type.googleapis.com/google.cloud.functions.v1.CloudFunction","name":"projects/seniordesign-e83c6/locations/us-central1/functions/processUploadAndRecommend","eventTrigger":{"eventType":"google.storage.object.finalize","resource":"projects/_/buckets/seniordesign-e83c6.appspot.com","service":"storage.googleapis.com"},"status":"OFFLINE","entryPoint":"processUploadAndRecommend","updateTime":"2024-04-10T01:27:35.417Z","versionId":"2","labels":{"deployment-tool":"cli-firebase","firebase-functions-hash":"b00ec4ade0c61bf0e5bf04e7846eba76767c50ed"},"sourceUploadUrl":"https://storage.googleapis.com/uploads-841930861051.us-central1.cloudfunctions.appspot.com/17a10c2b-cbeb-4369-8551-1f1246c18f0c.zip?GoogleAccessId=service-889627653285@gcf-admin-robot.iam.gserviceaccount.com&Expires=1712715093&Signature=JRM0CY%2FejWN5ePRhnCICIsuZR701FxQZ%2BQW6UZImswpiyh%2Bwzpm4vmJ1Q0Vww%2FXDr4CYG5vTs9j3uMBUS4bKctWEUnUc%2FfNh2TGACtKqTt%2FsUAqMfwiQUKA0EY%2BVFPfO5PVzco2Ns6qUdaZTSmpDREqlNHXDpG3DZW4P4YHrMxKl1ZHv16wUcYNCNRJBQ5ytK5u4tt65gLNC2NBXTpPeoKrNPjbKFgJC2FI84%2FfUT1%2BHesI%2B6OgViHcwDpFLdb%2FPN33kqzbtMOAG%2Bvb%2B0MHDKZ6G7S%2FOGj54C5BRnLcm57GspftWac8u2Vxt1XXr5lAKIDSREMdAzLWBz%2FeuV1LNyw%3D%3D","environmentVariables":{"FIREBASE_CONFIG":"{\"projectId\":\"seniordesign-e83c6\",\"databaseURL\":\"https://seniordesign-e83c6-default-rtdb.firebaseio.com\",\"storageBucket\":\"seniordesign-e83c6.appspot.com\",\"locationId\":\"us-central\"}","GCLOUD_PROJECT":"seniordesign-e83c6","EVENTARC_CLOUD_EVENT_SOURCE":"projects/seniordesign-e83c6/locations/us-central1/functions/processUploadAndRecommend"},"runtime":"nodejs18","buildId":"1291a92d-c2a8-43fb-b046-a70c1f9dedb7","buildEnvironmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"buildName":"projects/889627653285/locations/us-central1/builds/1291a92d-c2a8-43fb-b046-a70c1f9dedb7","dockerRegistry":"ARTIFACT_REGISTRY","automaticUpdatePolicy":{}},"versionId":"3","updateTime":"2024-04-10T01:41:34Z","buildId":"0b1dddba-8e66-4ec1-825e-576b8017e36e","buildName":"projects/889627653285/locations/us-central1/builds/0b1dddba-8e66-4ec1-825e-576b8017e36e"}}
[debug] [2024-04-10T01:42:40.210Z] [update-default-us-central1-processUploadAndRecommend] Retrying task index 0
[debug] [2024-04-10T01:42:40.210Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v1/operations/c2VuaW9yZGVzaWduLWU4M2M2L3VzLWNlbnRyYWwxL3Byb2Nlc3NVcGxvYWRBbmRSZWNvbW1lbmQvYkdBVk4wOXEwYjg [none]
[debug] [2024-04-10T01:42:40.409Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v1/operations/c2VuaW9yZGVzaWduLWU4M2M2L3VzLWNlbnRyYWwxL3Byb2Nlc3NVcGxvYWRBbmRSZWNvbW1lbmQvYkdBVk4wOXEwYjg 200
[debug] [2024-04-10T01:42:40.409Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v1/operations/c2VuaW9yZGVzaWduLWU4M2M2L3VzLWNlbnRyYWwxL3Byb2Nlc3NVcGxvYWRBbmRSZWNvbW1lbmQvYkdBVk4wOXEwYjg {"name":"operations/c2VuaW9yZGVzaWduLWU4M2M2L3VzLWNlbnRyYWwxL3Byb2Nlc3NVcGxvYWRBbmRSZWNvbW1lbmQvYkdBVk4wOXEwYjg","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v1.OperationMetadataV1","target":"projects/seniordesign-e83c6/locations/us-central1/functions/processUploadAndRecommend","type":"UPDATE_FUNCTION","request":{"@type":"type.googleapis.com/google.cloud.functions.v1.CloudFunction","name":"projects/seniordesign-e83c6/locations/us-central1/functions/processUploadAndRecommend","eventTrigger":{"eventType":"google.storage.object.finalize","resource":"projects/_/buckets/seniordesign-e83c6.appspot.com","service":"storage.googleapis.com"},"status":"OFFLINE","entryPoint":"processUploadAndRecommend","updateTime":"2024-04-10T01:27:35.417Z","versionId":"2","labels":{"deployment-tool":"cli-firebase","firebase-functions-hash":"b00ec4ade0c61bf0e5bf04e7846eba76767c50ed"},"sourceUploadUrl":"https://storage.googleapis.com/uploads-841930861051.us-central1.cloudfunctions.appspot.com/17a10c2b-cbeb-4369-8551-1f1246c18f0c.zip?GoogleAccessId=service-889627653285@gcf-admin-robot.iam.gserviceaccount.com&Expires=1712715093&Signature=JRM0CY%2FejWN5ePRhnCICIsuZR701FxQZ%2BQW6UZImswpiyh%2Bwzpm4vmJ1Q0Vww%2FXDr4CYG5vTs9j3uMBUS4bKctWEUnUc%2FfNh2TGACtKqTt%2FsUAqMfwiQUKA0EY%2BVFPfO5PVzco2Ns6qUdaZTSmpDREqlNHXDpG3DZW4P4YHrMxKl1ZHv16wUcYNCNRJBQ5ytK5u4tt65gLNC2NBXTpPeoKrNPjbKFgJC2FI84%2FfUT1%2BHesI%2B6OgViHcwDpFLdb%2FPN33kqzbtMOAG%2Bvb%2B0MHDKZ6G7S%2FOGj54C5BRnLcm57GspftWac8u2Vxt1XXr5lAKIDSREMdAzLWBz%2FeuV1LNyw%3D%3D","environmentVariables":{"FIREBASE_CONFIG":"{\"projectId\":\"seniordesign-e83c6\",\"databaseURL\":\"https://seniordesign-e83c6-default-rtdb.firebaseio.com\",\"storageBucket\":\"seniordesign-e83c6.appspot.com\",\"locationId\":\"us-central\"}","GCLOUD_PROJECT":"seniordesign-e83c6","EVENTARC_CLOUD_EVENT_SOURCE":"projects/seniordesign-e83c6/locations/us-central1/functions/processUploadAndRecommend"},"runtime":"nodejs18","buildId":"1291a92d-c2a8-43fb-b046-a70c1f9dedb7","buildEnvironmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"buildName":"projects/889627653285/locations/us-central1/builds/1291a92d-c2a8-43fb-b046-a70c1f9dedb7","dockerRegistry":"ARTIFACT_REGISTRY","automaticUpdatePolicy":{}},"versionId":"3","updateTime":"2024-04-10T01:41:34Z","buildId":"0b1dddba-8e66-4ec1-825e-576b8017e36e","sourceToken":"6b341747-e549-482e-a9a6-f33b1f403486","buildName":"projects/889627653285/locations/us-central1/builds/0b1dddba-8e66-4ec1-825e-576b8017e36e"}}
[debug] [2024-04-10T01:42:40.409Z] Got source token 6b341747-e549-482e-a9a6-f33b1f403486 for region us-central1
[debug] [2024-04-10T01:42:50.415Z] [update-default-us-central1-processUploadAndRecommend] Retrying task index 0
[debug] [2024-04-10T01:42:50.415Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v1/operations/c2VuaW9yZGVzaWduLWU4M2M2L3VzLWNlbnRyYWwxL3Byb2Nlc3NVcGxvYWRBbmRSZWNvbW1lbmQvYkdBVk4wOXEwYjg [none]
[debug] [2024-04-10T01:42:50.545Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v1/operations/c2VuaW9yZGVzaWduLWU4M2M2L3VzLWNlbnRyYWwxL3Byb2Nlc3NVcGxvYWRBbmRSZWNvbW1lbmQvYkdBVk4wOXEwYjg 200
[debug] [2024-04-10T01:42:50.545Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v1/operations/c2VuaW9yZGVzaWduLWU4M2M2L3VzLWNlbnRyYWwxL3Byb2Nlc3NVcGxvYWRBbmRSZWNvbW1lbmQvYkdBVk4wOXEwYjg {"name":"operations/c2VuaW9yZGVzaWduLWU4M2M2L3VzLWNlbnRyYWwxL3Byb2Nlc3NVcGxvYWRBbmRSZWNvbW1lbmQvYkdBVk4wOXEwYjg","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v1.OperationMetadataV1","target":"projects/seniordesign-e83c6/locations/us-central1/functions/processUploadAndRecommend","type":"UPDATE_FUNCTION","request":{"@type":"type.googleapis.com/google.cloud.functions.v1.CloudFunction","name":"projects/seniordesign-e83c6/locations/us-central1/functions/processUploadAndRecommend","eventTrigger":{"eventType":"google.storage.object.finalize","resource":"projects/_/buckets/seniordesign-e83c6.appspot.com","service":"storage.googleapis.com"},"status":"OFFLINE","entryPoint":"processUploadAndRecommend","updateTime":"2024-04-10T01:27:35.417Z","versionId":"2","labels":{"deployment-tool":"cli-firebase","firebase-functions-hash":"b00ec4ade0c61bf0e5bf04e7846eba76767c50ed"},"sourceUploadUrl":"https://storage.googleapis.com/uploads-841930861051.us-central1.cloudfunctions.appspot.com/17a10c2b-cbeb-4369-8551-1f1246c18f0c.zip?GoogleAccessId=service-889627653285@gcf-admin-robot.iam.gserviceaccount.com&Expires=1712715093&Signature=JRM0CY%2FejWN5ePRhnCICIsuZR701FxQZ%2BQW6UZImswpiyh%2Bwzpm4vmJ1Q0Vww%2FXDr4CYG5vTs9j3uMBUS4bKctWEUnUc%2FfNh2TGACtKqTt%2FsUAqMfwiQUKA0EY%2BVFPfO5PVzco2Ns6qUdaZTSmpDREqlNHXDpG3DZW4P4YHrMxKl1ZHv16wUcYNCNRJBQ5ytK5u4tt65gLNC2NBXTpPeoKrNPjbKFgJC2FI84%2FfUT1%2BHesI%2B6OgViHcwDpFLdb%2FPN33kqzbtMOAG%2Bvb%2B0MHDKZ6G7S%2FOGj54C5BRnLcm57GspftWac8u2Vxt1XXr5lAKIDSREMdAzLWBz%2FeuV1LNyw%3D%3D","environmentVariables":{"FIREBASE_CONFIG":"{\"projectId\":\"seniordesign-e83c6\",\"databaseURL\":\"https://seniordesign-e83c6-default-rtdb.firebaseio.com\",\"storageBucket\":\"seniordesign-e83c6.appspot.com\",\"locationId\":\"us-central\"}","GCLOUD_PROJECT":"seniordesign-e83c6","EVENTARC_CLOUD_EVENT_SOURCE":"projects/seniordesign-e83c6/locations/us-central1/functions/processUploadAndRecommend"},"runtime":"nodejs18","buildId":"1291a92d-c2a8-43fb-b046-a70c1f9dedb7","buildEnvironmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"buildName":"projects/889627653285/locations/us-central1/builds/1291a92d-c2a8-43fb-b046-a70c1f9dedb7","dockerRegistry":"ARTIFACT_REGISTRY","automaticUpdatePolicy":{}},"versionId":"3","updateTime":"2024-04-10T01:42:48Z","buildId":"0b1dddba-8e66-4ec1-825e-576b8017e36e","sourceToken":"6b341747-e549-482e-a9a6-f33b1f403486","buildName":"projects/889627653285/locations/us-central1/builds/0b1dddba-8e66-4ec1-825e-576b8017e36e"},"done":true,"error":{"code":3,"message":"Function failed on loading user code. This is likely due to a bug in the user code. Error message: Provided module can't be loaded.\nDid you list all required modules in the package.json dependencies?\nDetailed stack trace: Error: Cannot find module 'openai'\nRequire stack:\n- /workspace/index.js\n- /layers/google.nodejs.functions-framework/functions-framework/node_modules/@google-cloud/functions-framework/build/src/loader.js\n- /layers/google.nodejs.functions-framework/functions-framework/node_modules/@google-cloud/functions-framework/build/src/main.js\n    at Module._resolveFilename (node:internal/modules/cjs/loader:1140:15)\n    at Module._load (node:internal/modules/cjs/loader:981:27)\n    at Module.require (node:internal/modules/cjs/loader:1231:19)\n    at require (node:internal/modules/helpers:177:18)\n    at Object.<anonymous> (/workspace/index.js:7:20)\n    at Module._compile (node:internal/modules/cjs/loader:1364:14)\n    at Module._extensions..js (node:internal/modules/cjs/loader:1422:10)\n    at Module.load (node:internal/modules/cjs/loader:1203:32)\n    at Module._load (node:internal/modules/cjs/loader:1019:12)\n    at Module.require (node:internal/modules/cjs/loader:1231:19)\nCould not load the function, shutting down.. Please visit https://cloud.google.com/functions/docs/troubleshooting for in-depth troubleshooting documentation."}}
[debug] [2024-04-10T01:42:50.545Z] Got source token 6b341747-e549-482e-a9a6-f33b1f403486 for region us-central1
[error] Function failed on loading user code. This is likely due to a bug in the user code. Error message: Provided module can't be loaded.
Did you list all required modules in the package.json dependencies?
Detailed stack trace: Error: Cannot find module 'openai'
Require stack:
- /workspace/index.js
- /layers/google.nodejs.functions-framework/functions-framework/node_modules/@google-cloud/functions-framework/build/src/loader.js
- /layers/google.nodejs.functions-framework/functions-framework/node_modules/@google-cloud/functions-framework/build/src/main.js
    at Module._resolveFilename (node:internal/modules/cjs/loader:1140:15)
    at Module._load (node:internal/modules/cjs/loader:981:27)
    at Module.require (node:internal/modules/cjs/loader:1231:19)
    at require (node:internal/modules/helpers:177:18)
    at Object.<anonymous> (/workspace/index.js:7:20)
    at Module._compile (node:internal/modules/cjs/loader:1364:14)
    at Module._extensions..js (node:internal/modules/cjs/loader:1422:10)
    at Module.load (node:internal/modules/cjs/loader:1203:32)
    at Module._load (node:internal/modules/cjs/loader:1019:12)
    at Module.require (node:internal/modules/cjs/loader:1231:19)
Could not load the function, shutting down.. Please visit https://cloud.google.com/functions/docs/troubleshooting for in-depth troubleshooting documentation.
[debug] [2024-04-10T01:42:50.552Z] Total Function Deployment time: 77774
[debug] [2024-04-10T01:42:50.553Z] 1 Functions Deployed
[debug] [2024-04-10T01:42:50.553Z] 1 Functions Errored
[debug] [2024-04-10T01:42:50.553Z] 0 Function Deployments Aborted
[debug] [2024-04-10T01:42:50.553Z] Average Function Deployment time: 77773
[info] 
[info] Functions deploy had errors with the following functions:
	processUploadAndRecommend(us-central1)
[info] i  functions: cleaning up build files... 
[debug] [2024-04-10T01:42:50.613Z] >>> [apiv2][query] DELETE https://artifactregistry.googleapis.com/v1beta2/projects/seniordesign-e83c6/locations/us-central1/repositories/gcf-artifacts/packages/process_upload_and_recommend [none]
[debug] [2024-04-10T01:42:50.615Z] >>> [apiv2][query] GET https://us.gcr.io/v2/seniordesign-e83c6/gcf/us-central1/tags/list [none]
[debug] [2024-04-10T01:42:50.778Z] <<< [apiv2][status] GET https://us.gcr.io/v2/seniordesign-e83c6/gcf/us-central1/tags/list 404
[debug] [2024-04-10T01:42:50.778Z] <<< [apiv2][body] GET https://us.gcr.io/v2/seniordesign-e83c6/gcf/us-central1/tags/list {"errors":[{"code":"NAME_UNKNOWN","message":"Repository \"us.gcr.io\" not found"}]}
[debug] [2024-04-10T01:42:50.779Z] Failed docker command with error  HTTP Error: 404, Not Found {"name":"FirebaseError","children":[],"context":{"body":{"errors":[{"code":"NAME_UNKNOWN","message":"Repository \"us.gcr.io\" not found"}],"error":{"message":"Not Found"}},"response":{"statusCode":404}},"exit":1,"message":"HTTP Error: 404, Not Found","status":404}
[debug] [2024-04-10T01:42:50.782Z] >>> [apiv2][query] GET https://us.gcr.io/v2/seniordesign-e83c6/gcf/us-central1/tags/list [none]
[debug] [2024-04-10T01:42:50.784Z] <<< [apiv2][status] DELETE https://artifactregistry.googleapis.com/v1beta2/projects/seniordesign-e83c6/locations/us-central1/repositories/gcf-artifacts/packages/process_upload_and_recommend 200
[debug] [2024-04-10T01:42:50.784Z] <<< [apiv2][body] DELETE https://artifactregistry.googleapis.com/v1beta2/projects/seniordesign-e83c6/locations/us-central1/repositories/gcf-artifacts/packages/process_upload_and_recommend {"name":"projects/seniordesign-e83c6/locations/us-central1/operations/f635c34c-2b10-4390-9dd7-7c96ecd62314","metadata":{"@type":"type.googleapis.com/google.devtools.artifactregistry.v1beta2.OperationMetadata"}}
[debug] [2024-04-10T01:42:50.785Z] >>> [apiv2][query] GET https://artifactregistry.googleapis.com/v1beta2/projects/seniordesign-e83c6/locations/us-central1/operations/f635c34c-2b10-4390-9dd7-7c96ecd62314 [none]
[debug] [2024-04-10T01:42:50.895Z] <<< [apiv2][status] GET https://us.gcr.io/v2/seniordesign-e83c6/gcf/us-central1/tags/list 404
[debug] [2024-04-10T01:42:50.895Z] <<< [apiv2][body] GET https://us.gcr.io/v2/seniordesign-e83c6/gcf/us-central1/tags/list {"errors":[{"code":"NAME_UNKNOWN","message":"Repository \"us.gcr.io\" not found"}]}
[debug] [2024-04-10T01:42:50.895Z] Failed docker command with error  HTTP Error: 404, Not Found {"name":"FirebaseError","children":[],"context":{"body":{"errors":[{"code":"NAME_UNKNOWN","message":"Repository \"us.gcr.io\" not found"}],"error":{"message":"Not Found"}},"response":{"statusCode":404}},"exit":1,"message":"HTTP Error: 404, Not Found","status":404}
[debug] [2024-04-10T01:42:50.907Z] <<< [apiv2][status] GET https://artifactregistry.googleapis.com/v1beta2/projects/seniordesign-e83c6/locations/us-central1/operations/f635c34c-2b10-4390-9dd7-7c96ecd62314 200
[debug] [2024-04-10T01:42:50.907Z] <<< [apiv2][body] GET https://artifactregistry.googleapis.com/v1beta2/projects/seniordesign-e83c6/locations/us-central1/operations/f635c34c-2b10-4390-9dd7-7c96ecd62314 {"name":"projects/seniordesign-e83c6/locations/us-central1/operations/f635c34c-2b10-4390-9dd7-7c96ecd62314","metadata":{"@type":"type.googleapis.com/google.devtools.artifactregistry.v1beta2.OperationMetadata"},"done":true,"response":{"@type":"type.googleapis.com/google.protobuf.Empty"}}
[debug] [2024-04-10T01:42:51.006Z] >>> [apiv2][query] GET https://us.gcr.io/v2/seniordesign-e83c6/gcf/us-central1/tags/list [none]
[debug] [2024-04-10T01:42:51.087Z] <<< [apiv2][status] GET https://us.gcr.io/v2/seniordesign-e83c6/gcf/us-central1/tags/list 404
[debug] [2024-04-10T01:42:51.087Z] <<< [apiv2][body] GET https://us.gcr.io/v2/seniordesign-e83c6/gcf/us-central1/tags/list {"errors":[{"code":"NAME_UNKNOWN","message":"Repository \"us.gcr.io\" not found"}]}
[debug] [2024-04-10T01:42:51.087Z] Failed docker command with error  HTTP Error: 404, Not Found {"name":"FirebaseError","children":[],"context":{"body":{"errors":[{"code":"NAME_UNKNOWN","message":"Repository \"us.gcr.io\" not found"}],"error":{"message":"Not Found"}},"response":{"statusCode":404}},"exit":1,"message":"HTTP Error: 404, Not Found","status":404}
[warn] !  functions: Unhandled error cleaning up build images. This could result in a small monthly bill if not corrected. You can attempt to delete these images by redeploying or you can delete them manually at https://console.cloud.google.com/gcr/images/seniordesign-e83c6/us/gcf 
[debug] [2024-04-10T01:42:51.088Z] Functions deploy failed.
[debug] [2024-04-10T01:42:51.089Z] {
  "endpoint": {
    "id": "processUploadAndRecommend",
    "project": "seniordesign-e83c6",
    "region": "us-central1",
    "entryPoint": "processUploadAndRecommend",
    "platform": "gcfv1",
    "runtime": "nodejs18",
    "eventTrigger": {
      "eventType": "google.storage.object.finalize",
      "retry": false,
      "eventFilters": {
        "resource": "projects/_/buckets/seniordesign-e83c6.appspot.com"
      }
    },
    "labels": {
      "deployment-tool": "cli-firebase"
    },
    "ingressSettings": null,
    "availableMemoryMb": null,
    "serviceAccount": null,
    "timeoutSeconds": null,
    "maxInstances": null,
    "minInstances": null,
    "vpc": null,
    "environmentVariables": {
      "FIREBASE_CONFIG": "{\"projectId\":\"seniordesign-e83c6\",\"databaseURL\":\"https://seniordesign-e83c6-default-rtdb.firebaseio.com\",\"storageBucket\":\"seniordesign-e83c6.appspot.com\",\"locationId\":\"us-central\"}",
      "GCLOUD_PROJECT": "seniordesign-e83c6",
      "EVENTARC_CLOUD_EVENT_SOURCE": "projects/seniordesign-e83c6/locations/us-central1/functions/processUploadAndRecommend"
    },
    "codebase": "default",
    "securityLevel": "SECURE_ALWAYS",
    "targetedByOnly": false,
    "hash": "b00ec4ade0c61bf0e5bf04e7846eba76767c50ed"
  },
  "op": "update",
  "original": {
    "name": "FirebaseError",
    "children": [],
    "exit": 1,
    "message": "Function failed on loading user code. This is likely due to a bug in the user code. Error message: Provided module can't be loaded.\nDid you list all required modules in the package.json dependencies?\nDetailed stack trace: Error: Cannot find module 'openai'\nRequire stack:\n- /workspace/index.js\n- /layers/google.nodejs.functions-framework/functions-framework/node_modules/@google-cloud/functions-framework/build/src/loader.js\n- /layers/google.nodejs.functions-framework/functions-framework/node_modules/@google-cloud/functions-framework/build/src/main.js\n    at Module._resolveFilename (node:internal/modules/cjs/loader:1140:15)\n    at Module._load (node:internal/modules/cjs/loader:981:27)\n    at Module.require (node:internal/modules/cjs/loader:1231:19)\n    at require (node:internal/modules/helpers:177:18)\n    at Object.<anonymous> (/workspace/index.js:7:20)\n    at Module._compile (node:internal/modules/cjs/loader:1364:14)\n    at Module._extensions..js (node:internal/modules/cjs/loader:1422:10)\n    at Module.load (node:internal/modules/cjs/loader:1203:32)\n    at Module._load (node:internal/modules/cjs/loader:1019:12)\n    at Module.require (node:internal/modules/cjs/loader:1231:19)\nCould not load the function, shutting down.. Please visit https://cloud.google.com/functions/docs/troubleshooting for in-depth troubleshooting documentation.",
    "status": 3,
    "code": 3
  }
}
[debug] [2024-04-10T01:42:51.124Z] Error: Failed to update function processUploadAndRecommend in region us-central1
    at C:\Users\natcl\AppData\Roaming\npm\node_modules\firebase-tools\lib\deploy\functions\release\fabricator.js:51:11
    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)
    at async Fabricator.updateV1Function (C:\Users\natcl\AppData\Roaming\npm\node_modules\firebase-tools\lib\deploy\functions\release\fabricator.js:349:32)
    at async Fabricator.updateEndpoint (C:\Users\natcl\AppData\Roaming\npm\node_modules\firebase-tools\lib\deploy\functions\release\fabricator.js:151:13)
    at async handle (C:\Users\natcl\AppData\Roaming\npm\node_modules\firebase-tools\lib\deploy\functions\release\fabricator.js:88:17)
[error] 
[error] Error: There was an error deploying functions
